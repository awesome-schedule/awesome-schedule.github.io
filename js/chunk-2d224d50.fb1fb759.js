(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224d50"],{e28e:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"bg-light sidebar"},[e._m(0),s("div",{staticClass:"input-group mt-2"},[e.realtime?s("input",{ref:"classSearch",staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Title/Topic/Prof./Desc.",disabled:!e.workerLoaded},on:{input:function(t){return e.onInput(t.target.value)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getClass(t.target.value)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.closeClassList()}}}):s("input",{ref:"classSearch",staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Title/Topic/Prof./Desc.",disabled:!e.workerLoaded},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getClass(t.target.value)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.closeClassList()}}}),s("div",{staticClass:"input-group-append"},[e.loading?s("div",{staticClass:"spinner-border my-auto text-primary mx-1",staticStyle:{width:"1.4rem",height:"1.4rem"},attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[e._v("Loading...")])]):s("span",{staticClass:"input-group-text px-2 click-icon"},[s("i",{staticClass:"fas fa-search"})])])]),e.inputCourses.length?s("div",{ref:"classList",staticClass:"card card-body p-1"},[s("ClassList",{ref:"enteringClassList",attrs:{courses:e.inputCourses,matches:e.inputMatches,schedule:e.schedule.currentSchedule,"is-entering":!0,"show-classlist-title":e.display.showClasslistTitle,"expand-on-entering":e.display.expandOnEntering},on:{"update-course":e.updateCourse,"course-modal":function(t){return e.modal.showCourseModal(t.crs,t.match)},close:function(t){return e.closeClassList()}}})],1):s("div",{staticClass:"mx-3 my-2"},[s("div",{staticClass:"form-group row no-gutters mt-0 mb-1 mx-2"},[e._m(1),s("div",[s("div",{staticClass:"custom-control custom-checkbox ml-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.realtime,expression:"realtime"}],staticClass:"custom-control-input",attrs:{id:"realtime",type:"checkbox"},domProps:{checked:Array.isArray(e.realtime)?e._i(e.realtime,null)>-1:e.realtime},on:{change:function(t){var s=e.realtime,a=t.target,r=!!a.checked;if(Array.isArray(s)){var i=null,o=e._i(s,i);a.checked?o<0&&(e.realtime=s.concat([i])):o>-1&&(e.realtime=s.slice(0,o).concat(s.slice(o+1)))}else e.realtime=r}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"realtime"}})])])]),e._m(2)])])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"btn btn-info nav-btn"},[e._v(" Fuzzy Search "),s("span",{staticClass:"badge badge-secondary"},[e._v("Beta")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("label",{staticClass:"m-0",attrs:{for:"realtime"}},[s("small",[e._v("Real Time")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ol",{staticClass:"pl-2"},[s("li",{staticClass:"mb-2 pl-1"},[e._v(" You should use fuzzy search only when you want do an "),s("b",[e._v("approximate")]),e._v(" match to your query. If you know exactly what your target course's course number/title/etc., please use the ordinary search instead. ")]),s("li",{staticClass:"mb-2 pl-1"},[e._v(" Searching for course numbers (e.g. CS 2102) is not supported. ")])])}],i=(s("ddb0"),s("9ab4")),o=s("0613"),n=s("60a3"),l=s("4b4d");let c=class extends o["b"]{constructor(){super(...arguments),this.inputCourses=[],this.inputMatches=[],this.loading=!1,this.workerLoaded=!!window.catalog.worker,this.realtime=!0}async initWorker(){window.catalog.worker||(this.loading=!0,this.noti.info("Gathering data for fuzzy search..."),await window.catalog.initWorker(),this.noti.success("Success!",2.5),this.loading=!1,this.workerLoaded=!0)}mounted(){this.workerLoaded||this.initWorker()}destroyed(){this.workerLoaded&&this.disposeWorker()}onInput(e){this.realtime?this.getClass(e):e||this.getClass("")}disposeWorker(){window.catalog.disposeWorker(),this.workerLoaded=!1}async getClass(e){if(!e)return this.inputCourses=[],void(this.inputMatches=[]);this.loading=!0,this.schedule.generated&&this.schedule.switchSchedule(!1),window.catalog.initWorker();try{[this.inputCourses,this.inputMatches]=await window.catalog.fuzzySearch(e)}catch(t){this.noti.error(t.message),console.error(t)}finally{this.loading=!1}}closeClassList(){this.$refs.classSearch.value="",this.getClass("")}updateCourse(e,t,s=0,a=!1){this.schedule.currentSchedule.update(e,t,s,a);const r=this.$refs.enteringClassList;r instanceof n["c"]&&r.$forceUpdate(),this.saveStatus()}};c=Object(i["a"])([Object(n["a"])({components:{ClassList:l["a"]}})],c);var u=c,d=u,h=s("2877"),p=Object(h["a"])(d,a,r,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d224d50.fb1fb759.js.map