{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/ClassList.vue?175f","webpack:///./src/workers/SearchWorker.ts","webpack:///./src/components/Expand.vue?7d37","webpack:///external \"vuedraggable\"","webpack:///external \"bootstrap\"","webpack:///./src/components/modals/CourseModal.vue?98cd","webpack:///./src/components/Expand.vue?6586","webpack:///./src/components/tabs/External.vue?ab8d","webpack:///external \"Vue\"","webpack:///./src/assets/placeholder.jpg","webpack:///./src/components/CourseBlock.vue?7039","webpack:///external \"Papa\"","webpack:///./src/assets/cover.jpg","webpack:///./src/components/tabs/PaletteView.vue?a55d","webpack:///./src/components/GridSchedule.vue?2daa","webpack:///./src/components/tabs/ExportView.vue?6bf0","webpack:///external \"jQuery\"","webpack:///./src/components/modals/SectionModal.vue?b7b9","webpack:///./src/algorithm/Graph.ts","webpack:///./src/models/Event.ts","webpack:///./src/models/ScheduleBlock.ts","webpack:///./src/models/Section.ts","webpack:///./src/data/ColorSchemes.ts","webpack:///./src/models/Schedule.ts","webpack:///./src/utils/time.ts","webpack:///./src/utils/other.ts","webpack:///./src/utils/ICal.ts","webpack:///./src/App.vue?5de0","webpack:///./src/components/MainContent.vue?8e8f","webpack:///./src/algorithm/Searcher.ts","webpack:///./src/models/Catalog.ts","webpack:///./src/models/Course.ts","webpack:///./src/models/Meeting.ts","webpack:///./src/config.example.ts","webpack:///./src/config.ts","webpack:///./src/models/ProposedSchedule.ts","webpack:///./src/models/GeneratedSchedule.ts","webpack:///./src/algorithm/ScheduleEvaluator.ts","webpack:///./src/algorithm/ScheduleGenerator.ts","webpack:///./src/store/display.ts","webpack:///./src/store/notification.ts","webpack:///./src/store/filter.ts","webpack:///./src/store/modal.ts","webpack:///./src/store/palette.ts","webpack:///./src/store/profile.ts","webpack:///./src/store/schedule.ts","webpack:///./src/data/Loader.ts","webpack:///./src/data/SemesterListLoader.ts","webpack:///./src/data/CatalogDB.ts","webpack:///./src/data/CatalogLoader.ts","webpack:///./src/store/semester.ts","webpack:///./src/store/status.ts","webpack:///./src/store/store.ts","webpack:///./src/store/watch.ts","webpack:///./src/store/index.ts","webpack:///./src/components/MainContent.ts","webpack:///./src/components/Expand.vue?e9be","webpack:///./src/components/MainContent.ts?ac56","webpack:///./src/components/MainContent.vue?ee72","webpack:///./src/components/tabs/ClassView.vue?bf97","webpack:///./src/components/ClassList.vue?cdf9","webpack:///src/components/Expand.vue","webpack:///./src/components/Expand.vue?f808","webpack:///./src/components/ClassList.ts","webpack:///./src/components/ClassList.ts?590a","webpack:///./src/components/ClassList.vue?4077","webpack:///./src/components/tabs/ClassView.ts","webpack:///./src/components/tabs/ClassView.ts?60d5","webpack:///./src/components/tabs/ClassView.vue","webpack:///./src/components/tabs/CompareView.vue?b8e6","webpack:///./src/components/GridSchedule.vue?eadd","webpack:///./src/components/CourseBlock.vue?66b6","webpack:///./src/components/CourseBlock.ts","webpack:///./src/components/CourseBlock.ts?9857","webpack:///./src/components/CourseBlock.vue?1889","webpack:///./src/components/GridSchedule.ts","webpack:///./src/components/GridSchedule.ts?ebe0","webpack:///./src/components/GridSchedule.vue?9461","webpack:///./src/components/tabs/CompareView.ts","webpack:///./src/components/tabs/CompareView.ts?e998","webpack:///./src/components/tabs/CompareView.vue","webpack:///./src/components/tabs/DisplayView.vue?9b4c","webpack:///./src/components/tabs/DisplayView.ts","webpack:///./src/components/tabs/DisplayView.ts?2989","webpack:///./src/components/tabs/DisplayView.vue","webpack:///./src/components/tabs/EventView.vue?29ba","webpack:///./src/components/tabs/EventView.ts","webpack:///./src/components/tabs/EventView.ts?e73a","webpack:///./src/components/tabs/EventView.vue","webpack:///./src/components/tabs/ExportView.vue?6850","webpack:///./src/components/tabs/ExportView.ts","webpack:///./src/components/tabs/ExportView.ts?1909","webpack:///./src/components/tabs/ExportView.vue?0260","webpack:///./src/components/tabs/External.vue?4630","webpack:///./src/components/tabs/External.vue","webpack:///./src/components/tabs/External.vue?d415","webpack:///./src/components/tabs/External.vue?5021","webpack:///./src/components/tabs/FilterView.vue?3111","webpack:///./src/components/tabs/FilterView.ts","webpack:///./src/components/tabs/FilterView.ts?1424","webpack:///./src/components/tabs/FilterView.vue","webpack:///./src/components/tabs/PaletteView.vue?4116","webpack:///./src/components/tabs/PaletteView.ts","webpack:///./src/components/tabs/PaletteView.ts?a243","webpack:///./src/components/tabs/PaletteView.vue?0bf4","webpack:///./src/components/tabs/FuzzyView.vue?c1de","webpack:///./src/components/tabs/FuzzyView.ts","webpack:///./src/components/tabs/FuzzyView.ts?1d9f","webpack:///./src/components/tabs/FuzzyView.vue","webpack:///./src/components/tabs/LogView.vue?64e1","webpack:///./src/components/tabs/LogView.ts","webpack:///./src/components/tabs/LogView.ts?c33e","webpack:///./src/components/tabs/LogView.vue","webpack:///./src/components/DateSeparator.vue?30f9","webpack:///./src/components/DateSeparator.ts","webpack:///./src/components/DateSeparator.ts?7461","webpack:///./src/components/DateSeparator.vue","webpack:///./src/components/Pagination.vue?85b0","webpack:///./src/components/Pagination.ts","webpack:///./src/components/Pagination.ts?1537","webpack:///./src/components/Pagination.vue","webpack:///./src/components/modals/CourseModal.vue?2bb4","webpack:///./src/components/modals/CourseModal.ts","webpack:///./src/components/modals/CourseModal.ts?1042","webpack:///./src/components/modals/CourseModal.vue?055b","webpack:///./src/components/modals/SectionModal.vue?72e1","webpack:///./src/components/modals/SectionModal.ts","webpack:///./src/components/modals/SectionModal.ts?711b","webpack:///./src/components/modals/SectionModal.vue?0442","webpack:///./src/components/modals/URLModal.vue?f8d6","webpack:///./src/components/modals/URLModal.ts","webpack:///./src/components/modals/URLModal.ts?d720","webpack:///./src/components/modals/URLModal.vue","webpack:///./src/components/modals/VersionModal.vue?48ab","webpack:///./src/components/modals/VersionModal.ts","webpack:///./src/components/modals/VersionModal.ts?9554","webpack:///./src/components/modals/VersionModal.vue","webpack:///./src/data/BuildingLoader.ts","webpack:///./src/App.ts","webpack:///./src/App.ts?1f59","webpack:///./src/App.vue?bff9","webpack:///./src/main.ts","webpack:///./src/components/MainContent.vue?c84b"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","Worker","vuedraggable","bootstrap","Vue","Papa","jQuery","Vertex","val","depth","visited","pathDepth","intervalScheduling","blocks","assignment","sort","b1","b2","startMin","queue","endMin","r1","r2","numRooms","earliestEnd","roomIdx","peek","pop","calculateMaxDepth","adjList","values","graph","Map","vertices","map","_","set","x","v1","v2","start","depthFirstSearchRec","adj","days","display","title","description","room","this","Boolean","obj","hashCode","parseTimeAsTimeArray","background","end","section","foreground","foregroundLight","left","width","strong","hr24toInt","duration","other","includeEnd","olap","calcOverlap","course","department","number","units","mask","msg","count","maxLevel","Validity","valid","level","msgStr","Math","max","len","meetings","every","reduce","acc","v","dates","dayArray","searcher","buildingSearcher","meeting","tmp1","parseTimeAll","Int16Array","date","timeBlock","day","dayBlock","dayToInt","idx","rating","findBestMatch","warn","timeBlocks","arr","sc","id","element","Set","has","equals","colors","freeze","Mo","Tu","We","Th","Fr","Sa","Su","DAYS","raw","events","All","totalCredit","current","courses","ids","colorSlots","Array","from","dateSelector","_preview","separatedAll","pendingCompute","dateSeparators","empty","constructDateSeparator","computeSchedule","shortAll","sections","group","toJSONShort","entry","fromJSONShort","AllCopy","userColor","savedColors","hash","add","block","hover","sync","time","_computeSchedule","catalog","cleanSchedule","temp","Date","getMonth","getDate","forEach","fullCourse","getCourse","credit","parseFloat","isNaN","place","size","sec","toString","multiSelect","combined","getCombined","secs","crs","found","a","b","computeBlockPositions","dateArray","_temp","lower","upper","sep","tempCourse","conflict","_computeBlockPositions","numSlots","constructAdjList","slots","node","keys","slot","maxLeft","neighbors","newLeft","delta","minLeft","Infinity","clear","color","getColor","placeHelper","allSameTime","courseSec","firstSec","combineSections","dayTimes","split","scheduleBlock","substr","_id","getSectionById","rendered","some","findIndex","g","merged","getTimeRoom","first","days1","days2","allEquals","val1","val2","bigFlag","flag","dayList","hr12toInt","lIdx","to24hr","checkTimeConflict","timeArray1","timeArray2","step1","step2","s2","e2","e1","begin1","end1","k","begin2","end2","parseDate","sm","sd","sy","startDate","UTC","em","ed","ey","endDate","to12hr","hr","pre","substring","hour","minute","numHour","suffix","padStart","timeToNum","min","parseInt","intTo24hr","num","floor","highlightMatch","str","expMatch","matches","lastEnd","match","hval","charCodeAt","cancelablePromise","cancel","res","catch","reason","savePlain","filename","Blob","errToStr","errStr","response","isNumberArray","isArray","async","getReleaseNote","notes","post","text","body","context","join","GeneratedError","super","toICalEventString","uid","until","summary","location","calcStartDate","ical","dateToICalString","getTime","toUpperCase","prevStart","dayOffset","getDay","toICal","schedule","displayName","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","$event","saveStatus","version","modal","semester","currentSemester","url","class","sideBar","showSelectClass","status","switchSideBar","showFuzzy","showEvent","showFilter","showSetting","showSelectColor","showExport","showCompare","showLog","_e","showInfo","showExternal","currentSchedule","addToCompare","_v","indexOfCompare","staticRenderFns","style","scheduleWidth","isMobile","scheduleLeft","noti","directives","rawName","staticStyle","domProps","_s","_t","_m","showReleaseNoteModal","FastSearcher","items","toStr","originals","uniqueTokens","maxTokenLen","allTokens","tokenLen","idxOffsets","Uint32Array","full","trimEnd","toLowerCase","indices","tokenIds","str2num","tokens","offset","t0","original","token","indexOf","query","gramLen","queryGrams","queryGramCount","buffer","ArrayBuffer","freqCount","Uint16Array","freqCountCopy","grams","eIdx","trim","replace","constructQueryGrams","bestMatchIndex","bestMatchRating","currentTargetString","currentRating","compareTwoStrings","bigrams","second","len1","len2","intersectionSize","bigram","threshold","maxWindow","t2","tokenScores","Float32Array","tokenMatches","tokenGramCount","allMatches","scoreWindow","score","maxScore","tokenId","tokMatch","item","index","fullStr","nextOffset","Catalog","modified","resultMap","courseDict","sectionMap","worker","prom","onmessage","postMessage","terminate","find","lastResult","ErrorEvent","that","waitForLatestResult","convertWorkerResult","max_results","spec","startsWith","queryNoSp","field","results","searchKey","searchField","searchTopic","searchProf","keyIdx","deptLen","targetIdx","prev","topicMatches","topic","topicIdx","appendToResult","profMatches","profs","instructors","profIdx","concat","combSecMatches","mats","prevMats","sameTimeAs","combinedTime","includes","getInstructors","meetingProfs","instructor","prof","runningOnElectron","navigator","userAgent","ui","sideBarWidth","sideMargin","tabBarWidthMobile","tabBarWidth","semesterListExpirationTime","semesterDataExpirationTime","TYPES","0","1","2","3","4","5","6","7","8","9","TYPES_PARSE","Clinical","CLN","Discussion","DIS","Drill","DRL","IND","Laboratory","LAB","Lecture","LEC","Practicum","PRA","Seminar","SEM","Studio","STO","Workshop","WKS","backend","buildings","requestBuildingSearcher","distances","requestTimeMatrix","semesters","requestSemesterList","requestCourses","action","viewEvals","viewGrades","open","viewHpEvals","param","getApi","host","protocol","flattened","Int32Array","Semester","Group","Description","submit","Extended","random","parseSemesterData","skipEmptyLines","header","now","rawData","allSections","meetingDate","startT","endT","enrollment","enrollment_limit","wait_list","allCourses","innerHTML","options","records","option","semesterId","html","is_v5_v7","is_v8","filterSections","warnings","convKey","record","groupIdx","remove","update","delete","isCourseEmpty","ev","setPrototypeOf","payload","parts","filter","sid","deepCopyEvent","_copy","copy","maxDuration","minDuration","addEvent","generatedMsg","tempAll","SortMode","sortBy","timeMatrix","classList","allChoices","Uint8Array","refSchedule","timeArrays","timeLen","sortCoeffCache","buf","coeffs","offsets","numCourses","bound","s1","arrOffset","vToBeInserted","realBound","enabled","funcName","assign","cache","newCache","evalFunc","sortFunctions","similarity","thresh","distance","isRandom","lastIdx","countSortOpt","fallback","computeCoeffFor","fill","coeff","range","normalizeRatio","weight","reverse","newOptions","quick","quickThresh","computeCoeff","_size","_indices","shuffle","isCombined","cmpFunc","partialSort","ifReverse","fbCoeffs","func","compare","quickselect","slc","choice","classNum","sum","sumSq","oEnd","classTime","compact","totalOverlap","dayOverlap","refTime","total","dist","sim","timeArrayToCompact","timeArrayList","timeArrLens","computeTimeArrLens","arrs","computeConflict","dateList","conflictCache","sideLen","arrs1","arrs2","dates1","dates2","i1","i2","timeSlots","toTimeArray","msgs","noSelected","subgroup","courseRec","classes","allInvalid","maxLen","pathMemory","sectionLens","maxNumSchedules","computeSchedules","evaluator","sortOptions","msgString","outer","timeArray","td","secIndices","choiceNum","base","low","high","showTime","showRoom","showInstructor","showClasslistTitle","showSuffix","standard","expandOnEntering","enableLog","showWeekend","_fullHeight","_partialHeight","_maxNumSchedules","_numSearchResults","_earliest","_latest","_width","_colorScheme","bits","counter","displaySettings","defaultVal","getDefault","defVal","CLAS","info","success","LEVELS","danger","warning","Notification","cls","history","job","override","unshift","stamp","toLocaleTimeString","notify","defaultOptions","exclusive","rawSort","getDefaultOptions","scheduleEvaluator","allowWaitlist","allowClosed","sortModes","filterBits","sortBits","initials","weights","fromJSON","timeSlot","compressJSON","toJSON","ref","sortCopy","initial","sortOpt","decompressJSON","startTime","endTime","others","note","localStorage","getItem","profiles","JSON","parse","createProfile","loadToken","tokenType","accessToken","sem","oldData","parsed","removeItem","setItem","stringify","latest","remote","versions","currentVersion","msgBuffer","TextEncoder","encode","hashBuffer","crypto","subtle","digest","hashArray","hashHex","oauth_electron_redirect_uri","origin","code_verifier","state","client_id","redirect_uri","getRedirectURL","code_challenge","sha256","code_challenge_method","grant_type","oldName","newName","newProf","resp","requestBackend","edit","profile","logout","requestRemote","deleteRemote","fallbackName","profileName","confirm","uploadProfile","endpoint","headers","Authorization","down","up","remoteProfMap","deleteProfile","p2","needUpload","needDownload","remoteProf","remoteVersions","localProf","localTime","remoteTime","proposedSchedules","currentScheduleIndex","proposedScheduleIndex","cpIndex","generated","switchSchedule","switchProposed","proposedSchedule","numGenerated","switchPage","getSchedule","clean","defaultState","proposed","loadFromCache","construct","expireTime","store","validator","defaultValidator","force","storage","new","newData","old","succMsg","warnMsg","errMsg","timeoutTime","err_2","loadSemesterList","stores","meta","table","put","loadSemesterData","db","saveToDB","timestamp","retrieveFromDB","bulkAdd","saveTimeStamp","secMap","toArray","rawCourse","lastUpdate","pendingPromise","toLocaleString","Status","screen","height","loading","eventToEdit","foldAllSideBar","bar","isAncient","isLegacy","pendingStatusSave","_saveStatus","isLatest","palette","selectSemester","ancient","oldStore","newStore","colorScheme","generateSchedules","recomputeAll","filteredStatus","computeFilter","validateSortOptions","foldView","getGeneratorOptions","generator","getSchedules","loadProfile","parsedLatest","jsonString","parseFromURL","config","decompressFromEncodedURIComponent","deep","watchers","sideBarActive","component","_l","_k","keyCode","dSelect","dPointer","dropdownNext","dropdownPrev","expression","closeClassList","composing","q","isEntering","inputCourses","inputMatches","updateCourse","showCourseModal","newProposed","copyCurrent","deleteProposed","removeCourse","generateClick","_i","$$a","$$el","$$c","checked","$$v","$$i","$set","$emit","unhover","collapse","expanded","isSomeTBD","stopPropagation","select","active","isAnySection","ungroup","updateGroup","isGroup","separatedCourses","selectAll","allTimeSelected","hasSection","preview","removePreview","validMsg","getSectionGroup","collapsed","numInput","getElementById","notSelected","courseObj","segments","default","components","Expand","generatedWarning","queryTypes","search","numSearchResults","$refs","selectedClassList","$forceUpdate","enteringClassList","ClassList","cur","highlight","getTitle","pIdx","isSimilarSchedule","renderSchedule","randColor","deleteCompare","compareSchedule","mainHeight","heightInfo","gridTemplateCols","numRow","numCol","absoluteEarliest","startPx","endPx","showModal","isSection","isCourse","isEvent","getPx","px","fullHeight","showSectionModal","Number","String","df","earliest","early","earliestBlock","late","latestBlock","absoluteLatest","repeat","curTime","stdTime","reducedTime","increTime","partialHeight","h","CourseBlock","highlightIdx","getDesc","sb","nsb","luminosity","entries","y","z","opt","GridSchedule","MainContent","modifiers","_n","_q","clearCache","reload","eventTitle","eventTimeFrom","eventTimeTo","eventWeek","updateDay","eventRoom","eventDescription","endEditEvent","cleanup","deleteEvent","copyEvent","toBeModifiedDays","editEvent","getEventDays","week","regenerate","immediate","onUploadJson","saveToJson","saveToIcal","exportToURL","print","backendName","sel","selectProfile","getMeta","renameProfile","getRemoteStatusString","updateRemoteStatus","keepVersion","ver","switchVersion","getParsedUA","loginBackend","oauth_on_electron","ua","parser","getResult","result_str","os","device","vendor","browser","msg1","msg2","input","files","reader","FileReader","prevLen","addProfile","readAsText","json","URL","compressed","searchParams","compressToEncodedURIComponent","showURLModal","getRemoteProfile","_profile","extend","addTimeSlot","updateFilterDay","removeTimeSlot","dragEnd","model","callback","optIdx","getSortOptRange","changeSorting","similarityEnabled","draggable","scheme","numColors","courseColors","pair","convertKey","$delete","scrollIntoView","scroll","colorEntries","bucket","workerLoaded","onInput","getClass","realtime","initWorker","disposeWorker","fuzzySearch","classSearch","curSchedule","selectInterval","convDate","goto","disabled","scheduleLength","updateStart","curIdx","handler","box","focus","succ","execCommand","popover","loadTimeMatrix","loadBuildingSearcher","buildingList","encoded","vue","URLSearchParams","replaceState","pay1","pay2","pay3","pay4","auth_result","loadSemesters","syncProfiles","getBackendToken","urlResult","loadConfigFromURL","initProfiles","ClassView","EventView","DisplayView","FilterView","PaletteView","ExportView","CompareView","External","FuzzyView","LogView","Information","Pagination","DateSeparator","SectionModal","CourseModal","URLModal","VersionModal","defaults","xsrfHeaderName","xsrfCookieName","directive","scrollTo","productionTip","devtools","currentRoute","pathname","$mount","axios"],"mappings":"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AAK1D,MAAQoH,EAAGpH,KAAO0D,KAAK2D,KAAOD,EAAGC,GAmBvC,IAAIC,EAAgCtH,GACvC,OAAIsH,aAAmBC,IAAY7D,KAAK1D,MAAQA,GAAOsH,EAAQE,IAAI9D,KAAK2D,IAC5D3D,KAAK+D,OAAOH,IA9JJ,EAAAjC,SAAW,CAC/B,CAAC,EAAG,SACJ,CACI,EACA,iIAEJ,CACI,EACA,+HAEJ,CACI,EACA,+GAEJ,CAAC,EAAG,wDCjGG,OACX,CACI1G,KAAM,UACN6E,YAAa,GACbkE,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI/I,KAAM,MACN6E,YAAa,GACbkE,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI/I,KAAM,WACN6E,YAAa,GACbkE,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI/I,KAAM,YACN6E,YAAa,GACbkE,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI/I,KAAM,YACN6E,YAAa,GACbkE,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI/I,KAAM,aACN6E,YAAa,GACbkE,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI/I,KAAM,SACN6E,YAAa,GACbkE,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI/I,KAAM,UACN6E,YAAa,GACbkE,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGR,CACI/I,KAAM,UACN6E,YAAa,GACbkE,OAAQ,CACJ,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UA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","file":"js/app.ba418ad4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2bcab240\":\"ff680708\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-2bcab240\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2bcab240\":\"48a6a362\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassList.vue?vue&type=style&index=0&id=10d1a8a1&scoped=true&lang=css&\"","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"fc1f8b2e52ed36e7fe06.worker.js\");\n};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Expand.vue?vue&type=style&index=0&id=e47a4968&scoped=true&lang=css&\"","module.exports = vuedraggable;","module.exports = bootstrap;","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseModal.vue?vue&type=style&index=0&id=9f64b4e8&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Expand.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./External.vue?vue&type=style&index=0&id=823ab73c&scoped=true&lang=css&\"","module.exports = Vue;","module.exports = __webpack_public_path__ + \"img/placeholder.f3a872b4.jpg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseBlock.vue?vue&type=style&index=0&id=f195896c&scoped=true&lang=css&\"","module.exports = Papa;","module.exports = __webpack_public_path__ + \"img/cover.f46abc3a.jpg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaletteView.vue?vue&type=style&index=0&id=73b95f5c&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridSchedule.vue?vue&type=style&index=0&id=7eb5c046&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportView.vue?vue&type=style&index=0&id=f9d92e78&scoped=true&lang=css&\"","module.exports = jQuery;","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionModal.vue?vue&type=style&index=0&lang=css&\"","/**\n * the graph model and algorithm used primarily for schedule rendering\n * @author Hanzhi Zhou, Kaiying Cat\n * @module src/algorithm\n */\n\n/**\n *\n */\nimport ScheduleBlock from '@/models/ScheduleBlock';\nimport PriorityQueue from 'tinyqueue';\n\n/**\n * The vertex of a graph.\n * It holds many attributes that are modified **in-place** when running a graph algorithm\n */\nexport class Vertex<T> {\n    public visited = false;\n    /**\n     * the maximum depth of the path starting from the root that the current node is on\n     */\n    public pathDepth = 0;\n    /**\n     * @param val the value contained in this node\n     * @param depth depth of the node relative to the root\n     */\n    constructor(public readonly val: T, public readonly depth: number) {}\n}\n\n/**\n * adjacency list representation of a graph\n */\nexport type Graph<T> = Map<Vertex<T>, Vertex<T>[]>;\n\n/**\n * the classical interval scheduling algorithm, runs in linear-logarithmic time\n * @param blocks the events to schedule\n * @param assignment room index for each event\n * @returns the total number of rooms required\n */\nexport function intervalScheduling(blocks: ScheduleBlock[], assignment: Int16Array) {\n    if (blocks.length === 0) return 0;\n\n    blocks.sort((b1, b2) => b1.startMin - b2.startMin); // sort by start time\n    // min heap, the top element is the room whose end time is minimal\n    // a room is represented as a pair: [end time, room index]\n    const queue = new PriorityQueue<readonly [number, number]>(\n        [[blocks[0].endMin, 0]],\n        (r1, r2) => r1[0] - r2[0]\n    );\n    let numRooms = 0;\n    assignment[0] = 0;\n    for (let i = 1; i < blocks.length; i++) {\n        const { startMin, endMin } = blocks[i];\n        const [earliestEnd, roomIdx] = queue.peek()!;\n        if (earliestEnd > startMin) {\n            // conflict, need to add a new room\n            numRooms += 1;\n            queue.push([endMin, numRooms]);\n            assignment[i] = numRooms;\n        } else {\n            queue.pop(); // update the room end time\n            queue.push([endMin, roomIdx]);\n            assignment[i] = roomIdx;\n        }\n    }\n    return numRooms + 1;\n}\n\n/**\n * calculate the actual path depth of the nodes\n * @requires optimization\n * @param adjList\n * @param assignment\n * @param values the array of things contained in each node\n */\nexport function calculateMaxDepth<T = number>(\n    adjList: number[][],\n    assignment: Int16Array,\n    values: T[]\n): Graph<T> {\n    const graph: Graph<T> = new Map();\n    const vertices = adjList.map((_, i) => new Vertex(values[i], assignment[i]));\n\n    for (let i = 0; i < assignment.length; i++) {\n        graph.set(\n            vertices[i],\n            adjList[i].map(x => vertices[x])\n        );\n    }\n\n    // We start from the node of the greatest depth and traverse to the lower depths\n    vertices.sort((v1, v2) => v2.depth - v1.depth);\n    for (const start of vertices)\n        if (!start.visited) depthFirstSearchRec(start, graph, start.depth + 1);\n\n    return graph;\n}\n\n/**\n * A special implementation of depth first search on a single connected component,\n * used to find the maximum depth of the path that the current node is on.\n *\n * We start from the node of the greatest depth and traverse to the lower depths\n *\n * The depth of all nodes are known beforehand (from the colors/slot assignment).\n */\nfunction depthFirstSearchRec<T>(start: Vertex<T>, graph: Graph<T>, depth: number) {\n    start.visited = true;\n    start.pathDepth = depth;\n\n    for (const adj of graph.get(start)!) {\n        // we only visit nodes of lower depth\n        if (!adj.visited && adj.depth < start.depth) depthFirstSearchRec(adj, graph, depth);\n    }\n}\n","/**\n * @module src/models\n * @author Kaiying Cat\n */\n\n/**\n *\n */\nimport { TimeArray } from '../algorithm/ScheduleGenerator';\nimport { hashCode, parseTimeAsTimeArray } from '../utils';\nimport Hashable from './Hashable';\n\nexport type EventJSON = [string, number, string?, string?, string?];\n\n/**\n * An Event is a structure different than `Course` or `Section` that can be placed on a Schedule\n *\n * It is uniquely identified by its `days` property\n */\nexport default class Event implements Hashable {\n    public static fromJSONShort(obj: EventJSON) {\n        return new Event(...obj);\n    }\n    public key: string;\n    public display: boolean;\n    constructor(\n        public days: string,\n        display: boolean | number,\n        public title?: string,\n        public description?: string,\n        public room?: string\n    ) {\n        this.key = days;\n        this.display = Boolean(display);\n    }\n\n    public hash() {\n        return hashCode(this.days);\n    }\n\n    public copy() {\n        return new Event(this.days, this.display, this.title, this.description, this.room);\n    }\n\n    public toTimeArray(): TimeArray {\n        return parseTimeAsTimeArray(this.days)!;\n    }\n\n    public toJSONShort() {\n        const obj: EventJSON = [this.days, +this.display];\n        if (this.title) obj[2] = this.title;\n        if (this.description) obj[3] = this.description;\n        if (this.room) obj[4] = this.room;\n        return obj;\n    }\n}\n","/**\n * @author Hanzhi Zhou\n * @module src/models\n */\n\n/**\n *\n */\nimport { calcOverlap, hr24toInt } from '../utils';\nimport Course from './Course';\nimport Event from './Event';\nimport Section from './Section';\n\n/**\n * A `ScheduleBlock` is a data structure that holds\n * all the necessary information to render a schedule on `GridSchedule`\n *\n * @see [[GridSchedule]]\n */\nexport default class ScheduleBlock {\n    /**\n     * duration of the block, in minutes\n     */\n    public readonly duration: number;\n    /**\n     * the left of the block relative to the column, a decimal between 0 and 1\n     */\n    public left = -1;\n    /**\n     * the width of the block relative to the column, a decimal between 0 and 1\n     */\n    public width = -1;\n    /**\n     * whether the block is highlighted\n     */\n    public strong = false;\n\n    public readonly startMin: number;\n    public readonly endMin: number;\n\n    /**\n     * @param background background color in hex, e.g. `#ffffff`\n     * @param start start time in 24hr format: `13:00`\n     * @param end end time in 24hr format: `15:00`\n     * @param section the stuff contained in this block\n     */\n    constructor(\n        public readonly background: string,\n        public readonly start: string,\n        public readonly end: string,\n        public readonly section: Section | Course | Event,\n        public readonly foreground = '#fff',\n        public readonly foregroundLight = '#eee'\n    ) {\n        this.startMin = hr24toInt(start);\n        this.endMin = hr24toInt(end);\n        this.duration = this.endMin - this.startMin;\n    }\n\n    /**\n     * returns whether this block has conflict with another block\n     * @param other\n     * @param includeEnd whether to treat end-point touch as conflict\n     */\n    public conflict(other: ScheduleBlock, includeEnd = false) {\n        const olap = calcOverlap(this.startMin, this.endMin, other.startMin, other.endMin);\n        if (includeEnd) {\n            return olap >= 0;\n        } else {\n            return olap > 0;\n        }\n    }\n}\n","/* eslint-disable import/export */\n/**\n * @author Hanzhi Zhou, Kaiying Cat\n * @module src/models\n */\n\n/**\n *\n */\nimport { MeetingDate, TimeArray } from '../algorithm/ScheduleGenerator';\nimport { hashCode, parseTimeAll } from '../utils';\nimport Course, { CourseFields, Match } from './Course';\nimport Hashable from './Hashable';\nimport Meeting from './Meeting';\nimport { dayToInt } from './Schedule';\nimport { CourseStatus } from '../config';\n\n/**\n * last three bits of this number correspond to the three types of invalid sections,\n * as specified by [[Section.Validity]]\n *\n * flag & 0b1 !== 0 => Section.Validity[1]\n * flag & 0b10 !== 0 => Section.Validity[2]\n * flag & 0b100 !== 0 => Section.Validity[3]\n */\nexport type ValidFlag = number;\n\ntype SectionMatchFields = 'topic' | 'instructors';\nexport type SectionMatch<T extends SectionMatchFields = SectionMatchFields> = Match<T>;\n\n/**\n * fields of the section that must be created via `Object.create`\n */\nexport interface SectionFields {\n    /**\n     * reference to the course that this section belongs to. This property is **non-enumerable**\n     */\n    readonly course: Course;\n    /**\n     * Key of the course that this section belongs to; same for all sections.\n     */\n    readonly key: string;\n    /**\n     * the id of the section, must be globally unique\n     */\n    readonly id: number;\n    /**\n     * the section number recorded in sis\n     */\n    readonly section: string;\n    /**\n     * the topic of this section, may be empty\n     */\n    readonly topic: string;\n    /**\n     * one of \"Open\", \"Closed\" and \"Wait List\"\n     */\n    readonly status: CourseStatus;\n    readonly enrollment: number;\n    readonly enrollment_limit: number;\n    readonly wait_list: number;\n    /**\n     * array of instructor names (computed from meeting)\n     */\n    readonly instructors: readonly string[];\n    readonly dates: string;\n    readonly meetings: readonly Meeting[];\n\n    /**\n     * @see [[ValidFlag]]\n     */\n    readonly valid: ValidFlag;\n    /**\n     * @see [[MeetingDate]]\n     * undefined if the meeting date is TBA/TBD or cannot be parsed\n     */\n    readonly dateArray?: MeetingDate;\n}\n\n// use class-interface merging\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport default interface Section extends SectionFields {}\n/**\n * A section contains all the fields that a Course has,\n * and it holds additional information specific to that section.\n *\n * All section instances are immutable. Additionally, they will never be duplicated.\n * They will only created using `Object.create` on page load\n */\nexport default class Section implements CourseFields, Hashable {\n    private static readonly Validity = [\n        [0, 'Valid'],\n        [\n            1,\n            `Warning: Some meetings have incomplete instruction or room information (e.g. TBA/TBD). This won't affect schedule generation.`\n        ],\n        [\n            2,\n            'Fatal: This section has several different meeting dates. Plannable currently cannot handle these type of meetings correctly'\n        ],\n        [\n            1,\n            'Warning: Some meetings have invalid (TBA/TBD) start or end time. They will not be rendered on the schedule.'\n        ],\n        [2, 'Fatal: This section has unknown start and end date.']\n    ] as const;\n    // --------- getters for fields of the course ---------------------\n    get department() {\n        return this.course.department;\n    }\n    get number() {\n        return this.course.number;\n    }\n    get type() {\n        return this.course.type;\n    }\n    get units() {\n        return this.course.units;\n    }\n    get title() {\n        return this.course.title;\n    }\n    get description() {\n        return this.course.description;\n    }\n    /**\n     * human readable name for this section, e.g. ECON 2010-001 Lecture\n     */\n    get displayName() {\n        return `${this.department} ${this.number}-${this.section} ${this.type}`;\n    }\n    // --------- end getters for fields of the course ---------------------\n\n    /**\n     * convert [[Section.valid]] to human readable message\n     */\n    public get validMsg() {\n        let mask = 1;\n        let msg = '';\n        let count = 1;\n        let maxLevel = 0;\n        for (let i = 1; i < Section.Validity.length; i++) {\n            if (this.valid & mask) {\n                const [level, msgStr] = Section.Validity[i];\n                maxLevel = Math.max(maxLevel, level);\n                msg += `${count++}. ${msgStr} \\n`;\n            }\n            mask <<= 1;\n        }\n        return [['', 'text-warning', 'text-danger'][maxLevel], msg] as const;\n    }\n\n    public sameTimeAs(other: Section) {\n        const len = this.meetings.length;\n        if (len !== other.meetings.length) return false;\n        return this.meetings.every((x, i) => x.days === other.meetings[i].days);\n    }\n\n    /**\n     * @returns all meeting times of this section concatenated together\n     * and concatenated by their dates\n     */\n    public combinedTime() {\n        return this.meetings.reduce((acc, v) => acc + '|' + v.days, this.dates);\n    }\n\n    /**\n     * @remarks The hashes of all sections of a Course by design are equal to each other.\n     * @returns the hash of the Course that this section belongs to.\n     */\n    public hash() {\n        return hashCode(this.key);\n    }\n\n    /**\n     * get the time and room of this section's meetings as [[TimeArray]]\n     */\n    public getTimeRoom(): TimeArray {\n        // arrays of times and rooms in each day\n        const dayArray: number[][] = [[], [], [], [], [], [], []];\n\n        // there may be multiple meeting times. parse each of them and add to tmp_dict\n        const searcher = window.buildingSearcher;\n        for (const meeting of this.meetings) {\n            const t = meeting.days;\n            // skip empty string\n            if (!t) continue;\n\n            // parse the meeting time\n            const tmp1 = parseTimeAll(t);\n\n            // skip TBA or ill-formated time\n            if (tmp1 === null) return new Int16Array(8);\n            const [date, timeBlock] = tmp1;\n\n            // for each day\n            for (const day of date) {\n                const dayBlock = dayArray[dayToInt[day]];\n\n                // the timeBlock is flattened\n                dayBlock.push(...timeBlock);\n\n                const [idx, rating] = searcher.findBestMatch(meeting.room);\n                // we set the match threshold to 0.4\n                if (rating >= 0.4) {\n                    dayBlock.push(idx);\n                } else {\n                    // mismatch!\n                    console.warn(meeting.room, 'match not found!');\n                    dayBlock.push(-1);\n                }\n            }\n        }\n\n        // convert iliffe vector to array\n        const timeBlocks = new Int16Array(dayArray.reduce((acc, arr) => acc + arr.length, 8));\n        let count = 0;\n        for (let i = 0; i < 7; i++) {\n            timeBlocks[i] = count + 8;\n            timeBlocks.set(dayArray[i], count + 8);\n            count += dayArray[i].length;\n        }\n        timeBlocks[7] = timeBlocks.length;\n        return timeBlocks;\n    }\n\n    public equals(sc: Section): boolean {\n        if (this.key === sc.key && this.id === sc.id) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * check whether given section is equals to this section\n     */\n    public has(section: Section): boolean;\n    /**\n     * check whether this section exists in the set of sections indices with the given key\n     * @param sections\n     * @param key\n     */\n    // eslint-disable-next-line\n    public has(sections: Set<number>, key: string): boolean;\n    // eslint-disable-next-line\n    public has(element: Section | Set<number>, key?: string): boolean {\n        if (element instanceof Set) return this.key === key && element.has(this.id);\n        else return this.equals(element);\n    }\n}\n","/**\n * @module src/data\n */\n\n/**\n *\n */\nexport default [\n    {\n        name: 'dark-11',\n        description: '',\n        colors: [\n            '#f7867e',\n            '#ffa000',\n            '#82677E',\n            '#2C577C',\n            '#6D838A',\n            '#00a0a0',\n            '#355dff',\n            '#7790ff',\n            '#9B5656',\n            '#CC9393',\n            '#993D5F'\n        ]\n    },\n    {\n        name: 'Sky',\n        description: '',\n        colors: [\n            '#68443c',\n            '#b67b66',\n            '#d8b29a',\n            '#dbbeaa',\n            '#cd9886',\n            '#8b4d3e',\n            '#4c423d',\n            '#5a5550',\n            '#943a4d',\n            '#d6afa6',\n            '#d9e1dd',\n            '#8fabc9',\n            '#4d6aa8'\n        ]\n    },\n    {\n        name: 'Velvet I',\n        description: '',\n        colors: [\n            '#8ab5ba',\n            '#a8c4c1',\n            '#eadbc0',\n            '#4c423d',\n            '#b7ac9d',\n            '#928a7e',\n            '#3e6f42',\n            '#7fa25a',\n            '#becbb7',\n            '#91afa1',\n            '#406e58',\n            '#8f3a43',\n            '#b67b66'\n        ]\n    },\n    {\n        name: 'Velvet II',\n        description: '',\n        colors: [\n            '#9b3738',\n            '#b6c6ce',\n            '#8fabc9',\n            '#4d6aa8',\n            '#c4d39b',\n            '#7fa25a',\n            '#3e6f42',\n            '#becbb7',\n            '#91afa1',\n            '#406e58',\n            '#eacfb9',\n            '#dc8d67',\n            '#d46c40'\n        ]\n    },\n    {\n        name: 'Masonry I',\n        description: '',\n        colors: [\n            '#8ab5ba',\n            '#a8c4c1',\n            '#eadbc0',\n            '#4c423d',\n            '#b7ac9d',\n            '#928a7e',\n            '#3e6f42',\n            '#7fa25a',\n            '#becbb7',\n            '#91afa1',\n            '#406e58',\n            '#8f3a43',\n            '#b67b66'\n        ]\n    },\n    {\n        name: 'Masonry II',\n        description: '',\n        colors: [\n            '#9b3738',\n            '#4d6aa8',\n            '#d9e1dd',\n            '#8fabc9',\n            '#929494',\n            '#5e6061',\n            '#e2cbb5',\n            '#c4d39b',\n            '#abc17a',\n            '#a8c4c1',\n            '#679dae',\n            '#3e6e90',\n            '#68443c'\n        ]\n    },\n    {\n        name: 'Sand I',\n        description: '',\n        colors: [\n            '#5e6061',\n            '#929494',\n            '#d9e1dd',\n            '#abbdc8',\n            '#4d6aa8',\n            '#4c423d',\n            '#b7a392',\n            '#406e58',\n            '#91afa1',\n            '#becbb7',\n            '#c4d39b',\n            '#7fa25a',\n            '#3e6f42'\n        ]\n    },\n    {\n        name: 'Sand II',\n        description: '',\n        colors: [\n            '#5a5550',\n            '#b7ac9d',\n            '#eadbc0',\n            '#c6d5cc',\n            '#a8c4c1',\n            '#8ab5ba',\n            '#9b3738',\n            '#8fabc9',\n            '#3e6e90',\n            '#943a4d',\n            '#d46c40',\n            '#cd9886',\n            '#d6afa6'\n        ]\n    },\n    {\n        name: 'Scenery',\n        description: '',\n        colors: [\n            '#68443c',\n            '#b67b66',\n            '#d8b29a',\n            '#8b4d3e',\n            '#cd9886',\n            '#dbbeaa',\n            '#e6cdbf',\n            '#eadbc0',\n            '#9b3738',\n            '#d6afa6',\n            '#943a4d',\n            '#8f3a43',\n            '#929494'\n        ]\n    },\n    {\n        name: 'Checkered III',\n        description: '',\n        colors: [\n            '#68443c',\n            '#b67b66',\n            '#d8b29a',\n            '#406e58',\n            '#cd9886',\n            '#dbbeaa',\n            '#e6cdbf',\n            '#eadbc0',\n            '#9b3738',\n            '#d6afa6',\n            '#7fa25a',\n            '#8f3a43',\n            '#929494'\n        ]\n    },\n    {\n        name: 'light-13',\n        description: '',\n        colors: [\n            '#7ef7f3',\n            '#bdfc8f',\n            '#749afc',\n            '#f49ffc',\n            '#acd7f9',\n            '#b5fcff',\n            '#f4af9c',\n            '#ff8ca7',\n            '#aef495',\n            '#74c9e0',\n            '#ffe396'\n        ]\n    }\n] as const;\n","/**\n * @author Hanzhi Zhou, Kaiying Shan\n * @module src/models\n */\n\n/**\n *\n */\nimport { Vertex, intervalScheduling, calculateMaxDepth } from '../algorithm/Graph';\nimport * as Utils from '../utils';\nimport Course from './Course';\nimport Event from './Event';\nimport Hashable from './Hashable';\nimport ScheduleBlock from './ScheduleBlock';\nimport Section from './Section';\nimport colorSchemes from '@/data/ColorSchemes';\nimport ProposedSchedule from './ProposedSchedule';\n\nexport type Day = keyof typeof dayToInt;\n\nexport const dayToInt = Object.freeze({\n    Mo: 0,\n    Tu: 1,\n    We: 2,\n    Th: 3,\n    Fr: 4,\n    Sa: 5,\n    Su: 6\n});\n\nexport const DAYS = ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'] as const;\n\n/**\n * the structure of a [[Section]] in local storage\n */\nexport interface SectionJSON {\n    /** @see [[Section.id]] */\n    id: number;\n    /**\n     * This property is\n     * - not present if parsed from URL,\n     * - present if parsed from JSON\n     */\n    section?: string;\n}\n\n/**\n * represents all courses in a schedule, stored as `(key, set of sections)` pair\n *\n * Note that if **section** is -1, it means that all sections are allowed.\n * Otherwise, **section** should be a Set/array of object corresponding to each section\n *\n * @typeparam T the type of the container used for the set of sections.\n * By default, this is a set of numbers, corresponding to the `id` field of each section\n * @remarks This field is called `All` (yes, with the first letter capitalized) due to historical reasons\n */\nexport interface ScheduleAll<T = Set<number>[] | -1> {\n    [courseKey: string]: T;\n}\n\n/**\n * the representation of a [[Schedule]] in local storage\n */\nexport interface ScheduleJSON {\n    All: ScheduleAll<SectionJSON[][] | -1>;\n    events: Event[];\n}\n\n/**\n * Schedule handles the storage, access, mutation and render of courses and events.\n * @requires window.catalog\n */\nexport default abstract class Schedule {\n    // ----------------- global schedule options ------------------\n    public static combineSections = true;\n    public static multiSelect = true;\n    public static savedColors: { [key: string]: string } = {};\n    public static colors: readonly string[] = colorSchemes[0].colors;\n    // ------------------- end schedule options -------------------\n\n    public static compressJSON(obj: ScheduleJSON) {\n        const { All, events } = obj;\n        const shortAll: ScheduleAll<number[][] | -1> = {};\n        for (const key in All) {\n            const sections = All[key];\n            shortAll[key] =\n                sections === -1 ? sections : sections.map(group => group.map(({ id }) => id));\n        }\n        return [shortAll, ...events.map(e => Event.prototype.toJSONShort.call(e))] as const;\n    }\n\n    public static decompressJSON(obj: ReturnType<typeof Schedule.compressJSON>): ScheduleJSON {\n        const All: ScheduleJSON['All'] = {};\n        const [shortAll, ...events] = obj;\n        for (const key in shortAll) {\n            const entry = shortAll[key];\n            All[key] =\n                entry instanceof Array ? entry.map(group => group.map(id => ({ id }))) : entry;\n        }\n        return {\n            All,\n            events: events.map(e => Event.fromJSONShort(e))\n        };\n    }\n\n    /**\n     * @see [[ScheduleAll]]\n     */\n    public All: ScheduleAll = {};\n    /**\n     * computed based on `this.All` by `computeSchedule`\n     */\n    public days: [\n        ScheduleBlock[], // Monday\n        ScheduleBlock[],\n        ScheduleBlock[],\n        ScheduleBlock[],\n        ScheduleBlock[],\n        ScheduleBlock[],\n        ScheduleBlock[] // Sunday\n    ] = [[], [], [], [], [], [], []];\n    /**\n     * total credits stored in this schedule, computed based on `this.All`\n     */\n    public totalCredit = 0;\n    /**\n     * a computed object that's updated by the `computeSchedule` method,\n     * used by [[ClassList]] for rendering purposes\n     *\n     * - courses contain **all** sections (not just those selected by user)\n     * - ids are the list of ids selected for a given course\n     */\n    public current: { courses: Course[]; ids: string[][] } = { courses: [], ids: [] };\n    /**\n     * keep track of used colors to avoid color collision\n     */\n    public colorSlots = Array.from({ length: Schedule.colors.length }, () => new Set<string>());\n    /**\n     * the index of the currently selected separator (in `dateSeparators`)\n     */\n    public dateSelector = -1;\n\n    /**\n     * the currently previewed (hovered) section\n     */\n    private _preview: Section | null = null;\n    /**\n     * the `All` property partitioned according to date\n     */\n    private separatedAll: { [date: string]: ScheduleAll } = {};\n    /**\n     * the `computeSchedule` handle returned by `setTimeout`\n     */\n    private pendingCompute = 0;\n    /**\n     * The separator of sections in different time periods,\n     * representing different end times of sections. Elements are dates in milliseconds\n     * Example:\n     * ```js\n     * [1567457860885, 1567458860885]\n     * ```\n     */\n    public dateSeparators: number[] = [];\n\n    /**\n     * Construct a `Schedule` object from its raw representation\n     */\n    constructor(raw: ScheduleAll = {}, public events: Event[] = []) {\n        this.All = raw;\n        if (!this.empty()) {\n            this.constructDateSeparator();\n            this.computeSchedule();\n        }\n    }\n\n    public abstract update(key: string, section: number, group?: number, remove?: boolean): void;\n    public abstract remove(key: string): void;\n\n    // abstracting the copy() method is to prevent circular dependency\n    public abstract copy(deepCopyEvent?: boolean): ProposedSchedule;\n\n    protected _copy() {\n        const AllCopy: ScheduleAll = {};\n        for (const key in this.All) {\n            const sections = this.All[key];\n            if (sections instanceof Array) {\n                AllCopy[key] = sections.map(s => new Set(s));\n            } else {\n                AllCopy[key] = sections;\n            }\n        }\n        return AllCopy;\n    }\n\n    /**\n     * Get the background color of a hashable object\n     * Usually the object is either a `Course`, a `Section`, or an `Event`\n     *\n     * @remarks color collision is handled by separate chaining\n     */\n    private getColor(obj: Hashable): string {\n        const userColor = Schedule.savedColors[obj.key];\n        if (userColor) return userColor;\n\n        const colors = Schedule.colors;\n        const idx = obj.hash() % colors.length;\n        this.colorSlots[idx].add(obj.key);\n        return colors[idx];\n    }\n\n    /**\n     * preview and remove preview need to use the async version of compute\n     */\n    public removePreview() {\n        this._preview = null;\n        this.computeSchedule(false);\n    }\n\n    public preview(section: Section) {\n        this._preview = section;\n        this.computeSchedule(false);\n    }\n\n    public hover(key: string, strong = true) {\n        for (const blocks of this.days) {\n            for (const block of blocks) {\n                if (block.section.key === key) block.strong = strong;\n            }\n        }\n    }\n\n    public unhover(key: string) {\n        this.hover(key, false);\n    }\n\n    /**\n     * Compute the schedule view based on `this.All` and `this.preview`.\n     * If there is a pending compute task, remove that pending task.\n     * @param sync if true, synchronously execute this function, otherwise use setTimeout\n     * @param time the delay of setTimeout, in milliseconds\n     * @remarks this method has a very high time complexity.\n     * However, because we're running on small input sets (usually contain no more than 20 sections), it\n     * usually completes within 50ms.\n     */\n    public computeSchedule(sync = true, time = 10) {\n        window.clearTimeout(this.pendingCompute);\n        if (sync) {\n            console.time('compute schedule');\n            this._computeSchedule();\n            console.timeEnd('compute schedule');\n        } else {\n            this.pendingCompute = window.setTimeout(() => {\n                this._computeSchedule();\n            }, time);\n        }\n    }\n\n    private _computeSchedule() {\n        const catalog = window.catalog;\n        if (!catalog) return;\n\n        this.cleanSchedule();\n        const temp = new Date(this.dateSeparators[this.dateSelector]);\n\n        const all =\n            this.dateSelector === -1 || this.dateSelector >= this.dateSeparators.length\n                ? this.All\n                : this.separatedAll[temp.getMonth() + 1 + '/' + temp.getDate()];\n\n        const current: [Course, string[]][] = [];\n        for (const key in all) {\n            const temp = all[key];\n\n            // combine all groups because groups don't affect display\n            const sections =\n                temp === -1\n                    ? -1\n                    : temp.reduce((acc, group) => {\n                          group.forEach(x => acc.add(x));\n                          return acc;\n                      }, new Set<number>());\n\n            // we need a full course record of key `key`\n            const fullCourse = catalog.getCourse(key);\n            // a \"partial\" course with only selected sections\n            const course = catalog.getCourse(key, sections);\n            // skip placing empty courses\n            if (!course.sections.length) {\n                current.push([fullCourse, [' - ']]);\n                continue;\n            }\n\n            const credit = parseFloat(course.units);\n            this.totalCredit += isNaN(credit) ? 0 : credit;\n            // if any section\n            if (sections === -1) {\n                current.push([fullCourse, [' - ']]);\n                this.place(course);\n            } else {\n                // only one section: place that section\n                if (sections.size === 1) {\n                    const sec = course.sections[0];\n                    current.push([fullCourse, [sec.id.toString()]]);\n                    this.place(sec);\n                } else if (sections.size > 0) {\n                    if (Schedule.multiSelect) {\n                        // try to combine sections even if we're in multi-select mode\n                        const combined = Object.values(course.getCombined()).map(secs =>\n                            catalog.getCourse(course.key, new Set(secs.map(sec => sec.id)))\n                        );\n                        for (const crs of combined) this.place(crs);\n                    } else {\n                        // a subset of the sections\n                        this.place(course);\n                    }\n                    current.push([fullCourse, course.sections.map(sec => sec.id.toString())]);\n                }\n            }\n        }\n\n        if (this._preview) {\n            const section = this._preview;\n\n            // do not place into the schedule if the section is already rendered\n            // instead, we highlight the schedule\n            let found = false;\n            for (const blocks of this.days) {\n                for (const block of blocks) {\n                    if (!(block.section instanceof Event) && block.section.has(section))\n                        found = block.strong = true;\n                }\n            }\n            if (!found) this.place(section);\n        }\n\n        // sort currentCourses in alphabetical order\n        current.sort((a, b) => -(a[0].key < b[0].key));\n        this.current.courses = current.map(x => x[0]);\n        this.current.ids = current.map(x => x[1]);\n\n        for (const event of this.events) if (event.display) this.place(event);\n        this.computeBlockPositions();\n    }\n\n    /**\n     * need to be called before `computeSchedule` if the `All` property is updated.\n     */\n    public constructDateSeparator() {\n        const sections: Section[] = [];\n\n        for (const key in this.All) {\n            const temp = this.All[key];\n\n            // combine sections from different group\n            const all =\n                temp instanceof Array\n                    ? temp.reduce((acc, x) => {\n                          for (const v of x) acc.add(v);\n                          return acc;\n                      }, new Set<number>())\n                    : -1;\n\n            const course = window.catalog.getCourse(key, all);\n            for (const section of course.sections) if (section.dateArray) sections.push(section);\n        }\n\n        const _temp = new Set<number>();\n        for (const { dateArray } of sections) // dateArray cannot be empty here\n            _temp.add(dateArray![0]).add(dateArray![1] + 24 * 60 * 60 * 1000);\n\n        this.dateSeparators = [..._temp].sort((a, b) => a - b);\n\n        // create empty objects for separated \"All\"\n        this.separatedAll = Object.create(null);\n        for (let i = 0; i < this.dateSeparators.length; i++) {\n            const temp = new Date(this.dateSeparators[i]);\n            this.separatedAll[temp.getMonth() + 1 + '/' + temp.getDate()] = {};\n        }\n\n        // add the section ids to the separated all\n        for (let i = 0; i < this.dateSeparators.length; i++) {\n            const lower = this.dateSeparators[i];\n            const upper = i === 0 ? -1 : this.dateSeparators[i - 1];\n            const sep = new Date(lower);\n            const date = sep.getMonth() + 1 + '/' + sep.getDate();\n            for (const key in this.All) {\n                const course = this.All[key];\n                if (course === -1) {\n                    const sections = window.catalog.getCourse(key, -1);\n                    for (const { dateArray } of sections.sections) {\n                        if (dateArray) {\n                            const [start, end] = dateArray;\n                            if (start < lower && end >= upper) this.separatedAll[date][key] = -1;\n                        }\n                    }\n                    continue;\n                }\n                // one set for each group\n                for (const group of course) {\n                    const sections = window.catalog.getCourse(key, group);\n                    const s = new Set<number>();\n                    for (const sec of sections.sections) {\n                        if (sec.dateArray) {\n                            const [start, end] = sec.dateArray;\n                            if (start < lower && end >= upper) s.add(sec.id);\n                        }\n                    }\n                    // if the **course** already exists in this time block\n                    const tempCourse = this.separatedAll[date][key];\n                    if (tempCourse) {\n                        (tempCourse as Set<number>[]).push(s);\n                    } else {\n                        this.separatedAll[date][key] = [s];\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * for the array of schedule blocks provided, construct an adjacency list\n     * to represent the conflicts between each pair of blocks\n     */\n    private constructAdjList(blocks: ScheduleBlock[]) {\n        const len = blocks.length;\n        const adjList: number[][] = blocks.map(() => []);\n\n        // construct an undirected graph\n        for (let i = 0; i < len; i++) {\n            for (let j = i + 1; j < len; j++) {\n                if (blocks[i].conflict(blocks[j])) {\n                    adjList[i].push(j);\n                    adjList[j].push(i);\n                }\n            }\n        }\n        return adjList;\n    }\n\n    /**\n     * compute the width and left of the blocks contained in each day\n     */\n    public computeBlockPositions() {\n        for (const blocks of this.days) {\n            this._computeBlockPositions(blocks);\n        }\n    }\n\n    /**\n     * compute the width and left of the blocks passed in\n     * @param blocks blocks belonging to the same connected component\n     */\n    private _computeBlockPositions(blocks: ScheduleBlock[]) {\n        const assignment = new Int16Array(blocks.length);\n        const numSlots = intervalScheduling(blocks, assignment);\n        const adjList = this.constructAdjList(blocks);\n\n        // note: blocks are contained in nodes\n        const graph = calculateMaxDepth(adjList, assignment, blocks);\n        const slots: Vertex<ScheduleBlock>[][] = Array.from({ length: numSlots }, () => []);\n        for (const node of graph.keys()) {\n            slots[node.depth].push(node);\n            node.val.left = node.depth / node.pathDepth;\n            node.val.width = 1 / node.pathDepth;\n        }\n\n        // auto-expansion\n        // no need to expand for the first slot\n        for (let i = 1; i < slots.length; i++) {\n            const slot = slots[i];\n            for (const node of slot) {\n                // maximum left that the current block can possibly obtain\n                let maxLeft = 0;\n                const neighbors = graph.get(node)!;\n                for (const v of neighbors) {\n                    if (v.depth < node.depth) {\n                        const { left, width } = v.val;\n                        const newLeft = left + width;\n                        if (newLeft >= maxLeft) {\n                            maxLeft = newLeft;\n                        }\n                    }\n                }\n                // distribute deltas to remaining nodes\n                const delta = (node.val.left - maxLeft) / (node.pathDepth - node.depth);\n                if (delta <= 0) continue;\n                node.val.left = maxLeft;\n                node.val.width += delta;\n            }\n        }\n\n        for (const [node, neighbors] of graph) {\n            // minimum left of the block that has greater depth than the current block\n            let minLeft = Infinity;\n            for (const v of neighbors) {\n                if (v.depth > node.depth) {\n                    const left = v.val.left;\n                    if (left < minLeft) minLeft = left;\n                }\n            }\n            if (minLeft !== Infinity) {\n                node.val.width = minLeft - node.val.left;\n            }\n        }\n        graph.clear();\n    }\n\n    /**\n     * place a `Section`/`Course`/`Event`/ into one of the `Mo` to `Su` array according to its `days` property\n     * @remarks we can place a Course instance if all of its sections occur at the same time\n     */\n    private place(course: Section | Course | Event) {\n        if (course instanceof Section) {\n            const color = this.getColor(course);\n            for (const meeting of course.meetings) {\n                this.placeHelper(color, meeting.days, course);\n            }\n        } else if (course instanceof Event) {\n            if (course.display) {\n                this.placeHelper(this.getColor(course), course.days, course);\n            }\n        } else {\n            if (!course.allSameTime()) return;\n            const courseSec = course.sections;\n            const firstSec = courseSec[0];\n            // if only one section, just use the section rather than the section array\n            if (courseSec.length === 1) {\n                const color = this.getColor(firstSec);\n                for (const meeting of firstSec.meetings)\n                    this.placeHelper(color, meeting.days, firstSec);\n            } else {\n                if (Schedule.combineSections) {\n                    const color = this.getColor(course);\n                    for (const meeting of firstSec.meetings)\n                        this.placeHelper(color, meeting.days, course);\n                } else {\n                    // if we don't combined the sections, we call place for each section\n                    for (const section of courseSec) {\n                        // note: sections belonging to the same course will have the same color\n                        const color = this.getColor(section);\n                        for (const meeting of section.meetings)\n                            this.placeHelper(color, meeting.days, section);\n                    }\n                }\n            }\n        }\n    }\n\n    private placeHelper(color: string, dayTimes: string, events: Section | Course | Event) {\n        const [days, start, , end] = dayTimes.split(' ');\n        if (days && start && end) {\n            const startMin = Utils.to24hr(start);\n            const endMin = Utils.to24hr(end);\n            // wait... start time equals end time?\n            if (startMin === endMin) {\n                console.warn('start time equals end time:', events, startMin, endMin);\n                return;\n            }\n            for (let i = 0; i < days.length; i += 2) {\n                const scheduleBlock = new ScheduleBlock(color, startMin, endMin, events);\n                this.days[dayToInt[days.substr(i, 2) as Day]].push(scheduleBlock);\n            }\n        }\n    }\n\n    /**\n     * clean the computed properties of the schedule. They can be recovered by calling the\n     * `computeSchedule method`\n     */\n    public cleanSchedule() {\n        this.days = [[], [], [], [], [], [], []];\n        this.colorSlots = Array.from({ length: Schedule.colors.length }, () => new Set());\n        this.totalCredit = 0;\n        this.current.ids = [];\n        this.current.courses = [];\n    }\n\n    /**\n     * Serialize `this` to JSON\n     */\n    public toJSON(): ScheduleJSON {\n        const All: ScheduleJSON['All'] = {};\n        const catalog = window.catalog;\n        // convert set to array\n        for (const key in this.All) {\n            const sections = this.All[key];\n            if (sections instanceof Array) {\n                All[key] = sections.map(group => {\n                    const ids = [];\n                    for (const _id of group) {\n                        const { id, section } = catalog.getSectionById(_id);\n                        ids.push({ id, section });\n                    }\n                    return ids;\n                });\n            } else All[key] = sections;\n        }\n        return {\n            All,\n            events: this.events\n        };\n    }\n\n    /**\n     * Check whether the given key exists in the Schedule.\n     * @param key\n     * @param rendered (default to true)\n     * if true, only returns true if the course/event with the given key is rendered\n     */\n    public has(key: string, rendered = true) {\n        if (rendered)\n            return (\n                this.events.some(x => x.days === key) ||\n                this.days.some(blocks => blocks.some(block => block.section.key === key))\n            );\n        else return key in this.All || this.events.some(x => x.days === key);\n    }\n\n    /**\n     * returns whether a given section exists in this schedule (All)\n     */\n    public hasSection(key: string, section: number) {\n        const s = this.All[key];\n        return s instanceof Array && s.findIndex(g => g.has(section)) !== -1;\n    }\n\n    /**\n     * @returns true if none of the sections of this course is selected\n     */\n    public isCourseEmpty(key: string) {\n        const s = this.All[key];\n        return s instanceof Array && s.every(g => g.size === 0);\n    }\n\n    /**\n     * @returns whether some of the sections selected corresponding to the given course key have invalid meeting time\n     */\n    public isSomeTBD(key: string) {\n        const s = this.All[key];\n        if (!(s instanceof Array)) return false;\n        if (s.length === 0) return false;\n\n        const merged = new Set(s[0]);\n        for (let i = 1; i < s.length; i++) {\n            for (const v of s[i]) {\n                merged.add(v);\n            }\n        }\n        return window.catalog\n            .getCourse(key, merged)\n            .sections.some(s => s.getTimeRoom().length == 8);\n    }\n\n    /**\n     * @returns whether the given course has `Any Section` selected\n     */\n    public isAnySection(key: string) {\n        return this.All[key] === -1;\n    }\n\n    /**\n     * @returns the group index corresponding to the given section\n     */\n    public getSectionGroup(key: string, section: number) {\n        const sections = this.All[key];\n        if (sections === -1 || !(sections instanceof Array)) return -1;\n        return sections.findIndex(s => s.has(section));\n    }\n\n    /**\n     * whether multiple groups exist for a given course\n     * @param key\n     */\n    public isGroup(key: string) {\n        const s = this.All[key];\n        return s instanceof Array && s.length > 1;\n    }\n\n    /**\n     * combine all groups\n     */\n    public ungroup(key: string) {\n        const s = this.All[key];\n        if (s instanceof Array && s.length > 1) {\n            const first = s[0];\n            // merge all groups into the first group\n            for (let i = 1; i < s.length; i++) {\n                for (const v of s[i]) {\n                    first.add(v);\n                }\n            }\n            s.splice(1);\n            this.constructDateSeparator();\n            this.computeSchedule();\n        }\n    }\n\n    public clean() {\n        this.cleanSchedule();\n        this.All = {};\n        this._preview = null;\n        this.events = [];\n    }\n\n    public empty() {\n        return Object.keys(this.All).length === 0 && this.events.length === 0;\n    }\n\n    public equals(s: Schedule) {\n        const days1 = this.events.map(x => x.days).sort();\n        const days2 = s.events.map(x => x.days).sort();\n        if (days1.length !== days2.length) return false;\n        for (let i = 0; i < days1.length; i++) if (days1[i] !== days2[i]) return false;\n\n        return this.allEquals(s.All);\n    }\n\n    /**\n     * returns if an \"All\" equals to another\n     * @param b another \"All\"\n     */\n    public allEquals(b: ScheduleAll) {\n        const a = this.All;\n        const keys = Object.keys(a);\n        // unequal length\n        if (keys.length !== Object.keys(b).length) return false;\n        for (const key of keys) {\n            const val1 = a[key],\n                val2 = b[key];\n            if (!val2) return false;\n            // unequal value\n            if (val1 === -1 || val2 === -1) {\n                if (val1 !== val2) return false;\n            } else {\n                if (val1.length !== val2.length) return false;\n                for (let i = 0; i < val1.length; i++) {\n                    let bigFlag = false;\n                    for (let j = 0; j < val2.length; j++) {\n                        const v1 = val1[i];\n                        const v2 = val2[j];\n                        let flag = true;\n                        for (const v of v1)\n                            if (!v2.has(v)) {\n                                flag = false;\n                                break;\n                            }\n                        if (flag) {\n                            bigFlag = true;\n                            break;\n                        }\n                    }\n                    if (!bigFlag) return false;\n                }\n            }\n        }\n\n        return true;\n    }\n}\n","/**\n * Utilities for parsing and convert in-between different time representations\n * @module src/utils\n */\n\n/**\n *\n */\nimport { Day, dayToInt } from '@/models/Schedule';\nimport { TimeArray } from '../algorithm/ScheduleGenerator';\n/**\n * @author Hanzhi Zhou\n * @param time\n * @returns null when fail to parse\n *\n * Example usage and return value:\n * ```js\n * parseTimeAll('MoWeFr 10:00AM - 11:00AM') => [['Mo', 'We', 'Fr'], [600, 660]]\n * ```\n */\nexport function parseTimeAll(time: string): [Day[], [number, number]] | null {\n    const [days, start, , end] = time.split(' ');\n    if (days && start && end) {\n        const dayList: Day[] = [];\n        for (let i = 0; i < days.length; i += 2) {\n            dayList.push(days.substr(i, 2) as Day);\n        }\n        return [dayList, [hr12toInt(start), hr12toInt(end)]];\n    }\n    return null;\n}\n\n/**\n * @author Kaiying Cat\n * @param time\n * @returns null when fail to parse\n *\n * Example:\n * ```js\n * expect(parseTimeAsTimeArray('MoWeFr 10:00AM - 11:00AM')).toEqual(\n *  [ 7, 9, 9, 11, 11, 13, 13, 600, 660, 600, 660, 600, 660 ]);\n * ```\n */\nexport function parseTimeAsTimeArray(time: string): TimeArray | null {\n    const [days, start, , end] = time.split(' ');\n    if (days && start && end) {\n        const s = hr12toInt(start);\n        const e = hr12toInt(end);\n        let lIdx = 0; // last day index\n        const len = days.length;\n        const arr = new Int16Array(8 + len);\n        for (let i = 0; i < len; i += 2) {\n            const idx = dayToInt[days.substr(i, 2) as Day];\n            // fill the index for previous days\n            for (let j = lIdx; j <= idx; j++) {\n                arr[j] = 8 + i;\n            }\n            // place start and end\n            arr[8 + i] = s;\n            arr[8 + i + 1] = e;\n            lIdx = idx + 1;\n        }\n        // fill the index for succeeding days\n        for (let i = lIdx; i < 8; i++) arr[i] = len + 8;\n        return arr;\n    }\n    return null;\n}\n\n/**\n * convert `13:00` style time to minutes starting from `00:00`\n * @param time\n */\nexport function hr24toInt(time: string) {\n    const sep = time.split(':');\n    return +sep[0] * 60 + +sep[1];\n}\n\n/**\n * convert `1:00AM` style time to minutes starting from `00:00`\n * @param time\n */\nexport function hr12toInt(time: string) {\n    return hr24toInt(to24hr(time));\n}\n\n/**\n * return true if two [[TimeArray]] objects have overlapping time blocks, false otherwise\n * @author Hanzhi Zhou, (amended by) Kaiying Cat\n * @param timeArray1\n * @param timeArray2\n * @param step1 the increment step for array 1\n * @param step2 the increment step for array 2\n * @note use step=2 for time only array, use step=3 for time-room combined array\n */\nexport function checkTimeConflict(\n    timeArray1: TimeArray,\n    timeArray2: TimeArray,\n    step1 = 2,\n    step2 = 2\n) {\n    for (let i = 0; i < 7; i++) {\n        const s2 = timeArray2[i],\n            e2 = timeArray2[i + 1];\n        // skip the entire inner loop if needed\n        if (s2 === e2) continue;\n\n        const e1 = timeArray1[i + 1];\n        for (let j = timeArray1[i]; j < e1; j += step1) {\n            const begin1 = timeArray1[j] + 1;\n            const end1 = timeArray1[j + 1] - 1;\n            for (let k = s2; k < e2; k += step2) {\n                const begin2 = timeArray2[k];\n                const end2 = timeArray2[k + 1];\n                if (\n                    (begin1 <= begin2 && begin2 <= end1) ||\n                    (begin1 <= end2 && end2 <= end1) ||\n                    (begin1 >= begin2 && end1 <= end2)\n                ) {\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n}\n\n/**\n * parse `08/27/2019 - 12/17/2019` style dates to a tuple of numbers\n * @param date\n */\nexport function parseDate(date: string): [number, number] | undefined {\n    if (typeof date !== 'string') return;\n    const [start, end] = date.split(' - ');\n    if (!start || !end) return;\n    // start month / start day / start year\n    const [sm, sd, sy] = start.split('/');\n    const startDate = Date.UTC(+sy, +sm - 1, +sd);\n    const [em, ed, ey] = end.split('/');\n    const endDate = Date.UTC(+ey, +em - 1, +ed);\n    return [startDate, endDate];\n}\n\n/**\n * calculate the overlap between time block [a, b] and [c, d].\n * @author Hanzhi Zhou\n * @returns\n *  - 0 if only end points touch\n *  - -1 if no overlap\n *  - the area of overlapping region if overlap\n */\nexport function calcOverlap(a: number, b: number, c: number, d: number) {\n    if (a <= c && d <= b) return d - c;\n    else if (c <= a && b <= d) return b - a;\n    else if (a <= c && c <= b) return b - c;\n    else if (a <= d && d <= b) return d - a;\n    else return -1;\n}\n\n/**\n * return the union of the blocks [a, b] and [c, d]\n * @author Hanzhi Zhou\n */\nexport function blockUnion(\n    a: number,\n    b: number,\n    c: number,\n    d: number\n): [number, number] | undefined {\n    if (a <= c && d <= b) return [a, b];\n    else if (c <= a && b <= d) return [c, d];\n    else if (a <= c && c <= b) return [a, d];\n    else if (a <= d && d <= b) return [c, b];\n    return;\n}\n\n/**\n * convert 24 hour format time to 12 hour format.\n * @author Kaiying Shan\n * @param time the time in 24 hour format\n *\n * Example usage and return value:\n * ```js\n * to12hr('17:00') => '5:00PM'\n * ```\n */\nexport function to12hr(time: string) {\n    const sep = time.split(':');\n    const hr = +sep[0];\n    if (hr === 12) {\n        return time + 'PM';\n    } else if (hr === 0) {\n        return `12:${sep[1]}AM`;\n    } else if (hr < 12) {\n        return time + 'AM';\n    } else {\n        return `${hr - 12}:${sep[1]}PM`;\n    }\n}\n\n/**\n * convert 12 hr to 24 hr\n * @author Hanzhi Zhou\n * @param time\n * Example usage and return value:\n * ```js\n * to12hr('5:00PM') => '17:00'\n * ```\n */\nexport function to24hr(time: string) {\n    const pre = time.substring(0, time.length - 2);\n    const [hour, minute] = pre.split(':');\n\n    const numHour = +hour;\n    const suffix = time.substring(time.length - 2);\n    if (suffix === 'AM' || suffix == 'am') {\n        if (numHour === 12) {\n            return '00:' + minute;\n        } else {\n            return pre;\n        }\n    } else {\n        if (numHour === 12) {\n            return pre;\n        } else {\n            return `${(numHour + 12).toString().padStart(2, '0')}:${minute}`;\n        }\n    }\n}\n\n/**\n * helper function used in\n * @see [[GridSchedule]]\n * @see [[CourseBlock]]\n * @author Kaiying Shan\n * @param time\n */\nexport function timeToNum(time: string) {\n    const sep = time.split(':');\n    const min = parseInt(sep[1]);\n    const t = (parseInt(sep[0]) - 8) * 2;\n    return min >= 30 ? t + 1 : t;\n}\n\nexport function intTo24hr(num: number) {\n    return `${Math.floor(num / 60)\n        .toString()\n        .padStart(2, '0')}:${(num % 60).toString().padStart(2, '0')}`;\n}\n","/**\n * miscellaneous utility functions\n * @module src/utils\n */\n\n/**\n *\n */\nimport axios, { AxiosError } from 'axios';\nimport { saveAs } from 'file-saver';\nimport { Match } from '../models/Course';\n\n/**\n * highlight a matched part of a short string given that `match` is not undefined and `match.match === expMatch`\n * @author Hanzhi Zhou\n * @param str the string to inject highlight\n * @param expMatch the expected matched field in match.match\n * @param matches an array of match objects, sorted in numeric order of their `start` property\n */\nexport function highlightMatch<T extends string>(\n    str: string,\n    expMatch: T,\n    matches?: readonly Match<T>[]\n) {\n    if (!matches || !matches.length) return str;\n    let result = '';\n    let lastEnd = 0;\n    for (const { match, start, end } of matches) {\n        if (match === expMatch) {\n            result += `${str.substring(lastEnd, start)}<span class=\"bg-warning\">${str.substring(\n                start,\n                end\n            )}</span>`;\n            lastEnd = end;\n        }\n    }\n    return result + str.substring(lastEnd);\n}\n\n/**\n * Calculate a 32 bit FNV-1a hash\n * @see https://gist.github.com/vaiorabbit/5657561\n * @see http://isthe.com/chongo/tech/comp/fnv/\n * @param str the input string to hash\n * @returns a 32-bit unsigned integer\n */\nexport function hashCode(str: string): number {\n    let hval = 0x811c9dc5;\n\n    for (let i = 0; i < str.length; i++) {\n        hval ^= str.charCodeAt(i);\n        hval += (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24);\n    }\n    return hval >>> 0;\n}\n\n/**\n * Apply timeout on a promise\n *\n * @author Hanzhi Zhou\n * @param promise the promise to apply the timeout on\n * @param time time in millisecond\n * @param msg the error message on time out\n */\nexport function timeout<T>(\n    promise: Promise<T>,\n    time: number,\n    msg = 'Time out fetching data. Please try again later'\n): Promise<T> {\n    if (time > 0) {\n        const p = cancelablePromise(promise);\n        setTimeout(() => p.cancel(msg), time);\n        return p;\n    } else return promise;\n}\n\ntype Cancel = (msg: any) => void;\nexport interface CancelablePromise<T> extends Promise<T> {\n    cancel: Cancel;\n}\n/**\n * wrap a promise and return a new promise with a `cancel` method\n * @author Hanzhi Zhou\n * @param promise\n */\nexport function cancelablePromise<T>(promise: Promise<T>) {\n    let cancel: Cancel;\n    const p = new Promise((resolve, reject) => {\n        promise.then(res => resolve(res)).catch(err => reject(err));\n        cancel = reason => reject(reason);\n    }) as CancelablePromise<T>;\n    p.cancel = cancel!;\n    return p;\n}\n\n/**\n * save a string a as text file\n * @author Hanzhi Zhou\n * @param str the string to save as a file\n * @param filename\n */\nexport function savePlain(str: string, filename: string) {\n    saveAs(new Blob([str], { type: 'text/plain;charset=utf-8' }), filename);\n}\n\n/**\n * convert an (axios request) error to string message\n * @param err\n * @author Hanzhi Zhou\n */\nexport function errToStr(err: string | AxiosError) {\n    let errStr = '';\n    if (typeof err === 'string') errStr += err;\n    else if (err.response) errStr += `request rejected by the server`;\n    else if (err.request) errStr += `No internet`;\n    else errStr += err.message;\n    return errStr;\n}\n\nexport function isNumberArray(x: any): x is number[] {\n    return Array.isArray(x) && typeof x[0] === 'number';\n}\n\nexport function isStringArray(x: any): x is string[] {\n    return x instanceof Array && typeof x[0] === 'string';\n}\n\n/**\n * Get release note for current version && render.\n * Part of this function can be seen as an extremely-lightweight MarkDown renderer.\n * @author Kaiying Cat\n */\nexport async function getReleaseNote() {\n    try {\n        const res = await axios.get(\n            'https://api.github.com/repos/awesome-schedule/plannable/releases'\n        );\n\n        const promises = [];\n        const notes: string[] = [];\n\n        for (let i = 0; i < Math.min(3, res.data.length); i++) {\n            promises.push(\n                axios.post('https://api.github.com/markdown', {\n                    text: res.data[i].body,\n                    mode: 'gfm',\n                    context: 'github/gollum'\n                })\n            );\n        }\n\n        await Promise.all(promises).then(values => {\n            for (let i = 0; i < values.length; i++) {\n                notes.push(\n                    '<div class=\"card\"> <div class=\"card-body\"> <div class=\"card-title\"> <h6 style=\"list-style:none; padding-left: 0\">' +\n                        res.data[i].name +\n                        '</h6> <hr> </div>' +\n                        values[i].data +\n                        '</div> </div>'\n                );\n            }\n        });\n\n        return notes.join('<br>');\n    } catch (err) {\n        console.error(err);\n        return (\n            'Failed to obtain release note.' +\n            ' See https://github.com/awesome-schedule/plannable/releases instead.'\n        );\n    }\n}\n\nexport class GeneratedError extends Error {\n    constructor(message: string) {\n        super(message);\n        this.name = 'GeneratedError';\n    }\n}\n","/**\n * utilities for converting a schedule to a corresponding iCalendar file\n * @module src/utils\n * @todo need testing\n * @author Kaiying Shan\n */\n\n/**\n *\n */\nimport Event from '@/models/Event';\nimport Meeting from '@/models/Meeting';\nimport Schedule, { Day, dayToInt } from '../models/Schedule';\nimport { hr12toInt } from './time';\n\nfunction toICalEventString(\n    event: Event | Meeting,\n    uid: string,\n    startDate: Date,\n    until: Date,\n    summary: string,\n    description: string,\n    location: string\n) {\n    const [day, s, , e] = event.days.split(' ');\n    const startMin = hr12toInt(s);\n    const endMin = hr12toInt(e);\n\n    const days: Day[] = [];\n    for (let i = 0; i < day.length; i += 2) {\n        days.push(day.substr(i, 2) as Day);\n    }\n    startDate = calcStartDate(startDate, days[0]);\n\n    console.log(startMin, endMin);\n\n    let ical = '';\n    ical += 'BEGIN:VEVENT\\r\\n';\n    ical += `UID:${uid}\\r\\n`;\n    ical += `DTSTAMP:${dateToICalString(new Date())}\\r\\n`;\n    ical += `DTSTART:${dateToICalString(\n        new Date(startDate.getTime() + (startMin + 300) * 60 * 1000)\n    )}\\r\\n`;\n    ical += `DTEND:${dateToICalString(\n        new Date(startDate.getTime() + (endMin + 300) * 60 * 1000)\n    )}\\r\\n`;\n    ical += `SUMMARY:${summary}\\r\\n`;\n    ical += `RRULE:FREQ=WEEKLY;INTERVAL=1;BYDAY=${days\n        .join(',')\n        .toUpperCase()};UNTIL=${dateToICalString(until)}\\r\\n`;\n    ical += `DURATION=${endMin - startMin}\\r\\n`;\n    ical += `DESCRIPTION:${description}\\r\\n`;\n    ical += `LOCATION:${location}\\r\\n`;\n    ical += 'END:VEVENT\\r\\n';\n    return ical;\n}\n\nfunction calcStartDate(prevStart: Date, day: Day) {\n    const dayOffset = (dayToInt[day] + 7 - prevStart.getDay()) % 7;\n    return new Date(prevStart.getTime() + dayOffset * 1000 * 60 * 60 * 24);\n}\n\n/**\n * Convert a schedule to iCalendar format.\n * @see https://icalendar.org/\n * @param schedule Schedule object to be parsed into iCalendar format.\n * @return a string of iCalendar format\n */\nexport function toICal(schedule: Schedule) {\n    let ical = 'BEGIN:VCALENDAR\\r\\nVERSION:2.0\\r\\nPRODID:plannable\\r\\n';\n\n    let startDate: Date, endDate: Date;\n    for (const { dateArray } of window.catalog.sections) {\n        if (dateArray) {\n            startDate = new Date(dateArray[0]);\n            endDate = new Date(dateArray[1] + 1000 * 60 * 60 * 24);\n            break;\n        }\n    }\n\n    for (const [id] of schedule.current.ids) {\n        const sec = window.catalog.getSectionById(parseInt(id));\n        if (!sec.dateArray) continue;\n        startDate = new Date(sec.dateArray[0]);\n        endDate = new Date(sec.dateArray[1] + 1000 * 60 * 60 * 24);\n\n        for (const meeting of sec.meetings) {\n            try {\n                ical += toICalEventString(\n                    meeting,\n                    `class-number-${id}`,\n                    startDate,\n                    endDate,\n                    sec.displayName,\n                    sec.title,\n                    meeting.room\n                );\n            } catch (e) {\n                // error parsing time. probably TBA/TBD/Web based\n                console.error(e);\n            }\n        }\n    }\n\n    for (const event of schedule.events) {\n        ical += toICalEventString(\n            event,\n            `event-${event.key}`,\n            startDate!,\n            endDate!,\n            event.title ?? 'no title',\n            event.description ?? 'no description',\n            event.room ?? 'no room'\n        );\n    }\n    ical += 'END:VCALENDAR';\n    console.log(ical);\n    return ical;\n}\n\nfunction dateToICalString(date: Date) {\n    return (\n        date.getUTCFullYear() +\n        (date.getUTCMonth() + 1).toString().padStart(2, '0') +\n        date\n            .getUTCDate()\n            .toString()\n            .padStart(2, '0') +\n        'T' +\n        date\n            .getUTCHours()\n            .toString()\n            .padStart(2, '0') +\n        date\n            .getUTCMinutes()\n            .toString()\n            .padStart(2, '0') +\n        date\n            .getUTCSeconds()\n            .toString()\n            .padStart(2, '0') +\n        'Z'\n    );\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-100\",attrs:{\"id\":\"app\"},on:{\"change\":function($event){return _vm.saveStatus()}}},[_c('version-modal',{attrs:{\"version\":_vm.version}}),_c('course-modal',{attrs:{\"course\":_vm.modal.course,\"match\":_vm.modal.match,\"semester\":_vm.semester.currentSemester}}),_c('section-modal',{attrs:{\"semester\":_vm.semester.currentSemester,\"section\":_vm.modal.section}}),_c('URL-modal',{attrs:{\"url\":_vm.modal.url}}),_c('nav',{staticClass:\"tab-bar bg-light\"},[_c('div',{staticClass:\"tab-icon mt-0 mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showSelectClass },attrs:{\"title\":\"Select Classes\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showSelectClass')}}},[_c('i',{staticClass:\"far fa-calendar-alt\"})]),_c('div',{staticClass:\"tab-icon mt-0 mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showFuzzy },attrs:{\"title\":\"Fuzzy Search\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showFuzzy')}}},[_c('i',{staticClass:\"fas fa-search\"})]),_c('div',{staticClass:\"tab-icon mt-0 mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showEvent },attrs:{\"title\":\"Edit Events\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showEvent')}}},[_c('i',{staticClass:\"fab fa-elementor\"})]),_c('div',{staticClass:\"tab-icon mt-0 mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showFilter },attrs:{\"title\":\"Filters\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showFilter')}}},[_c('i',{staticClass:\"fas fa-filter\"})]),_c('div',{staticClass:\"tab-icon mt-0 mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showSetting },attrs:{\"title\":\"Display Settings\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showSetting')}}},[_c('i',{staticClass:\"fas fa-cog\"})]),_c('div',{staticClass:\"tab-icon mt-0 mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showSelectColor },attrs:{\"title\":\"Customize Colors\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showSelectColor')}}},[_c('i',{staticClass:\"fas fa-palette\"})]),_c('div',{staticClass:\"tab-icon mt-0 mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showExport },attrs:{\"title\":\"Import/Export Schedule\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showExport')}}},[_c('i',{staticClass:\"fas fa-download\"})]),_c('div',{staticClass:\"tab-icon mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showCompare },attrs:{\"title\":\"Compare\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showCompare')}}},[_c('i',{staticClass:\"fas fa-balance-scale\"})]),(_vm.display.enableLog)?_c('div',{staticClass:\"tab-icon mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showLog },attrs:{\"title\":\"Show logs\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showLog')}}},[_c('i',{staticClass:\"fas fa-stream\"})]):_vm._e(),(_vm.showInformation)?_c('div',{staticClass:\"tab-icon mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showInfo },attrs:{\"title\":\"Website guide and miscellaneous information\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showInfo')}}},[_c('i',{staticClass:\"fas fa-info-circle\"})]):_vm._e(),_c('div',{staticClass:\"tab-icon mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showExternal },attrs:{\"title\":\"Blank Page\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showExternal')}}},[_c('i',{staticClass:\"fas fa-bullhorn\"})])]),(_vm.sideBar.showSelectClass)?_c('class-view'):(_vm.sideBar.showFuzzy)?_c('fuzzy-view'):(_vm.sideBar.showEvent)?_c('event-view'):(_vm.sideBar.showFilter)?_c('filter-view'):(_vm.sideBar.showSetting)?_c('display-view'):(_vm.sideBar.showExport)?_c('export-view'):(_vm.sideBar.showSelectColor)?_c('palette-view'):(_vm.sideBar.showCompare)?_c('compare-view'):(_vm.sideBar.showInfo)?_c('information'):(_vm.sideBar.showExternal)?_c('external'):(_vm.sideBar.showLog)?_c('log-view'):_vm._e(),(!_vm.sideBar.showInfo && !_vm.sideBar.showExternal && !_vm.sideBar.showCompare)?_c('main-content',[_c('div',{staticClass:\"w-100 mb-2 row justify-content-center\",attrs:{\"id\":\"pg\"}},[(_vm.schedule.generated)?_c('div',{staticClass:\"col-sm-auto text-center my-1\"},[_c('Pagination')],1):_vm._e(),(_vm.schedule.currentSchedule.dateSeparators.length > 2)?_c('div',{staticClass:\"col-sm-auto text-center my-1\"},[_c('date-separator',{attrs:{\"cur-schedule\":_vm.schedule.currentSchedule}})],1):_vm._e(),(_vm.schedule.generated)?_c('div',{staticClass:\"col-sm-auto text-center align-self-center\"},[_c('button',{staticClass:\"btn btn-outline-primary my-1\",on:{\"click\":function($event){return _vm.addToCompare()}}},[_c('i',{staticClass:\"fas fa-balance-scale\"}),_vm._v(\" Compare \"),(_vm.indexOfCompare() !== -1)?_c('i',{staticClass:\"fas fa-check\"}):_vm._e()])]):_vm._e()]),_c('grid-schedule',{attrs:{\"current-schedule\":_vm.schedule.currentSchedule}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"schedule mt-2\",style:({\n        width: _vm.scheduleWidth + 'vw',\n        'margin-left': (_vm.status.isMobile ? 11 : _vm.scheduleLeft) + 'vw'\n    })},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.noti.msg.length > 0)?_c('div',{directives:[{name:\"top\",rawName:\"v-top\"}],staticClass:\"alert my-1 mx-auto\",class:(\"alert-\" + (_vm.noti.cls)),staticStyle:{\"width\":\"85%\"},attrs:{\"id\":\"noti\"}},[_c('div',{staticClass:\"row align-items-center\"},[_c('div',{staticClass:\"col-md-11\",domProps:{\"innerHTML\":_vm._s(_vm.noti.msg)}}),_c('div',{staticClass:\"col-md-1\"},[_c('button',{staticClass:\"close\",staticStyle:{\"align\":\"center\"},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.noti.clear()}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])])])]):_vm._e()]),_vm._t(\"default\"),_vm._m(0),_c('div',{attrs:{\"id\":\"footer-org\"}},[_vm._v(\" 2019-2021  \"),_c('strong',[_vm._v(\"Plannable v\"+_vm._s(_vm.version))]),_c('a',{staticClass:\"ml-4\",attrs:{\"href\":\"javascript:void\"},on:{\"click\":function($event){return _vm.modal.showReleaseNoteModal()}}},[_vm._v(\" View release note \")])])],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"footer-link\"}},[_c('div',{staticClass:\"row justify-content-between w-100\"},[_c('div',{staticClass:\"col-xs-auto pl-3 align-self-center\",staticStyle:{\"font-size\":\"1.1rem\"}},[_vm._v(\" Follow us on GitHub, submit a bug report by opening an issue or filling the google form. \")]),_c('div',{staticClass:\"col-xs-auto align-self-center\"},[_c('a',{staticClass:\"mr-5 link-btn\",attrs:{\"target\":\"_blank\",\"title\":\"Checkout our GitHub site to watch/star/fork\",\"href\":\"https://github.com/awesome-schedule/plannable/\"}},[_c('i',{staticClass:\"fab fa-github\"})]),_c('a',{staticClass:\"ml-4 mr-5 link-btn\",attrs:{\"target\":\"_blank\",\"title\":\"Submit a bug report\",\"href\":\"https://forms.gle/z8pNs8JtYbZ9dveC8\"}},[_c('i',{staticClass:\"fas fa-exclamation-circle\"})])])])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/algorithm\n * @author Hanzhi Zhou\n */\n\n/**\n * The struture of the objects used to store search results\n */\nexport interface SearchResult<T, K = string> {\n    /** the score of this result */\n    score: number;\n    /** an array of pairs indicating the indices of match. [[1,2], [7,9]] means that the indices [1, 2) and [7, 9) of the string are matched */\n    matches: number[];\n    /** index of the item in the original list */\n    index: number;\n    /** original_list[index] */\n    item: T;\n    /** some arbitrary data associated with this item */\n    data: K;\n}\n/**\n * Fast searcher for fuzzy search among a list of strings\n */\nexport class FastSearcher<T, K = string> {\n    public originals: string[] = [];\n\n    private idxOffsets: Uint32Array;\n    private indices: Uint32Array;\n    private tokenIds: Uint32Array;\n\n    private uniqueTokens: string[] = [];\n    private maxTokenLen: number = 0;\n\n    /**\n     * @param items the list of strings to search from\n     * @param data some arbitrary data that will be passed to each search result\n     */\n    constructor(\n        public items: T[],\n        toStr: (a: T) => string = x => x as any,\n        public data: K = '' as any\n    ) {\n        const allTokens: string[][] = [];\n        let tokenLen = 0;\n        this.idxOffsets = new Uint32Array(items.length + 1);\n        for (let i = 0; i < items.length; i++) {\n            const full = toStr(items[i])\n                .trimEnd()\n                .toLowerCase();\n            this.originals.push(full);\n            const temp = full.split(/\\s+/);\n            allTokens.push(temp);\n\n            this.idxOffsets[i] = tokenLen;\n            tokenLen += temp.length;\n            if (temp.length > this.maxTokenLen) this.maxTokenLen = temp.length;\n        }\n        this.idxOffsets[items.length] = tokenLen;\n\n        this.indices = new Uint32Array(tokenLen);\n        this.tokenIds = new Uint32Array(tokenLen);\n\n        const str2num = new Map<string, number>();\n        for (let j = 0; j < allTokens.length; j++) {\n            const tokens = allTokens[j];\n            const offset = this.idxOffsets[j];\n            const t0 = tokens[0];\n            if (!str2num.has(t0)) {\n                str2num.set(t0, this.uniqueTokens.length);\n                this.uniqueTokens.push(t0);\n            }\n            this.tokenIds[offset] = str2num.get(t0)!;\n            const original = this.originals[j];\n            for (let i = 1; i < tokens.length; i++) {\n                const token = tokens[i];\n                if (!str2num.has(token)) {\n                    str2num.set(token, this.uniqueTokens.length);\n                    this.uniqueTokens.push(token);\n                }\n                this.tokenIds[offset + i] = str2num.get(token)!;\n                this.indices[offset + i] = original.indexOf(\n                    token,\n                    this.indices[offset + i - 1] + tokens[i - 1].length\n                );\n            }\n        }\n\n        console.log('all tokens', tokenLen);\n        console.log('unique tokens', this.uniqueTokens.length);\n    }\n    private constructQueryGrams(query: string, gramLen: number) {\n        /** map from n-gram to index in the frequency array */\n        const queryGrams = new Map<string, number>();\n        const queryGramCount = query.length - gramLen + 1;\n\n        // keep frequencies in separated arrays for performance reasons\n        // copying a Map is slow, but copying a typed array is fast\n        const buffer = new ArrayBuffer(queryGramCount * 4);\n        const freqCount = new Uint16Array(buffer, 0, queryGramCount);\n        // the working copy\n        const freqCountCopy = new Uint16Array(buffer, queryGramCount * 2, queryGramCount);\n\n        for (let j = 0, idx = 0; j < queryGramCount; j++) {\n            const grams = query.substring(j, j + gramLen);\n            const eIdx = queryGrams.get(grams);\n            if (eIdx !== undefined) {\n                freqCount[eIdx] += 1;\n            } else {\n                queryGrams.set(grams, idx);\n                freqCount[idx++] = 1;\n            }\n        }\n        return [queryGrams, freqCount, freqCountCopy] as const;\n    }\n    public findBestMatch(query: string) {\n        query = query\n            .trim()\n            .toLowerCase()\n            .replace(/\\s+/g, ' ');\n\n        const [queryGrams, freqCount, freqCountCopy] = this.constructQueryGrams(query, 2);\n\n        let bestMatchIndex = 0;\n        let bestMatchRating = 0;\n        for (let i = 0; i < this.originals.length; i++) {\n            freqCountCopy.set(freqCount);\n            const currentTargetString = this.originals[i];\n            const currentRating = this.compareTwoStrings(\n                queryGrams,\n                freqCountCopy,\n                query,\n                currentTargetString\n            );\n            if (currentRating > bestMatchRating) {\n                bestMatchIndex = i;\n                bestMatchRating = currentRating;\n            }\n        }\n        return [bestMatchIndex, bestMatchRating];\n    }\n    /**\n     * Adapted from [[https://github.com/aceakash/string-similarity]], with optimizations:\n     */\n    public compareTwoStrings(\n        bigrams: Map<string, number>,\n        freqCount: Uint16Array,\n        first: string,\n        second: string\n    ) {\n        const len1 = first.length,\n            len2 = second.length;\n        if (!len1 && !len2) return 1; // if both are empty strings\n        if (!len1 || !len2) return 0; // if only one is empty string\n        if (first === second) return 1; // identical\n        if (len1 === 1 && len2 === 1) return 0; // both are 1-letter strings\n        if (len1 < 2 || len2 < 2) return 0; // if either is a 1-letter string\n\n        let intersectionSize = 0;\n        for (let i = 0; i < len2 - 1; i++) {\n            const bigram = second.substring(i, i + 2);\n            const idx = bigrams.get(bigram);\n\n            if (idx !== undefined && freqCount[idx] > 0) {\n                freqCount[idx]--;\n                intersectionSize++;\n            }\n        }\n\n        return (2.0 * intersectionSize) / (len1 + len2 - 2);\n    }\n    /**\n     * approximate sliding window search, accelerated by inverted index\n     * @param query\n     * @param maxWindow\n     * @param gramLen\n     */\n    public sWSearch(query: string, gramLen = 3, threshold = 0.03, maxWindow?: number) {\n        const t2 = query\n            .trim()\n            .toLowerCase()\n            .split(/\\s+/);\n        query = t2.join(' ');\n        if (query.length <= 2) return [];\n\n        maxWindow = Math.max(maxWindow || t2.length, 2);\n\n        const queryGramCount = query.length - gramLen + 1;\n        const [queryGrams, freqCount, freqCountCopy] = this.constructQueryGrams(query, gramLen);\n\n        const len = this.uniqueTokens.length;\n        const tokenScores = new Float32Array(len);\n        const tokenMatches: number[][] = [];\n        // compute score for each token\n        for (let i = 0; i < len; i++) {\n            freqCountCopy.set(freqCount);\n\n            const str = this.uniqueTokens[i];\n            const tokenGramCount = str.length - gramLen + 1;\n            const matches: number[] = [];\n            let intersectionSize = 0;\n            for (let j = 0; j < tokenGramCount; j++) {\n                const grams = str.substring(j, j + gramLen);\n                const idx = queryGrams.get(grams);\n\n                if (idx !== undefined && freqCountCopy[idx] > 0) {\n                    freqCountCopy[idx]--;\n                    intersectionSize++;\n                    matches.push(j, j + gramLen);\n                }\n            }\n            tokenScores[i] = (2 * intersectionSize) / (queryGramCount + tokenGramCount);\n            tokenMatches.push(matches);\n        }\n\n        // score & matches for each sentence\n        const allMatches: SearchResult<T, K>[] = [];\n        const scoreWindow = new Float32Array(this.maxTokenLen);\n        for (let i = 0; i < this.originals.length; i++) {\n            const matches = [];\n            const offset = this.idxOffsets[i];\n            const tokenLen = this.idxOffsets[i + 1] - offset;\n\n            // use the number of words as the window size in this string if maxWindow > number of words\n            const window = Math.min(maxWindow, tokenLen);\n\n            let score = 0,\n                maxScore = 0;\n            // initialize score window\n            for (let j = 0; j < window; j++) {\n                const tokenId = this.tokenIds[offset + j];\n                const v = tokenScores[tokenId];\n                score += scoreWindow[j] = v;\n\n                if (v < threshold) continue;\n                const temp = this.indices[offset + j];\n                const tokMatch = tokenMatches[tokenId];\n                for (let k = 0; k < tokMatch.length; k++) {\n                    matches.push(tokMatch[k] + temp);\n                }\n            }\n            if (score > maxScore) maxScore = score;\n\n            for (let j = window; j < tokenLen; j++) {\n                // subtract the last score and add the new score\n                score -= scoreWindow[j - window];\n                const tokenId = this.tokenIds[offset + j];\n                const v = tokenScores[tokenId];\n                score += scoreWindow[j] = v;\n\n                if (v < threshold) continue;\n                if (score > maxScore) maxScore = score;\n\n                const temp = this.indices[offset + j];\n                const tokMatch = tokenMatches[tokenId];\n                for (let k = 0; k < tokMatch.length; k++) {\n                    matches.push(tokMatch[k] + temp);\n                }\n            }\n\n            allMatches.push({\n                score: maxScore,\n                matches,\n                item: this.items[i],\n                index: i,\n                data: this.data\n            });\n        }\n\n        return allMatches;\n    }\n    /**\n     * exact sliding window search\n     * @param query\n     * @param maxWindow\n     * @param gramLen\n     */\n    public sWSearchExact(query: string, gramLen = 3, maxWindow?: number) {\n        const t2 = query\n            .trim()\n            .toLowerCase()\n            .split(/\\s+/);\n        query = t2.join(' ');\n        if (query.length <= 2) return [];\n\n        maxWindow = Math.max(maxWindow || t2.length, 2);\n\n        const queryGramCount = query.length - gramLen + 1;\n        const [queryGrams, freqCount, freqCountCopy] = this.constructQueryGrams(query, gramLen);\n\n        const allMatches: SearchResult<T, K>[] = [];\n        for (let i = 0; i < this.originals.length; i++) {\n            // if (!len1 && !len2) return [1, [0, 0]] as const; // if both are empty strings\n            // if (!len1 || !len2) return [0, []] as const; // if only one is empty string\n            // if (first === second) return [1, [0, len1]] as const; // identical\n            // if (len1 === 1 && len2 === 1) return [0, []] as const; // both are 1-letter strings\n            // if (len1 < 2 || len2 < 2) return [0, []] as const; // if either is a 1-letter string\n\n            const matches = [];\n            const fullStr = this.originals[i];\n            const offset = this.idxOffsets[i];\n\n            // note: nextOffset - offset = num of words + 1\n            const nextOffset = this.idxOffsets[i + 1];\n\n            // use the number of words as the window size in this string if maxWindow > number of words\n            const window = Math.min(maxWindow, nextOffset - offset);\n            let maxScore = 0;\n            for (let k = offset; k < nextOffset - window; k++) {\n                const start = this.indices[k];\n                const end = this.indices[k + window] - gramLen + 1;\n\n                let intersectionSize = 0;\n                freqCountCopy.set(freqCount);\n                for (let j = start; j < end; j++) {\n                    const grams = fullStr.substring(j, j + gramLen);\n                    const idx = queryGrams.get(grams);\n\n                    if (idx !== undefined && freqCountCopy[idx]-- > 0) {\n                        intersectionSize++;\n                        matches.push(j, j + gramLen);\n                    }\n                }\n\n                const score = (2 * intersectionSize) / (queryGramCount + end - start);\n                if (score > maxScore) {\n                    maxScore = score;\n                }\n            }\n\n            allMatches.push({\n                score: maxScore,\n                matches,\n                item: this.items[i],\n                index: i,\n                data: this.data\n            });\n        }\n        return allMatches;\n    }\n    public toJSON() {\n        return this.originals;\n    }\n}\n","// note: this is the description for the entire module.\n/**\n * models and data structures used across the website\n * @module src/models\n * @preferred\n */\n\n/**\n *\n */\nimport { RawAlgoCourse } from '../algorithm/ScheduleGenerator';\nimport Course, { CourseMatch } from './Course';\nimport Schedule from './Schedule';\nimport Section, { SectionMatch } from './Section';\n/**\n * represents a semester\n */\nexport interface SemesterJSON {\n    /**\n     * semester id, e.g. `1198`\n     */\n    readonly id: string;\n    /**\n     * semester name, e.g. Fall 2019\n     */\n    readonly name: string;\n}\n\ninterface SearchWorker extends Worker {\n    onmessage(x: MessageEvent): void;\n    postMessage(x: [readonly Course[], readonly Section[]] | string): void;\n}\n/**\n * the match indices for a [[Course]]\n *\n * 0: the array of matches for the fields of this Course\n *\n * 1: the Map that maps [[Section.id]] to the array of matches for the fields of that section\n */\nexport type SearchMatch = [CourseMatch[], Map<number, SectionMatch[]>];\n\ntype SearchWorkerResult = [RawAlgoCourse[], SearchMatch[]];\n\n/**\n * Catalog wraps the raw data of a semester, providing methods to access and search for courses/sections\n * @author Hanzhi Zhou\n */\nexport default class Catalog {\n    public worker?: SearchWorker;\n    /**\n     * a mapping from course key to course itself\n     */\n    public readonly courseDict: { readonly [courseKey: string]: Course };\n    /**\n     * array of all courses. equal to `Object.values(this.courseDict)`\n     */\n    public readonly courses: readonly Course[];\n    /**\n     * array of all sections. equal to\n     * ```js\n     * this.courses.flatMap(c => c.sections)\n     * ```\n     */\n    public readonly sections: readonly Section[];\n    /**\n     * a map from section id to section instance\n     */\n    private readonly sectionMap: Map<number, Section>;\n    /**\n     * the pending search (one that's not completed yet)\n     */\n    private readonly resultMap = new Map<string, SearchWorkerResult>();\n    /**\n     * @param semester the semester corresponding to the catalog stored in this object\n     * @param data\n     * @param modified\n     */\n    constructor(\n        public readonly semester: SemesterJSON,\n        data: ReturnType<Catalog['data']>,\n        public readonly modified: number\n    ) {\n        [this.courseDict, this.courses, this.sections] = data;\n        this.sectionMap = new Map();\n        for (const sec of this.sections) {\n            this.sectionMap.set(sec.id, sec);\n        }\n    }\n\n    /**\n     * only for type reflection and testing\n     */\n    private data() {\n        return [this.courseDict, this.courses, this.sections] as const;\n    }\n\n    /**\n     * initialize the web worker for searching\n     */\n    public initWorker(): Promise<'ready'> {\n        if (!this.worker) {\n            // use require because we don't want this in unit-tests\n            // this if branch will not tested in unit-tests because there's no web worker\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\n            const Worker = require('worker-loader!../workers/SearchWorker');\n            const worker: SearchWorker = new Worker();\n            const prom = new Promise<'ready'>(resolve => {\n                worker.onmessage = ({ data }) => {\n                    resolve(data);\n                };\n            }).then(res => {\n                worker.onmessage = ({ data: [query, result] }) => {\n                    this.resultMap.set(query, result);\n                };\n                worker.onerror = err => {\n                    console.error(err);\n                };\n                return res;\n            });\n            worker.postMessage([this.courses, this.sections]);\n            this.worker = worker;\n            return prom;\n        }\n        return Promise.resolve('ready');\n    }\n\n    /**\n     * terminate the worker and free memory\n     */\n    public disposeWorker() {\n        if (this.worker) {\n            this.worker.terminate();\n            this.resultMap.clear();\n            this.worker = undefined;\n        }\n    }\n\n    /**\n     * Get a Course associated with the given key\n     *\n     * you may specify a set of section indices so that you can\n     * only obtain a subset of the original course sections\n     */\n    public getCourse(key: string, sections?: Set<number> | -1) {\n        const course = this.courseDict[key];\n        if (!sections || sections === -1) return course;\n        else return course.getCourse([...sections]);\n    }\n\n    /**\n     * Get a Course associated with the given key and section id\n     */\n    public getSectionById(id: number) {\n        const sec = this.sectionMap.get(id);\n        if (!sec) throw new Error('Non-existent id ' + id);\n        return sec;\n    }\n\n    /**\n     * convert `cs11105` style key to `CS 1110 Lecture`\n     *\n     * convert key of an event (e.g. `MoFr 1:00PM - 2:00PM`) to its title\n     */\n    convertKey(key: string, schedule?: Schedule) {\n        const course = this.courseDict[key];\n        if (course) return course.displayName;\n        else if (schedule) {\n            const event = schedule.events.find(e => e.key === key);\n            if (event) return event.title === '' ? key : event.title;\n            else return key;\n        }\n    }\n\n    /**\n     * perform fuzzy search in the dedicated web worker\n     */\n    public fuzzySearch(query: string) {\n        const worker = this.worker;\n        if (!worker) return Promise.reject('Worker not initialized!');\n\n        const lastResult = this.resultMap.get(query);\n        if (lastResult && !(lastResult instanceof ErrorEvent)) {\n            return Promise.resolve(this.convertWorkerResult(lastResult));\n        } else {\n            worker.postMessage(query);\n        }\n\n        return new Promise<readonly [Course[], SearchMatch[]]>((resolve, reject) => {\n            const that = this;\n            (function waitForLatestResult() {\n                const lastResult = that.resultMap.get(query);\n                if (lastResult) {\n                    if (lastResult instanceof ErrorEvent) {\n                        reject(lastResult);\n                    } else {\n                        resolve(that.convertWorkerResult(lastResult));\n                    }\n                    return;\n                }\n                setTimeout(waitForLatestResult, 25);\n            })();\n        });\n    }\n\n    private convertWorkerResult([courses, match]: SearchWorkerResult) {\n        return [courses.map(x => this.getCourse(x[0], new Set(x[1]))), match] as const;\n    }\n\n    /**\n     * Perform a linear search in the catalog against\n     * course number, title, topic, professor name and description, in the order specified.\n     * @param query\n     * @param max_results\n     */\n    public search(query: string, max_results = 6): [Course[], SearchMatch[]] {\n        query = query.trim().toLowerCase();\n        const temp = query.split(/\\s+/);\n        query = temp.join(' ');\n\n        /** is special search*/\n        const spec = query.startsWith(':') && temp.length > 1;\n\n        /** query no space*/\n        let queryNoSp: string;\n        let field = '';\n        if (spec) {\n            field = temp[0].substring(1);\n            queryNoSp = temp.slice(1).join('');\n            query = temp.slice(1).join(' ');\n        } else {\n            queryNoSp = temp.join('');\n        }\n\n        const results: Course[] = [];\n        const matches: SearchMatch[] = [];\n        const courses = this.courses;\n        const len = courses.length;\n\n        if (!spec || field === 'num' || field === 'key')\n            for (let i = 0; i < len; i++) {\n                this.searchKey(queryNoSp, courses[i], results, matches);\n                if (results.length >= max_results) return [results, matches];\n            }\n\n        if (!spec || field === 'title')\n            for (let i = 0; i < len; i++) {\n                this.searchField(query, 'title', courses[i], results, matches);\n                if (results.length >= max_results) return [results, matches];\n            }\n\n        if (!spec || field === 'topic')\n            for (let i = 0; i < len; i++) {\n                this.searchTopic(query, courses[i], results, matches);\n                if (results.length >= max_results) return [results, matches];\n            }\n\n        if (!spec || field === 'prof')\n            for (let i = 0; i < len; i++) {\n                this.searchProf(query, courses[i], results, matches);\n                if (results.length >= max_results) return [results, matches];\n            }\n\n        if (!spec || field === 'desc')\n            for (let i = 0; i < len; i++) {\n                this.searchField(query, 'description', courses[i], results, matches);\n                if (results.length >= max_results) return [results, matches];\n            }\n        return [results, matches];\n    }\n\n    private searchKey(\n        queryNoSp: string,\n        course: Course,\n        results: Course[],\n        matches: SearchMatch[]\n    ) {\n        const key = course.key;\n        const keyIdx = key.indexOf(queryNoSp);\n        // match with the course number\n        if (keyIdx !== -1) {\n            const deptLen = course.department.length;\n            const end = keyIdx + queryNoSp.length;\n            results.push(course);\n            matches.push([\n                [\n                    {\n                        match: 'key',\n                        start: keyIdx + +(keyIdx >= deptLen),\n                        end: end + +(end > deptLen)\n                    }\n                ],\n                new Map()\n            ]);\n        }\n    }\n\n    private searchField(\n        query: string,\n        field: 'title' | 'description',\n        course: Course,\n        results: Course[],\n        matches: SearchMatch[]\n    ) {\n        const target = course[field].toLowerCase();\n        const key = course.key;\n        const targetIdx = target.indexOf(query);\n        if (targetIdx !== -1) {\n            const prev = results.findIndex(x => x.key === key);\n            const match: CourseMatch = {\n                match: field,\n                start: targetIdx,\n                end: targetIdx + query.length\n            };\n            if (prev !== -1) {\n                matches[prev][0].push(match);\n            } else {\n                results.push(course);\n                matches.push([[match], new Map()]);\n            }\n        }\n    }\n\n    private searchTopic(query: string, course: Course, results: Course[], matches: SearchMatch[]) {\n        // check any topic/professor match. Select the sections which only match the topic/professor\n        const topicMatches = new Map<number, [SectionMatch]>();\n        for (const sec of course.sections) {\n            const topic = sec.topic;\n            const topicIdx = topic.toLowerCase().indexOf(query);\n            if (topicIdx !== -1) {\n                topicMatches.set(sec.id, [\n                    {\n                        match: 'topic',\n                        start: topicIdx,\n                        end: topicIdx + query.length\n                    }\n                ]);\n            }\n        }\n        if (topicMatches.size) this.appendToResult(course, topicMatches, results, matches);\n    }\n\n    private searchProf(query: string, course: Course, results: Course[], matches: SearchMatch[]) {\n        // check any topic/professor match. Select the sections which only match the topic/professor\n        const profMatches = new Map<number, [SectionMatch]>();\n        for (const sec of course.sections) {\n            const profs = sec.instructors.join(', ').toLowerCase();\n            const profIdx = profs.indexOf(query);\n            if (profIdx !== -1) {\n                profMatches.set(sec.id, [\n                    {\n                        match: 'instructors',\n                        start: profIdx,\n                        end: profIdx + query.length\n                    }\n                ]);\n            }\n        }\n        if (profMatches.size) this.appendToResult(course, profMatches, results, matches);\n    }\n\n    private appendToResult(\n        course: Course,\n        matches: Map<number, SectionMatch[]>,\n        results: Course[],\n        allMatches: SearchMatch[]\n    ) {\n        const prev = results.findIndex(x => x.key === course.key);\n        if (prev !== -1) {\n            results[prev] = course.getCourse([\n                ...new Set(course.ids.concat([...matches.keys()])) // merge sids and eliminate duplicates\n            ]);\n            // merge the section matches with the previously recorded section matches\n            const combSecMatches = allMatches[prev][1];\n            for (const [id, mats] of matches) {\n                const prevMats = combSecMatches.get(id);\n                if (prevMats) prevMats.push(...mats);\n                else combSecMatches.set(id, mats);\n            }\n        } else {\n            results.push(course.getCourse([...matches.keys()]));\n            allMatches.push([[], matches]);\n        }\n    }\n}\n","/**\n * @author Hanzhi Zhou\n * @module src/models\n */\n\n/**\n *\n */\nimport { CourseType } from '../config';\nimport { hashCode } from '../utils';\nimport Hashable from './Hashable';\nimport Section from './Section';\n\n/**\n * represents all public information of a Course\n */\nexport interface CourseFields {\n    /**\n     * the key of the course. must be globally unique for all courses, e.g. cs11105\n     * composed of three parts:\n     * 1. lowercase department letter, e.g. cs\n     * 2. course number, e.g. 1110\n     * 3. course type index, e.g. 5., corresponding to [[TYPES]]\n     */\n    readonly key: string;\n    /**\n     * department name, short form, all capitalized. e.g `CS`\n     */\n    readonly department: string;\n    /**\n     * Course number, e.g. `2150`\n     */\n    readonly number: number;\n    /**\n     * One of the keys of [[TYPES_PARSE]]\n     */\n    readonly type: string;\n    /**\n     * Units (credits), usually a number, but could be a range represented as a string like value\n     * @example\n     * \"1\", \"3\", \"2.5\", \"1 - 12\"\n     */\n    readonly units: string;\n    /**\n     * one line title for the course, e.g. \"Principle of Microeconomics\"\n     */\n    readonly title: string;\n    /**\n     * a full description of the course\n     */\n    readonly description: string;\n}\n\n/**\n * a match result (from searcher)\n * @typeparam T the field name of the course/section that matches the search query\n */\nexport interface Match<T extends string> {\n    readonly match: T;\n    /**\n     * start index of the match\n     */\n    readonly start: number;\n    /**\n     * end index + 1 of the match\n     */\n    readonly end: number;\n}\n\ntype CourseMatchField = 'title' | 'description' | 'key';\nexport type CourseMatch<T extends CourseMatchField = CourseMatchField> = Match<T>;\n\n/**\n * the model of a Course that has multiple sections. A Course object may have all or a subset of the sections,\n * depending on the array of section indices passed to its constructor.\n *\n * All course instances are immutable\n */\nexport default class Course implements CourseFields, Hashable {\n    /** @see [[CourseFields.key]] */\n    public readonly key: string;\n    /** @see [[CourseFields.department]] */\n    public readonly department: string;\n    /** @see [[CourseFields.number]] */\n    public readonly number: number;\n    /** @see [[CourseFields.type]] */\n    public readonly type: CourseType;\n    /** @see [[CourseFields.units]] */\n    public readonly units: string;\n    /** @see [[CourseFields.title]] */\n    public readonly title: string;\n    /** @see [[CourseFields.description]] */\n    public readonly description: string;\n\n    /**\n     * Array of sections contained in this object.\n     * Can be all sections or a subset or the sections. This property is **non-enumerable**\n     */\n    public readonly sections: Section[];\n\n    /**\n     * this constructor is only used to create a copy of a course with all or selected subset of sections.\n     * Original course instances are created through `Object.create` and are not constructed with this constructor.\n     * @param course the full-course that will be copied\n     * @param ids A list of section indices for specifying the subset of sections to be copied\n     */\n    constructor(course: Course, public readonly ids: number[]) {\n        this.key = course.key;\n        this.department = course.department;\n        this.number = course.number;\n        this.type = course.type;\n        this.units = course.units;\n        this.title = course.title;\n        this.description = course.description;\n        this.sections = ids.reduce<Section[]>((acc, id) => {\n            const sec = course.sections.find(s => s.id === id);\n            if (!sec) throw new Error('Non-existent id ' + id);\n            acc.push(sec);\n            return acc;\n        }, []);\n    }\n    /**\n     * human readable name for this course, e.g. ECON 2010 Lecture\n     */\n    get displayName() {\n        return this.department + ' ' + this.number + ' ' + this.type;\n    }\n\n    /**\n     * Get the Course containing only the given sections\n     */\n    public getCourse(ids: number[]) {\n        return new Course(this, ids);\n    }\n\n    public getSectionById(id: number) {\n        const sec = this.sections.find(s => s.id === id);\n        if (!sec) throw new Error('Non-existent id ' + id);\n        return sec;\n    }\n\n    /**\n     * whether all sections of this Course occur at the same time\n     */\n    public allSameTime() {\n        const sections = this.sections;\n        for (let i = 0; i < sections.length - 1; i++) {\n            if (!sections[i].sameTimeAs(sections[i + 1])) return false;\n        }\n        return true;\n    }\n\n    /**\n     * Get an object in which the key is the date string + days and\n     * value is the array of section indices contained in this Course occurring at that time.\n     * For example:\n     * ```js\n     * {\"08/27/2019 - 12/17/2019|MoTu 11:00AM-11:50AM|Fr 10:00AM - 10:50AM\" : [1,2,3,7,9]}\n     * ```\n     */\n    public getCombined() {\n        const combined: { [x: string]: Section[] } = {};\n        for (const section of this.sections) {\n            const str = section.combinedTime();\n            if (combined[str]) combined[str].push(section);\n            else combined[str] = [section];\n        }\n        return combined;\n    }\n\n    /**\n     * Returns a 32-bit integer hash for this Course.\n     * Hashes are different if the sections contained in this course are different\n     */\n    public hash() {\n        return hashCode(this.key);\n    }\n\n    public equals(object: object) {\n        if (object instanceof Course) {\n            return this.key === object.key && this.ids.toString() === object.ids.toString();\n        }\n        return false;\n    }\n\n    /**\n     * check whether the section is contained in this course\n     */\n    public has(section: Section): boolean;\n    /**\n     * check whether the set of sections indices with the given key\n     * exist in the section array contained in this course\n     * @param sections the Set of section indices\n     * @param key the key of the section\n     */\n    // eslint-disable-next-line no-dupe-class-members\n    public has(sections: Set<number>, key: string): boolean;\n    // eslint-disable-next-line no-dupe-class-members\n    public has(element: Section | Set<number>, key?: string): boolean {\n        if (element instanceof Set) {\n            return this.key === key && this.ids.some(id => element.has(id));\n        } else {\n            return this.key === element.key && this.ids.includes(element.id);\n        }\n    }\n}\n","/**\n * @author Hanzhi Zhou\n * @module src/models\n */\n\n/**\n * extract the array of instructor names from the array of meetings\n * @param meetings\n */\nexport function getInstructors(meetings: readonly Meeting[]) {\n    const profs: string[] = [];\n    for (const meeting of meetings) {\n        const meetingProfs = meeting.instructor.split(', ');\n        for (const prof of meetingProfs) {\n            if (!profs.includes(prof)) profs.push(prof);\n        }\n    }\n    return profs;\n}\n\n/**\n * A meeting represents a specific meeting time \\w information about the instructor and location\n */\nexport default interface Meeting {\n    readonly instructor: string;\n    readonly days: string;\n    readonly room: string;\n}\n","import { FastSearcher } from './algorithm/Searcher';\nimport Catalog, { SemesterJSON } from './models/Catalog';\nimport Course from './models/Course';\nimport Section from './models/Section';\n\n/** the version string from package.json */\nexport const version: string = require('../package.json').version;\n\n/** whether running on electron */\nexport const runningOnElectron = window.navigator.userAgent.toLowerCase().includes('electron');\n\nexport interface BackendConfig {\n    /** Name of the backend */\n    name: string;\n    /** API endpoint for uploading/overwriting profiles on remote*/\n    up: string;\n    /** API endpoint for downloading profiles from remote */\n    down: string;\n    /** API endpoint for editing the properties of the profile (e.g. name) */\n    edit: string;\n    /** API endpoint for getting the authorization code */\n    code: string;\n    /** API endpoint to exchange authorization code for an access token */\n    token: string;\n    /** Client ID for OAuth */\n    client_id: string;\n    /** Whether to allow OAuth on plannable desktop app (built with electron) */\n    oauth_on_electron: false;\n    /**\n     * Redirect URI for plannable desktop app. This URI will not be visited. Instead, it acts like a flag, indicating that the server\n     * has directed back to the client. This can set to anything, as long as the server and the client have an agreement.\n     * It is recommended to set this value to a (probably non-existent) localhost URI.\n     */\n    oauth_electron_redirect_uri: string;\n}\n\nexport interface DataEnd {\n    /**\n     * an async function that fetches the array of buildings\n     * @returns a FastSearcher instance constructed from the array of buildings\n     */\n    readonly buildings: () => Promise<FastSearcher<string>>;\n    /**\n     * an async function that fetches the distance matrix (equivalently, the walking time) between the buildings.\n     * matrix[i * len + j] represents the distance between the ith building and jth building in the array of buildings fetched by dataend.buildings\n     * @returns the distance matrix, in Int32Array\n     */\n    readonly distances: () => Promise<Int32Array>;\n    /**\n     * an async function that fetches the list of the semesters\n     */\n    readonly semesters: (count?: number) => Promise<SemesterJSON[]>;\n    /**\n     * an async function that fetches all courses corresponding to the given semester\n     * @returns a catalog object built from the courses\n     */\n    readonly courses: (semester: SemesterJSON) => Promise<Catalog>;\n}\n\n/**\n * Functions for fetching data\n */\nexport const dataend: DataEnd = {\n    buildings: null,\n    distances: null,\n    semesters: null,\n    courses: null\n} as any; // remove to enable type checking\n\ninterface ModalLinkItem<T> {\n    /** the inner text of the button used to open your link */\n    name: string;\n    /**\n     * an action to perform when user clicks on this link\n     * @param semester the currently selected semester\n     * @param param course/section corresponding to the active modal\n     */\n    action(semester: SemesterJSON, param: T): void;\n}\n\nexport interface ModalLinks {\n    section: ModalLinkItem<Section>[];\n    course: ModalLinkItem<Course>[];\n}\n\n/**\n * Used to generate a list of action buttons in section/course modal.\n * We used it to open external pages relevant to the given course/section.\n */\nexport const modalLinks: ModalLinks = {\n    section: [],\n    course: []\n};\n\n/**\n * some default UI configurations. Usually no need to change\n */\nexport const ui = {\n    sideBarWidth: 19,\n    sideMargin: 3,\n    tabBarWidthMobile: 10,\n    tabBarWidth: 3\n} as const;\n\n/**\n * expiration config, usually no need to change\n */\nexport const semesterListExpirationTime = 86400 * 1000; // one day\nexport const semesterDataExpirationTime = 2 * 3600 * 1000; // two hours\n\n// -------------------------- lecture type configuration ---------------------------------\nexport type CourseType = keyof typeof TYPES_PARSE;\n// CourseStatus is only used for typing purposes. can be just an alias of string\nexport type CourseStatus = 'TBA' | 'Open' | 'Closed' | 'Wait List';\n\n/**\n * lecture type number => meaning\n */\nexport const TYPES = Object.freeze({\n    '-1': '',\n    0: 'Clinical',\n    1: 'Discussion',\n    2: 'Drill',\n    3: 'Independent Study',\n    4: 'Laboratory',\n    5: 'Lecture',\n    6: 'Practicum',\n    7: 'Seminar',\n    8: 'Studio',\n    9: 'Workshop'\n});\n/**\n * parse lecture type string to id\n */\nexport const TYPES_PARSE = Object.freeze({\n    '': -1,\n    Clinical: 0,\n    CLN: 0,\n    Discussion: 1,\n    DIS: 1,\n    Drill: 2,\n    DRL: 2,\n    'Independent Study': 3,\n    IND: 3,\n    Laboratory: 4,\n    LAB: 4,\n    Lecture: 5,\n    LEC: 5,\n    Practicum: 6,\n    PRA: 6,\n    Seminar: 7,\n    SEM: 7,\n    Studio: 8,\n    STO: 8,\n    Workshop: 9,\n    WKS: 9\n});\n\n/**\n * whether to enable conversion from [[Course.key]] to human readable string.\n * It is only used to inform user about the removal of a course when its key does not exist in catalog.\n * The regex variable [[keyRegex]] will be used to match [[Course.key]]\n * @see [[Course.key]]\n */\nexport const enableKeyConversion = false;\n/**\n * the regex used to match the components of [[Course.key]]. It must have three capture groups,\n * one for the department string, one for the course number, and one for the course type, corresponding\n * to the keys of TYPES\n */\nexport const keyRegex: typeof enableKeyConversion extends true ? RegExp : null = null;\n","/**\n * @module src/config\n */\n\n/**\n *\n */\nimport axios from 'axios';\nimport { parse } from 'papaparse';\nimport { stringify } from 'querystring';\nimport { FastSearcher } from './algorithm/Searcher';\nimport Catalog, { SemesterJSON } from './models/Catalog';\nimport Course, { CourseFields } from './models/Course';\nimport Meeting, { getInstructors } from './models/Meeting';\nimport Section, { SectionFields, ValidFlag } from './models/Section';\nimport { parseDate } from './utils';\nimport * as defaultConfig from './config.example';\n\n/** the version string from package.json */\nexport const version: string = defaultConfig.version;\n\n/** whether running on electron */\nexport const runningOnElectron = defaultConfig.runningOnElectron;\n\n/**\n * Configuration of the backend.\n */\nexport const backend: defaultConfig.BackendConfig = require('../package.json').backend;\n\n/**\n * Functions for fetching data\n */\nexport const dataend: defaultConfig.DataEnd = {\n    buildings: requestBuildingSearcher,\n    distances: requestTimeMatrix,\n    semesters: requestSemesterList,\n    courses: requestCourses\n};\n\n/**\n * Used to generate a list of action buttons in section/course modal.\n * We used it to open external pages relevant to the given course/section.\n */\nexport const modalLinks: defaultConfig.ModalLinks = {\n    section: [\n        {\n            name: 'Course Evaluations',\n            action: viewEvals\n        },\n        {\n            name: 'Grade Distribution',\n            action: viewGrades\n        },\n        {\n            name: \"More Details (Lou's List)\",\n            action: function(semester: SemesterJSON, section: Section) {\n                window.open(\n                    `https://louslist.org/sectiontip.php?Semester=${semester.id}&ClassNumber=${section.id}`,\n                    '_blank',\n                    'width=650,height=700,scrollbars=yes'\n                );\n            }\n        },\n        {\n            name: 'Reviews (Hoosmyprofessor, Chinese)',\n            action: viewHpEvals\n        }\n    ],\n    course: [\n        {\n            name: 'Course Evaluations',\n            action: viewEvals\n        },\n        {\n            name: 'Grade Distribution',\n            action: viewGrades\n        },\n        {\n            name: 'Reviews (Hoosmyprofessor, Chinese)',\n            action: viewHpEvals\n        }\n    ]\n};\n\n/**\n * some default UI configurations. Usually no need to change\n */\nexport const ui = defaultConfig.ui;\n\n/**\n * expiration config, usually no need to change\n */\nexport const semesterListExpirationTime = defaultConfig.semesterListExpirationTime; // one day\nexport const semesterDataExpirationTime = defaultConfig.semesterDataExpirationTime; // two hours\n\n// -------------------------- lecture type configuration ---------------------------------\nexport type CourseType = defaultConfig.CourseType;\n// CourseStatus is only used for typing purposes. can be just an alias of string\nexport type CourseStatus = defaultConfig.CourseStatus;\n\n/**\n * lecture type number => meaning\n */\nexport const TYPES = defaultConfig.TYPES;\n\n/**\n * parse lecture type string to id\n */\nexport const TYPES_PARSE = defaultConfig.TYPES_PARSE;\n/**\n * whether to enable conversion from [[Course.key]] to human readable string.\n * It is only used to inform user about the removal of a course when its key does not exist in catalog.\n * The regex variable [[keyRegex]] will be used to match [[Course.key]]\n * @see [[Course.key]]\n */\nexport const enableKeyConversion = true;\n/**\n * the regex used to match the components of [[Course.key]]. It must have three capture groups,\n * one for the department string, one for the course number, and one for the course type, corresponding\n * to the keys of TYPES\n */\nexport const keyRegex: typeof enableKeyConversion extends true\n    ? RegExp\n    : null = /([a-z]{1,5})([0-9]{1,5})([0-9])$/i;\n\n// --------------------------------------------------------------------------------------------\n// | The following functions are specific to plannable for University of Virginia             |\n// --------------------------------------------------------------------------------------------\n\n/**\n * for the given course, open an external webpage showing the past grades of that course\n */\nfunction viewGrades(semester: SemesterJSON, course: CourseFields) {\n    window.open(\n        `https://vagrades.com/uva/${course.department.toUpperCase()}${course.number}`,\n        '_blank',\n        'width=650,height=700,scrollbars=yes'\n    );\n}\n\n/**\n * view the evaluations for the given course\n */\nfunction viewEvals(semester: SemesterJSON, param: CourseFields) {\n    window.open(\n        `https://evals.itc.virginia.edu/course-selectionguide/pages/SGMain.jsp?cmp=${param.department},${param.number}`,\n        '_blank',\n        'width=720,height=700,scrollbars=yes'\n    );\n}\n\nfunction viewHpEvals(semester: SemesterJSON, param: CourseFields) {\n    window.open(`https://match.msnatuva.org/courses/v2/${param.key}/`, '_blank');\n}\n\n/**\n * get the origin\n */\nfunction getApi() {\n    if (\n        window.location.host.indexOf('localhost') !== -1 ||\n        window.location.host.indexOf('127.0.0.1') !== -1\n    ) {\n        return 'http://localhost:8000'; // local development\n    } else if (window.location.protocol === 'file:') {\n        return `https://plannable.org/`; // electron?\n    } else {\n        return `${window.location.protocol}//${window.location.host}`; // other: plannable.org or plannable.gitee.io\n    }\n}\n\n/**\n * request from remote and store in localStorage\n */\nasync function requestTimeMatrix(): Promise<Int32Array> {\n    const { data } = await axios.get(`${getApi()}/data/Distance/Time_Matrix.json`);\n    const len = data.length;\n    const flattened = new Int32Array(len ** 2);\n    for (let i = 0; i < len; i++) flattened.set(data[i], i * len);\n    return flattened;\n}\n\n/**\n * request the building list from remote and store in localStorage\n *\n * @returns a building searcher\n */\nasync function requestBuildingSearcher() {\n    const res = await axios.get<string[]>(`${getApi()}/data/Distance/Building_Array.json`);\n    return new FastSearcher(res.data);\n}\n\nasync function requestCourses(semester: SemesterJSON) {\n    console.time(`request semester ${semester.name} data`);\n\n    const res = await (location.host === 'plannable.org' || location.protocol === 'file:' // Running on GitHub pages or Electron (primary address)?\n        ? axios.post<string>(\n              'https://louslist.org/deliverData.php', // yes\n              stringify({\n                  Semester: semester.id,\n                  Group: 'CS',\n                  Description: 'Yes',\n                  submit: 'Submit Data Request',\n                  Extended: 'Yes'\n              })\n          ) // use the mirror/local dev server\n        : axios.get<string>(\n              `${getApi()}/data/Semester%20Data/CS${semester.id}Data.csv?time=${Math.random()}`\n          ));\n    console.timeEnd(`request semester ${semester.name} data`);\n    return new Catalog(\n        semester,\n        parseSemesterData(\n            parse(res.data, {\n                skipEmptyLines: true,\n                header: false\n            }).data as string[][]\n        ),\n        Date.now()\n    );\n}\n\nfunction parseSemesterData(rawData: string[][]) {\n    console.time('parse semester data');\n\n    const courseDict: { [x: string]: Course } = Object.create(null);\n    const allSections: Section[] = [];\n    for (let j = 1; j < rawData.length; j++) {\n        const data = rawData[j];\n\n        // todo: robust data validation\n        const type = TYPES_PARSE[data[4] as CourseType];\n        const key = (data[1] + data[2] + type).toLowerCase();\n\n        const meetings: Meeting[] = [];\n        let date = data[6 + 3];\n        let valid: ValidFlag = 0;\n        for (let i = 0; i < 4; i++) {\n            const start = 6 + i * 4; // meeting information starts at index 6\n            const instructor = data[start],\n                days = data[start + 1],\n                room = data[start + 2];\n            if (instructor || days || room) {\n                const meetingDate = data[start + 3];\n                if (!date) date = meetingDate;\n                // inconsistent date\n                if (meetingDate && meetingDate !== date) valid |= 2;\n\n                // incomplete information\n                if (\n                    !instructor ||\n                    !room ||\n                    instructor === 'TBA' ||\n                    room === 'TBA' ||\n                    instructor === 'TBD' ||\n                    room === 'TBD'\n                )\n                    valid |= 1;\n\n                // unknown meeting time\n                if (!days || days === 'TBA' || days === 'TBD') {\n                    valid |= 4;\n                } else {\n                    const [, startT, , endT] = days.split(' ');\n                    // invalid meeting time\n                    if (startT === endT) valid |= 4;\n                }\n\n                // insertion sort\n                let k = 0;\n                for (; k < meetings.length; k++) {\n                    if (days < meetings[k].days) break;\n                }\n                meetings.splice(k, 0, {\n                    instructor,\n                    days,\n                    room\n                });\n            }\n        }\n        // unknown date\n        if (!date || date === 'TBD' || date === 'TBA') valid |= 8;\n        if (typeof date !== 'string') date = '';\n\n        let course = courseDict[key];\n        if (!course) {\n            course = courseDict[key] = Object.create(Course.prototype, {\n                department: {\n                    value: data[1],\n                    enumerable: true\n                },\n                number: {\n                    value: +data[2],\n                    enumerable: true\n                },\n                type: {\n                    value: data[4],\n                    enumerable: true\n                },\n                key: {\n                    value: key,\n                    enumerable: true\n                },\n                units: {\n                    value: data[5],\n                    enumerable: true\n                },\n                title: {\n                    value: data[22],\n                    enumerable: true\n                },\n                description: {\n                    value: data[28],\n                    enumerable: true\n                },\n                sections: {\n                    value: [] as Section[] // non-enumerable\n                },\n                ids: {\n                    value: [] as number[],\n                    enumerable: true\n                }\n            } as { [x in keyof Course]: TypedPropertyDescriptor<Course[x]> });\n        }\n\n        const section: Section = Object.create(Section.prototype, {\n            course: {\n                value: course // back ref to course, non-enumerable\n            },\n            key: {\n                value: key,\n                enumerable: true\n            },\n            id: {\n                value: +data[0],\n                enumerable: true\n            },\n            section: {\n                value: data[3],\n                enumerable: true\n            },\n            topic: {\n                value: data[23],\n                enumerable: true\n            },\n            status: {\n                value: data[24],\n                enumerable: true\n            },\n            enrollment: {\n                value: +data[25],\n                enumerable: true\n            },\n            enrollment_limit: {\n                value: +data[26],\n                enumerable: true\n            },\n            wait_list: {\n                value: +data[27],\n                enumerable: true\n            },\n            valid: {\n                value: valid,\n                enumerable: true\n            },\n            meetings: {\n                value: meetings,\n                enumerable: true\n            },\n            instructors: {\n                value: getInstructors(meetings),\n                enumerable: true\n            },\n            dateArray: {\n                value: parseDate(date),\n                enumerable: true\n            },\n            dates: {\n                value: date,\n                enumerable: true\n            }\n        } as {\n            [x in keyof Required<SectionFields>]: TypedPropertyDescriptor<Section[x]>;\n        });\n\n        course.ids.push(+data[0]);\n        course.sections.push(section);\n        allSections.push(section);\n    }\n    const allCourses = Object.values(courseDict);\n    console.timeEnd('parse semester data');\n\n    return [courseDict, allCourses, allSections] as const;\n}\n\n/**\n * Fetch the list of semesters from Lou's list\n */\nasync function requestSemesterList(count = 10): Promise<SemesterJSON[]> {\n    console.time('get semester list');\n    const response = await (location.host === 'plannable.org' || location.protocol === 'file:'\n        ? axios.get<string>(`https://louslist.org/index.php?time=${Math.random()}`)\n        : axios.get<string>(`${getApi()}/data/Semester Data/index.html?time=${Math.random()}`));\n    console.timeEnd('get semester list');\n\n    const element = document.createElement('html');\n    element.innerHTML = response.data;\n    const options = element.getElementsByTagName('option');\n    const records: SemesterJSON[] = [];\n    for (let i = 0; i < Math.min(count, options.length); i++) {\n        const option = options[i];\n        const key = option.getAttribute('value');\n        if (key) {\n            const semesterId = key.substr(-4);\n            const html = option.innerHTML;\n            records.push({\n                id: semesterId,\n                name: html\n                    .split(' ')\n                    .splice(0, 2)\n                    .join(' ')\n            });\n        }\n    }\n\n    return records;\n}\n","/**\n * @module src/models\n * @author Kaiying Shan, Hanzhi Zhou\n */\n\n/**\n *\n */\nimport { NotiMsg } from '@/store/notification';\nimport { TYPES, enableKeyConversion, keyRegex } from '../config';\nimport * as Utils from '../utils';\nimport Event from './Event';\nimport Schedule, { DAYS, ScheduleAll, ScheduleJSON, SectionJSON } from './Schedule';\nimport Section from './Section';\n\n/**\n * check whether the array is the correct JSON format for plannable v5.x to v7.x\n * @param arr\n */\n// eslint-disable-next-line\nfunction is_v5_v7(arr: any[]): arr is SectionJSON[] {\n    return typeof arr[0] === 'object' && typeof arr[0].id === 'number';\n}\n/**\n * check whether the array is the correct JSON format for plannable v8.x\n * @param arr\n */\n// eslint-disable-next-line\nfunction is_v8(arr: any[]): arr is SectionJSON[][] {\n    return arr[0] instanceof Array && is_v5_v7(arr[0]);\n}\n\nfunction filterSections(\n    group: SectionJSON[],\n    allSections: Section[],\n    warnings: string[],\n    convKey: string\n) {\n    const set = new Set<number>();\n    for (const record of group) {\n        // check whether the identifier of stored sections match with the existing sections\n        const target =\n            typeof record.section === 'undefined' // \"section\" property may not be recorded\n                ? allSections.find(sec => sec.id === record.id) // in that case we only compare id\n                : allSections.find(sec => sec.id === record.id && sec.section === record.section);\n        if (target) set.add(target.id);\n        // if not exist, it possibly means that section is removed from SIS\n        else\n            warnings.push(\n                `Section ${record.section} of ${convKey} does not exist anymore! It probably has been removed!`\n            );\n    }\n    return set;\n}\n\nexport default class ProposedSchedule extends Schedule {\n    constructor(raw: ScheduleAll = {}, events: Event[] = []) {\n        super(raw, events);\n    }\n\n    /**\n     * Update a section in the schedule\n     * - If the section is **already in** the schedule, delete it from the schedule\n     * - If the section is **not** in the schedule, add it to the schedule\n     * @param remove whether to remove the key if the set of sections is empty\n     * @param update whether to recompute the schedule after update\n     */\n    public update(key: string, section: number, groupIdx = 0, remove = true, update = true) {\n        if (section === -1) {\n            if (this.All[key] === -1) {\n                if (remove) delete this.All[key];\n                // empty set if remove is false\n                else this.All[key] = [];\n            } else {\n                this.All[key] = -1;\n            }\n        } else {\n            let sections = this.All[key];\n            if (sections instanceof Array) {\n                const prev = sections.find(g => g.has(section));\n                if (groupIdx < 0) groupIdx = 0;\n                const group = sections[groupIdx] || new Set();\n                if (prev === group) {\n                    // this section exists and is in the same group, remove\n                    if (group.delete(section)) {\n                        if (remove && this.isCourseEmpty(key)) delete this.All[key];\n                    } else {\n                        group.add(section);\n                    }\n                } else if (prev === undefined) {\n                    // does not exists previously, so just add\n                    group.add(section);\n                } else {\n                    // remove previous and add current\n                    prev.delete(section);\n                    group.add(section);\n                }\n                sections[groupIdx] = group;\n            } else {\n                // this is a new key\n                this.All[key] = sections = [new Set<number>().add(section)];\n            }\n            // remove trailing empty groups\n            for (let i = sections.length - 1; i >= 0 && sections[i].size === 0; i--) sections.pop();\n\n            // fill in empty values\n            for (let i = 0; i < sections.length; i++) {\n                if (!(sections[i] instanceof Set)) {\n                    sections[i] = new Set();\n                }\n            }\n        }\n        if (update) {\n            this.constructDateSeparator();\n            this.computeSchedule();\n        }\n    }\n\n    /**\n     * add an event to this schedule\n     * @throws error if an existing event conflicts with this event\n     */\n    public addEvent(\n        days: string,\n        display: boolean,\n        title?: string,\n        room?: string,\n        description?: string\n    ) {\n        for (const e of this.events) {\n            if (e.days === days) {\n                throw new Error(\n                    `Your new event's time is identical to ${e.title}. Please consider merging these two events.`\n                );\n            }\n        }\n        const ev = new Event(days, display, title, description, room);\n        this.events.push(ev);\n        this.computeSchedule();\n        return ev;\n    }\n\n    public deleteEvent(days: string) {\n        for (let i = 0; i < this.events.length; i++) {\n            if (this.events[i].days === days) {\n                this.events.splice(i, 1);\n                break;\n            }\n        }\n        this.computeSchedule();\n    }\n\n    /**\n     * instantiate a `Schedule` object from its JSON representation.\n     * the `computeSchedule` method will **not** be invoked after instantiation\n     *\n     * @returns NotiMsg, whose level might be one of the following\n     * 1. success: a schedule is successfully parsed from the JSON object\n     * 2. warn: a schedule is successfully parsed, but some of the courses/sections recorded no longer exist\n     * in the catalog\n     * 3. error: the object passed in is falsy\n     */\n    public static fromJSON(obj?: ScheduleJSON): NotiMsg<ProposedSchedule> {\n        if (!obj)\n            return {\n                level: 'error',\n                msg: 'Invalid object'\n            };\n        const schedule = new ProposedSchedule();\n        if (obj.events)\n            schedule.events = obj.events.map(x =>\n                x instanceof Event ? x : Object.setPrototypeOf(x, Event.prototype)\n            );\n\n        const keys = Object.keys(obj.All).map(x => x.toLowerCase());\n        if (keys.length === 0)\n            return {\n                level: 'success',\n                msg: 'Empty schedule',\n                payload: schedule\n            };\n\n        const warnings: string[] = [];\n        const catalog = window.catalog;\n        // convert array to set\n        for (const key of keys) {\n            const sections = obj.All[key] as any;\n\n            // try to find the course corresponding to the recorded key\n            const course = catalog.getCourse(key);\n\n            let convKey = key;\n            // converted key to human readable form, if enabled\n            if (enableKeyConversion) {\n                const parts = key.match(keyRegex);\n                if (parts && parts.length === 4) {\n                    parts[3] = TYPES[+parts[3] as 1];\n                    parts[1] = parts[1].toUpperCase();\n                    convKey = parts.slice(1).join(' ');\n                }\n            }\n            // non existent course\n            if (!course) {\n                warnings.push(`${convKey} does not exist anymore! It probably has been removed!`);\n                continue;\n            }\n            // all of the existing sections\n            const allSections = course.sections;\n            if (sections instanceof Array) {\n                if (!sections.length) {\n                    schedule.All[key] = [];\n                } else {\n                    // backward compatibility for version prior to v5.0 (inclusive)\n                    if (Utils.isNumberArray(sections)) {\n                        schedule.All[key] = [\n                            new Set(\n                                sections\n                                    .filter(sid => {\n                                        // sid >= length possibly implies that section is removed from SIS\n                                        if (sid >= allSections.length) {\n                                            warnings.push(\n                                                `Invalid section id ${sid} for ${convKey}. It probably has been removed!`\n                                            );\n                                        }\n                                        return sid < allSections.length;\n                                    })\n                                    .map(idx => allSections[idx].id)\n                            )\n                        ];\n                        console.log('< v5 json detected');\n                    } else if (is_v5_v7(sections)) {\n                        schedule.All[key] = [\n                            filterSections(sections, allSections, warnings, convKey)\n                        ];\n                        console.log('v5-v7 json detected');\n                    } else if (is_v8(sections)) {\n                        schedule.All[key] = sections.map(group =>\n                            filterSections(group, allSections, warnings, convKey)\n                        );\n                        console.log('v8 json detected');\n                    } else {\n                        schedule.All[key] = [new Set()];\n                    }\n                }\n            } else {\n                schedule.All[key] = sections;\n            }\n        }\n        if (warnings.length) {\n            return {\n                level: 'warn',\n                payload: schedule,\n                msg: warnings.join('<br>')\n            };\n        } else {\n            return {\n                level: 'success',\n                payload: schedule,\n                msg: 'Success'\n            };\n        }\n    }\n\n    /**\n     * get a copy of this schedule\n     */\n    public copy(deepCopyEvent = true) {\n        const AllCopy = this._copy();\n        // note: is it desirable to deep-copy all the events?\n        return new ProposedSchedule(\n            AllCopy,\n            deepCopyEvent ? this.events.map(e => e.copy()) : this.events\n        );\n    }\n\n    /**\n     * add some random event to the schedule. For testing purposes only\n     */\n    private randEvents(num = 20, maxDuration = 120, minDuration = 20) {\n        for (let i = 0; i < num; i++) {\n            let days = '';\n            for (let j = 0; j < 7; j++) {\n                if (Math.random() < 0.5) {\n                    days += DAYS[j];\n                }\n            }\n            if (!days) {\n                i--;\n                continue;\n            }\n            const start = Math.floor(Math.random() * (1440 - maxDuration));\n            const end =\n                start + minDuration + Math.floor(Math.random() * (maxDuration - minDuration));\n\n            days +=\n                ' ' +\n                Utils.to12hr(Utils.intTo24hr(start)) +\n                ' - ' +\n                Utils.to12hr(Utils.intTo24hr(end));\n            try {\n                this.addEvent(days, true, 'rand ' + i);\n            } catch (e) {\n                console.log(e);\n                i--;\n            }\n        }\n    }\n\n    /**\n     * Remove a course (and all its sections) from the schedule\n     */\n    public remove(key: string) {\n        delete this.All[key];\n        this.constructDateSeparator();\n        this.computeSchedule();\n    }\n}\n","/**\n * @module src/models\n * @author Kaiying Shan, Hanzhi Zhou\n */\n\n/**\n *\n */\nimport Schedule, { ScheduleAll } from './Schedule';\nimport Event from './Event';\nimport ProposedSchedule from './ProposedSchedule';\nimport { RawAlgoCourse } from '../algorithm/ScheduleGenerator';\nimport { GeneratedError } from '../utils/other';\n\nconst generatedMsg =\n    'You are editing a generated schedule, please edit the proposed schedule instead. If you want to keep this particular generated schedule, click \"copy\" to do so.';\n\nexport default class GeneratedSchedule extends Schedule {\n    /**\n     * A generated schedule's All can never contain -1 (Any Section)\n     */\n    public All: ScheduleAll<Set<number>[]>;\n\n    constructor(raw: RawAlgoCourse[] = [], events: Event[] = []) {\n        const tempAll: GeneratedSchedule['All'] = {};\n        for (const [key, sections] of raw) {\n            const secs = tempAll[key];\n            if (secs) {\n                secs.push(new Set(sections));\n            } else {\n                tempAll[key] = [new Set(sections)];\n            }\n        }\n        super(tempAll, events);\n        this.All = tempAll;\n    }\n\n    public update() {\n        throw new GeneratedError(generatedMsg);\n    }\n\n    public remove() {\n        throw new GeneratedError(generatedMsg);\n    }\n\n    public copy(deepCopyEvent = true): ProposedSchedule {\n        const AllCopy = this._copy();\n        // note: is it desirable to deep-copy all the events?\n        return new ProposedSchedule(\n            AllCopy,\n            deepCopyEvent ? this.events.map(e => e.copy()) : this.events\n        );\n    }\n}\n","/**\n * @module src/algorithm\n * @author Hanzhi Zhou\n */\n\n/**\n *\n */\nimport GeneratedSchedule from '../models/GeneratedSchedule';\nimport quickselect from 'quickselect';\nimport Event from '../models/Event';\nimport { calcOverlap } from '../utils';\nimport { RawAlgoCourse, TimeArray } from './ScheduleGenerator';\n\nexport type SortFunctions = typeof ScheduleEvaluator.sortFunctions;\n\n/**\n * representation of a single sort option\n */\nexport interface SortOption {\n    /**\n     * name of this sort option\n     */\n    readonly name: keyof SortFunctions;\n    /**\n     * whether or not this option is enabled\n     */\n    enabled: boolean;\n    /**\n     * whether to sort in reverse\n     */\n    reverse: boolean;\n    weight: number;\n}\n\n/**\n * enum for the two sort modes\n */\nexport enum SortMode {\n    fallback = 0,\n    combined = 1\n}\n\n/**\n * options for the schedule evaluator\n */\nexport interface EvaluatorOptions {\n    readonly sortBy: readonly SortOption[];\n    mode: SortMode;\n}\n\n/**\n * The goal of the schedule evaluator is to efficiently sort the generated schedules\n * according to the set of the rules defined by the user\n */\nclass ScheduleEvaluator {\n    /**\n     * defines a number of sorting functions. By default, schedules are sorted in\n     * **ascending** order according to the coefficient computed by one or a combination of sorting functions.\n     */\n    public static readonly sortFunctions = {\n        /**\n         * compute the variance of class times during the week\n         *\n         * returns a higher value when the class times are unbalanced\n         */\n        variance(blocks: Readonly<TimeArray>, offset: number) {\n            let sum = 0,\n                sumSq = 0;\n            const oEnd = offset + 7;\n            for (let i = offset; i < oEnd; i++) {\n                const end = offset + blocks[i + 1];\n                let classTime = 0;\n                for (let j = blocks[i] + offset; j < end; j += 3) {\n                    classTime += blocks[j + 1] - blocks[j];\n                }\n                sum += classTime;\n                sumSq += classTime * classTime;\n            }\n            return sumSq / 5 - (sum / 5) ** 2;\n        },\n\n        /**\n         * compute the vertical compactness of a schedule,\n         * defined as the total time in between each pair of consecutive classes\n         *\n         * The greater the time gap between classes, the greater the return value will be\n         */\n        compactness(blocks: Readonly<TimeArray>, offset: number) {\n            let compact = 0;\n            const oEnd = offset + 7;\n            for (let i = offset; i < oEnd; i++) {\n                const end = offset + blocks[i + 1] - 5;\n                for (let j = blocks[i] + offset; j < end; j += 3) {\n                    compact += blocks[j + 3] - blocks[j + 1];\n                }\n            }\n            return compact;\n        },\n\n        /**\n         * compute overlap of the classes and the lunch time,\n         * defined as the time between 11:00 and 14:00\n         *\n         * The greater the overlap, the greater the return value will be\n         */\n        lunchTime(blocks: Readonly<TimeArray>, offset: number) {\n            // 11:00 to 14:00\n            let totalOverlap = 0;\n            const oEnd = offset + 7;\n            for (let i = offset; i < oEnd; i++) {\n                const end = blocks[i + 1] + offset;\n                let dayOverlap = 0;\n                for (let j = blocks[i] + offset; j < end; j += 3) {\n                    // 11:00 to 14:00\n                    dayOverlap += calcOverlap(660, 840, blocks[j], blocks[j + 1]);\n                }\n\n                if (dayOverlap > 60) totalOverlap += dayOverlap;\n            }\n            return totalOverlap;\n        },\n\n        /**\n         * calculate the time between the start time of the earliest class and 22:00\n         *\n         * For a schedule that has earlier classes, this method will return a higher number\n         */\n        noEarly(blocks: Readonly<TimeArray>, offset: number) {\n            const refTime = 12 * 60,\n                oEnd = offset + 7;\n            let total = 0;\n            for (let i = offset; i < oEnd; i++) {\n                const start = blocks[i],\n                    end = blocks[i + 1];\n                if (end > start) {\n                    // if this day is not empty\n                    const time = blocks[start + offset];\n                    total += Math.max(refTime - time, 0) ** 2;\n                }\n            }\n            return total;\n        },\n\n        /**\n         * compute the sum of walking distances between each consecutive pair of classes\n         */\n        distance(\n            timeMatrix: Readonly<Int32Array>,\n            blocks: Readonly<TimeArray>,\n            offset: number,\n            threshold: number\n        ) {\n            // timeMatrix is actually a flattened matrix, so matrix[i][j] = matrix[i*len+j]\n            const len = timeMatrix.length ** 0.5,\n                oEnd = offset + 7;\n            let dist = 0;\n            for (let i = offset; i < oEnd; i++) {\n                const end = blocks[i + 1] + offset - 5;\n                for (let j = blocks[i] + offset; j < end; j += 3) {\n                    // does not count the distance of the gap between two classes is greater than 45 minutes\n                    if (blocks[j + 3] - blocks[j + 1] < threshold) {\n                        const r1 = blocks[j + 2],\n                            r2 = blocks[j + 5];\n\n                        // skip unknown buildings\n                        if (r1 !== -1 && r2 !== -1) dist += timeMatrix[r1 * len + r2];\n                    }\n                }\n            }\n            return dist;\n        },\n\n        similarity(this: ScheduleEvaluator, start: number) {\n            const sim = this.refSchedule,\n                classList = this.classList,\n                allChoices = this.allChoices;\n            const numCourses = classList.length;\n            let sum = 0;\n            start *= numCourses;\n            for (let j = 0; j < numCourses; j++) {\n                const course = classList[j][allChoices[start + j]];\n                const key = sim[course[0]] as Set<number>[];\n                if (key) {\n                    for (const sid of course[1]) {\n                        sum += +(key.find(s => s.has(sid)) !== undefined);\n                    }\n                }\n            }\n            return -1 * sum;\n        },\n\n        /**\n         * the return value is not used. If this sort option is enabled, `shuffle` is called.\n         */\n        IamFeelingLucky() {\n            return Math.random();\n        }\n    };\n    /**\n     * the cache of [coefficient array, max, min] for each sort function\n     */\n    public sortCoeffCache: {\n        [x in keyof SortFunctions]?: readonly [Float32Array, number, number];\n    } = {};\n    /**\n     * the indices of the sorted schedules\n     */\n    public indices: Uint32Array;\n    /**\n     * the coefficient array used when performing a sort\n     */\n    private coeffs: Float32Array;\n    /**\n     * the cumulative length of the time arrays for each schedule.\n     * `this.offsets[i]` is the start index of the time array of schedule `i` in `this.blocks`\n     */\n    private offsets: Readonly<Uint32Array>;\n    /**\n     * array of [[TimeArray]]s concatenated together\n     */\n    private blocks: Readonly<Int16Array>;\n    /**\n     * the underlying buffer for the typed arrays above, except `sortCoeffCache`\n     */\n    private buf: ArrayBuffer;\n\n    /**\n     * @param options\n     * @param timeMatrix see [[Window.timeMatrix]]\n     * @param events the array of events kept, use to construct generated schedules\n     * @param classList the 2d array of (combined) sections\n     * @param allChoices array of `currentChoices` (see [[ScheduleGenerator.computeSchedules]])\n     * concatenated together\n     * @param refSchedule the reference schedule used by the\n     * [[ScheduleEvaluator.sortFunctions.similarity]] sort function\n     * @param timeArrays the time arrays constructed by [[timeArrayToCompact]]\n     * @param count the number of schedules in total\n     * @param timeLen see the return value of [[ScheduleGenerator.computeSchedules]]\n     */\n    constructor(\n        public options: Readonly<EvaluatorOptions> = { sortBy: [], mode: 0 },\n        public readonly timeMatrix: Readonly<Int32Array> = new Int32Array(),\n        public readonly events: Event[] = [],\n        public readonly classList: RawAlgoCourse[][] = [],\n        public readonly allChoices: Readonly<Uint8Array> = new Uint8Array(),\n        public refSchedule: GeneratedSchedule['All'] = {},\n        readonly timeArrays: Readonly<Int32Array> = new Int32Array(),\n        count = 0,\n        timeLen = 0\n    ) {\n        {\n            // note: timeLen is typically about 50*count, which takes the most space\n            // previous three arrays are 32-bit typed arrays, so no byte alignment is needed\n            this.buf = new ArrayBuffer(count * 4 * 3 + timeLen * 2);\n            const indices = (this.indices = new Uint32Array(this.buf, 0, count));\n            for (let i = 0; i < count; i++) indices[i] = i;\n            this.coeffs = new Float32Array(this.buf, count * 4, count);\n        }\n\n        const offsets = (this.offsets = new Uint32Array(this.buf, count * 8, count));\n        const blocks = (this.blocks = new Int16Array(this.buf, count * 12));\n\n        const numCourses = classList.length;\n        let offset = 0;\n        for (let i = 0; i < count; i++) {\n            // record the current offset\n            offsets[i] = offset;\n\n            // sort the time blocks in order\n            const start = i * numCourses;\n            let bound = 8; // size does not contain offset\n            // no offset in j because arr2 also needs it\n            for (let j = 0; j < 7; j++) {\n                // start of the current day\n                const s1 = (blocks[j + offset] = bound);\n                for (let k = 0; k < numCourses; k++) {\n                    // offset of the time arrays\n                    const arrOffset = timeArrays[allChoices[start + k] * numCourses + k];\n                    const e2 = timeArrays[arrOffset + j + 1];\n                    // insertion sort, fast for small arrays\n                    for (let n = timeArrays[arrOffset + j]; n < e2; n += 3, bound += 3) {\n                        // p already contains offset\n                        let p = s1 + offset;\n                        const vToBeInserted = timeArrays[n],\n                            realBound = bound + offset; // the end of the current array\n                        for (; p < realBound; p += 3) {\n                            if (vToBeInserted < blocks[p]) break;\n                        }\n                        // move elements 3 slots toward the end\n                        // same as `blocks.copyWithin(p + 3, p, realBound);`, but faster\n                        for (let m = realBound - 1; m >= p; m--) blocks[m + 3] = blocks[m];\n                        // insert three elements at p\n                        blocks[p] = vToBeInserted;\n                        blocks[p + 1] = timeArrays[n + 1];\n                        blocks[p + 2] = timeArrays[n + 2];\n                    }\n                }\n            }\n            offset += blocks[offset + 7] = bound;\n        }\n    }\n\n    get size() {\n        return this.coeffs.length;\n    }\n\n    /**\n     * whether the random sort option is enabled\n     */\n    public isRandom() {\n        return this.options.sortBy.some(x => x.name === 'IamFeelingLucky' && x.enabled);\n    }\n\n    /**\n     * compute the coefficient array for a specific sorting option.\n     * if it exists (i.e. already computed), don't do anything\n     *\n     * @requires optimization\n     * @param funcName the name of the sorting option\n     * @param assign whether assign to the values to `this.coeffs`\n     * @returns the computed/cached array of coefficients\n     */\n    public computeCoeffFor(funcName: keyof SortFunctions, assign: boolean) {\n        const len = this.size;\n        const cache = this.sortCoeffCache[funcName];\n        if (cache) {\n            if (assign) this.coeffs.set(cache[0]);\n            return cache;\n        } else {\n            console.time(funcName);\n            const newCache = new Float32Array(len);\n            const blocks = this.blocks,\n                offsets = this.offsets;\n            let max = -Infinity,\n                min = Infinity;\n            if (funcName === 'similarity') {\n                const evalFunc = ScheduleEvaluator.sortFunctions.similarity.bind(this);\n                for (let i = 0; i < len; i++) {\n                    const val = (newCache[i] = evalFunc(i));\n                    if (val > max) max = val;\n                    if (val < min) min = val;\n                }\n            } else if (funcName === 'distance') {\n                const thresh = 45;\n                const evalFunc = ScheduleEvaluator.sortFunctions.distance;\n                const timeMatrix = this.timeMatrix;\n                for (let i = 0; i < len; i++) {\n                    const val = (newCache[i] = evalFunc(timeMatrix, blocks, offsets[i], thresh));\n                    if (val > max) max = val;\n                    if (val < min) min = val;\n                }\n            } else {\n                const evalFunc = ScheduleEvaluator.sortFunctions[funcName];\n                for (let i = 0; i < len; i++) {\n                    const val = (newCache[i] = evalFunc(blocks, offsets[i]));\n                    if (val > max) max = val;\n                    if (val < min) min = val;\n                }\n            }\n            if (assign) this.coeffs.set(newCache);\n            console.timeEnd(funcName);\n            return (this.sortCoeffCache[funcName] = [newCache, max, min] as const);\n        }\n    }\n\n    /**\n     * pre-compute the coefficient for each schedule using each enabled sorting function\n     * so that they don't need to be computed on the fly when sorting\n     * @requires optimization\n     */\n    public computeCoeff() {\n        if (this.isRandom()) return;\n\n        const [count, lastIdx] = this.countSortOpt();\n\n        // if there's only one option enabled, just compute coefficients for it and\n        // assign to the .coeff field for each schedule\n        if (count === 1) {\n            this.computeCoeffFor(this.options.sortBy[lastIdx].name, true);\n            return;\n        }\n\n        if (this.options.mode === SortMode.fallback) {\n            console.time('precomputing coefficients');\n            this.options.sortBy\n                .filter(x => x.enabled)\n                .forEach(x => {\n                    this.computeCoeffFor(x.name, false);\n                });\n            console.timeEnd('precomputing coefficients');\n        } else {\n            console.time('normalizing coefficients');\n            const options = this.options.sortBy.filter(x => x.enabled);\n            const len = this.size;\n            const coeffs = this.coeffs.fill(0);\n\n            // finding the minimum and maximum is quite fast for 1e6 elements, so not cached.\n            for (const option of options) {\n                const [coeff, max, min] = this.computeCoeffFor(option.name, false);\n\n                const range = max - min;\n                // if all of the values are the same, skip this sorting coefficient\n                if (!range) {\n                    console.warn(range, coeff, option.name);\n                    continue;\n                }\n\n                const normalizeRatio = 64 / range,\n                    weight = option.weight || 1;\n\n                // use Euclidean distance to combine multiple sorting coefficients\n                if (option.reverse) {\n                    for (let i = 0; i < len; i++) {\n                        const val = (max - coeff[i]) * normalizeRatio;\n                        coeffs[i] += weight * val * val;\n                    }\n                } else {\n                    for (let i = 0; i < len; i++) {\n                        const val = (coeff[i] - min) * normalizeRatio;\n                        coeffs[i] += weight * val * val;\n                    }\n                }\n            }\n            console.timeEnd('normalizing coefficients');\n        }\n    }\n\n    /**\n     * count the number of sort options enabled.\n     * @returns [number of sort options enabled, the index of the last enabled sort option]\n     */\n    public countSortOpt(): [number, number] {\n        let count = 0;\n        let lastIdx = -1;\n        for (let i = 0; i < this.options.sortBy.length; i++) {\n            const option = this.options.sortBy[i];\n            if (option.enabled) {\n                count++;\n                lastIdx = i;\n            }\n        }\n        return [count, lastIdx];\n    }\n\n    /**\n     * sort the array of schedules according to their quality coefficients which will be computed by `computeCoeff`\n     * @param opt.newOptions: pass in new sort options to override the current options\n     * @param opt.quick quick mode: use FloydRivest algorithm to select first\n     * 100 elements and then sort only these elements.\n     * @param opt.quickThresh Automatically enable quick mode if the length of schedules is greater than `quickThresh`\n     * @requires optimization\n     * @see {@link https://en.wikipedia.org/wiki/Floyd%E2%80%93Rivest_algorithm}\n     */\n    public sort({\n        newOptions,\n        quick = false,\n        quickThresh = 10000\n    }: {\n        newOptions?: EvaluatorOptions;\n        quick?: boolean;\n        quickThresh?: number;\n    } = {}) {\n        if (newOptions) this.options = newOptions;\n        this.computeCoeff();\n\n        console.time('sorting: ');\n\n        // reset indices\n        const _size = this.size;\n        const _indices = this.indices;\n        for (let i = 0; i < _size; i++) _indices[i] = i;\n\n        if (this.isRandom()) {\n            this.shuffle(this.indices);\n            console.timeEnd('sorting: ');\n            return;\n        }\n\n        const options = this.options.sortBy.filter(x => x.enabled);\n        const isCombined = this.options.mode === SortMode.combined;\n\n        /**\n         * The comparator function used:\n         *\n         * if only one option is enabled, the sort direction depends on the `reversed` property of it\n         *\n         * if multiple sort options are enabled and the sort mode is combined, which means\n         * `(!isCombined || options.length === 1)` is false, the `computeCoeff` method\n         * is already taken care of the sort direction of each function, so we sort in ascending order anyway\n         */\n        const coeffs = this.coeffs;\n        const cmpFunc: (a: number, b: number) => number =\n            options[0].reverse && (!isCombined || options.length === 1)\n                ? (a, b) => coeffs[b] - coeffs[a] // descending\n                : (a, b) => coeffs[a] - coeffs[b]; // ascending\n\n        if (isCombined || options.length === 1) {\n            if (quick || this.size > quickThresh) {\n                this.partialSort(this.indices, cmpFunc, 1000);\n            } else {\n                this.indices.sort(cmpFunc);\n            }\n        } else {\n            const len = options.length;\n\n            // if option[i] is reverse, ifReverse[i] will be -1 * weight\n            const ifReverse = new Float32Array(len).map((_, i) => (options[i].reverse ? -1 : 1));\n            // cached array of coefficients for each enabled sort function\n            const fbCoeffs = options.map(x => this.sortCoeffCache[x.name]![0]);\n            const func = (a: number, b: number) => {\n                let r = 0;\n                for (let i = 0; i < len; i++) {\n                    const coeff = fbCoeffs[i];\n                    // calculate the difference in coefficients\n                    r = ifReverse[i] * (coeff[a] - coeff[b]);\n\n                    // if non-zero, returns this coefficient\n                    if (r) return r;\n\n                    // otherwise, fallback to the next sort option\n                }\n                return r;\n            };\n            if (quick || this.size > quickThresh) {\n                this.partialSort(this.indices, func, 1000);\n            } else {\n                this.indices.sort(func);\n            }\n        }\n        console.timeEnd('sorting: ');\n    }\n\n    /**\n     * use FloydRivest selection algorithm to select `num` smallest elements.\n     * Then, sort these elements in order.\n     *\n     * @see https://en.wikipedia.org/wiki/Floyd%E2%80%93Rivest_algorithm\n     * @see https://github.com/mourner/quickselect\n     */\n    public partialSort(arr: Uint32Array, compare: (x: number, y: number) => number, num: number) {\n        const len = arr.length;\n\n        // no point to use quick select if num of elements to be selected is greater than half of the length\n        if (num >= len / 2) {\n            arr.sort(compare);\n        } else {\n            quickselect(arr, num, 0, len - 1, compare);\n            const slc = arr.slice(0, num).sort(compare);\n            for (let i = 0; i < num; i++) arr[i] = slc[i];\n        }\n    }\n\n    /**\n     * Get a `Schedule` object at idx\n     */\n    public getSchedule(idx: number) {\n        const numCourses = this.classList.length;\n        idx = this.indices[idx] * numCourses;\n        return new GeneratedSchedule(\n            Array.from(this.allChoices.slice(idx, idx + numCourses)).map(\n                (choice, classNum) => this.classList[classNum][choice]\n            ),\n            this.events\n        );\n    }\n    /**\n     * whether this evaluator contains an empty array of schedules\n     */\n    public empty() {\n        return this.size === 0;\n    }\n\n    /**\n     * FisherYates shuffle algorithm\n     * @see https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\n     */\n    private shuffle(a: Uint32Array) {\n        for (let i = a.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            const x = a[i];\n            a[i] = a[j];\n            a[j] = x;\n        }\n        return a;\n    }\n}\nexport default ScheduleEvaluator;\n","/**\n * @module src/algorithm\n * @author Hanzhi Zhou, Zichao Hu, Kaiying Cat\n */\n\n/**\n *\n */\nimport { CourseStatus } from '../config';\nimport Course from '../models/Course';\nimport Event from '../models/Event';\nimport GeneratedSchedule from '../models/GeneratedSchedule';\nimport ProposedSchedule from '../models/ProposedSchedule';\nimport { NotiMsg } from '../store/notification';\nimport { calcOverlap, checkTimeConflict, parseDate } from '../utils';\nimport ScheduleEvaluator, { EvaluatorOptions } from './ScheduleEvaluator';\n\n/**\n * The blocks is a condensed fixed-length array\n * storing the time and room information of the a schedule at each day.\n * Index from 0 to 6 represents the index of information from Monday to Sunday.\n * Index 7 is the length of the array, which is there for convenience.\n * Example:\n * ```js\n * const timeArr = [\n *   7, 7, 7, 7, 13, 13, 13, 13, //indices\n *   600, 660, 11, 900, 960, // Monday\n *   1200, 1260, 12 // Friday\n * ]\n * ```\n * represents that this entity will take place\n * every Monday 10:00 to 11:00 at room index 11, 15:00 to 16:00 at room 2,\n * and Friday 20:00 to 21:00 at room 12\n *\n * a typical loop that visits these info is shown below\n * ```js\n * for (let i = 0; i < 7; i++){\n *   const dayEnd = timeArr[i+1];\n *   for (let j = timeArr[i]; j < dayEnd; j+=3) {\n *     const timeStart = timeArr[j],\n *           timeEnd   = timeArr[j+1],\n *           roomIdx   = timeArr[j+2];\n *     // do some processing\n *   }\n * }\n * ```\n */\nexport type TimeArray = Int16Array;\n/**\n * Start and end date in millisecond (obtained via `Date.getTime`)\n */\nexport type MeetingDate = [number, number];\n\n/**\n * The data structure used in the algorithm to represent a Course that\n * possibly has multiple sections combined (occurring at the same time)\n *\n * 0: key of this course\n * 1: an array of section indices\n *\n * Example:\n * ```js\n * [\"span20205\", [0, 1, 2]]\n * ```\n */\nexport type RawAlgoCourse = [string, number[]];\n\n/**\n * returns an array with all time arrays in `timeArrayList` concatenated together. The offsets\n * of time array of section `i` of course `j` is at `i * numCourse + j` position of the resulting array.\n */\nexport function timeArrayToCompact(timeArrayList: TimeArray[][], timeArrLens: Uint8Array) {\n    const len = timeArrLens.length;\n    let offset = 0;\n    for (let i = 0; i < len; i++) offset += timeArrLens[i];\n    const compact = new Int32Array(len + offset);\n\n    const numCourses = timeArrayList.length;\n    offset = len;\n    for (let i = 0; i < numCourses; i++) {\n        const arr = timeArrayList[i];\n        for (let j = 0; j < arr.length; j++) {\n            compact[j * numCourses + i] = offset;\n            const time = arr[j];\n            let k = 0;\n            for (; k < 8; k++) {\n                compact[offset + k] = time[k] + offset; // add offset to the first 8 elements\n            }\n            for (; k < time.length; k++) {\n                compact[offset + k] = time[k];\n            }\n            offset += time.length;\n        }\n    }\n    return compact;\n}\n\n/**\n * record the length of `timeArrayList[crs][sec]` at `timeArrLens[sec * numCourses + crs]`,\n * exported for unit test purposes\n */\nexport function computeTimeArrLens(timeArrayList: TimeArray[][], timeArrLens: Uint8Array) {\n    const numCourses = timeArrayList.length;\n    for (let i = 0; i < numCourses; i++) {\n        const arrs = timeArrayList[i];\n        for (let j = 0; j < arrs.length; j++) {\n            timeArrLens[j * numCourses + i] = arrs[j].length;\n        }\n    }\n}\n\n/**\n * pre-compute `conflictCache` using `timeArrayList` and `dateList`\n */\nfunction computeConflict(\n    timeArrayList: TimeArray[][],\n    dateList: MeetingDate[][],\n    conflictCache: Uint8Array,\n    sideLen: number\n) {\n    const numCourses = timeArrayList.length;\n    // pre-compute the conflict between each pair of sections\n    for (let i = 0; i < numCourses; i++) {\n        for (let j = i + 1; j < numCourses; j++) {\n            const arrs1 = timeArrayList[i],\n                arrs2 = timeArrayList[j],\n                dates1 = dateList[i],\n                dates2 = dateList[j];\n            for (let m = 0; m < arrs1.length; m++) {\n                for (let n = 0; n < arrs2.length; n++) {\n                    const i1 = m * numCourses + i, // courses are in the columns\n                        i2 = n * numCourses + j;\n                    // conflict is symmetric\n                    conflictCache[i1 * sideLen + i2] = conflictCache[i2 * sideLen + i1] = +(\n                        checkTimeConflict(arrs1[m], arrs2[n], 3, 3) &&\n                        calcOverlap(dates1[m][0], dates1[m][1], dates2[n][0], dates2[n][1]) !== -1\n                    );\n                }\n            }\n        }\n    }\n}\n\nexport interface GeneratorOptions {\n    timeSlots: Event[];\n    status: CourseStatus[];\n    sortOptions: EvaluatorOptions;\n    combineSections: boolean;\n    maxNumSchedules: number;\n}\n\n/**\n * The schedule generator generates all possible schedules satisfying the given constraints (filters)\n * out of the courses/sections that the user has selected\n */\nclass ScheduleGenerator {\n    constructor(\n        public readonly catalog: Window['catalog'],\n        public readonly timeMatrix: Window['timeMatrix'],\n        public readonly options: GeneratorOptions\n    ) {}\n\n    /**\n     * The entrance of the schedule generator\n     * @returns a sorted [[ScheduleEvaluator]] Object\n     * @requires optimization\n     * @remarks The use of data structure assumes that\n     * 1. Each course has no more than 255 sections\n     * 2. Each section meets no more than 82 times in a week\n     */\n    public getSchedules(\n        schedule: ProposedSchedule,\n        sort = true,\n        refSchedule: GeneratedSchedule['All'] = {}\n    ): NotiMsg<ScheduleEvaluator> {\n        console.time('algorithm bootstrapping');\n\n        // convert events to TimeArrays so that we can easily check for time conflict\n        const timeSlots: TimeArray[] = schedule.events.map(e => e.toTimeArray());\n        for (const event of this.options.timeSlots) timeSlots.push(event.toTimeArray());\n\n        const classList: RawAlgoCourse[][] = [];\n        const timeArrayList: TimeArray[][] = [];\n        const dateList: MeetingDate[][] = [];\n\n        const courses = schedule.All;\n\n        const msgs: NotiMsg<ScheduleEvaluator>[] = [];\n        // for each course selected, form an array of sections\n        for (const key in courses) {\n            const temp = courses[key];\n            const allSections = temp === -1 ? ([-1] as const) : temp;\n\n            let noSelected = true;\n            for (let i = 0; i < allSections.length; i++) {\n                const subgroup = allSections[i];\n\n                // ignore empty group\n                if (subgroup instanceof Set && subgroup.size === 0) continue;\n\n                const courseRec = this.catalog.getCourse(key, subgroup);\n\n                const [classes, timeArrays, dates, allInvalid] = this.filterSections(\n                    courseRec,\n                    timeSlots\n                );\n\n                noSelected = false;\n                // give an warning if none of the sections pass the filter\n                if (classes.length === 0) {\n                    msgs.push({\n                        level: 'warn',\n                        msg: `Not scheduled: ${courseRec.displayName}${\n                            i === 0 || subgroup === -1 ? '' : ' belonging to group ' + i // don't show group idx for default group or Any Section\n                        }. Reason: No sections satisfy your filters and do not conflict with your events`\n                    });\n                } else {\n                    classList.push(classes);\n                    timeArrayList.push(timeArrays);\n                    dateList.push(dates);\n                }\n                if (allInvalid) {\n                    msgs.push({\n                        level: 'warn',\n                        msg: `Warning: No sections of ${courseRec.displayName}${\n                            i === 0 || subgroup === -1 ? '' : ' belonging to group ' + i // don't show group idx for default group or Any Section\n                        } have valid meeting times (e.g. All TBA/TBD/Online Asynchronous). It will not be shown on the schedule grid.`\n                    });\n                }\n            }\n            if (noSelected) {\n                return {\n                    level: 'error',\n                    msg: `No sections of ${\n                        this.catalog.getCourse(key, -1).displayName\n                    } are selected!`\n                };\n            }\n        }\n\n        const numCourses = classList.length; // number of courses\n        const maxLen = Math.max(...classList.map(c => c.length)); // the maximum number of sections in each course\n        const sideLen = maxLen * numCourses; // the side length of the conflict cache matrix\n\n        const buffer = new ArrayBuffer(\n            numCourses * 2 + // pathMemory & sectionLens\n            sideLen + // timeArrLens\n                sideLen * sideLen // conflictCache\n        );\n\n        // record the index of sections that are already tested\n        const pathMemory = new Uint8Array(buffer, 0, numCourses);\n\n        // cache for the number of sections in each course\n        const sectionLens = new Uint8Array(buffer, numCourses, numCourses);\n\n        for (let i = 0; i < numCourses; i++) sectionLens[i] = classList[i].length;\n        /**\n         * the cache of the length of TimeArray for each section.\n         * ```js\n         * len = timeArrLens[sectionIdx * numCourses + courseIdx]\n         * ```\n         */\n        const timeArrLens = new Uint8Array(buffer, numCourses * 2, sideLen);\n        /**\n         * the conflict cache matrix, a 4d tensor. Indexed like this:\n         * ```js\n         * conflictCache[section1][course1][section2][course2]\n         * // which is in fact\n         * conflictCache[(section1 * numCourses + course1) * sideLen + (section2 * numCourses + course2)]\n         * ```\n         * @note can do bitpacking, but no performance improvement observed\n         */\n        const conflictCache = new Uint8Array(buffer, numCourses * 2 + sideLen, sideLen ** 2);\n\n        // prepare the timeArrLens array\n        computeTimeArrLens(timeArrayList, timeArrLens);\n\n        // prepare the conflictCache\n        computeConflict(timeArrayList, dateList, conflictCache, sideLen);\n\n        const { maxNumSchedules } = this.options;\n\n        // the array used to record all schedules generated\n        // extra 1x numCourses to prevent write out of bound at computeSchedules at ***\n        const allChoices = new Uint8Array(numCourses * maxNumSchedules + numCourses);\n        console.timeEnd('algorithm bootstrapping');\n\n        console.time('running algorithm:');\n        const [count, timeLen] = this.computeSchedules(\n            pathMemory,\n            sectionLens,\n            timeArrLens,\n            conflictCache,\n            allChoices,\n            maxNumSchedules\n        );\n        console.timeEnd('running algorithm:');\n\n        console.time('add to eval');\n        const evaluator = new ScheduleEvaluator(\n            this.options.sortOptions,\n            this.timeMatrix,\n            schedule.events,\n            classList,\n            allChoices,\n            refSchedule,\n            timeArrayToCompact(timeArrayList, timeArrLens),\n            count,\n            timeLen\n        );\n        const size = evaluator.size;\n        if (size > 0) {\n            console.timeEnd('add to eval');\n            if (sort) evaluator.sort();\n            let msgString = '';\n            for (const msg of msgs) msgString += msg.msg + '<br>';\n            return {\n                level: msgs.length > 0 ? 'warn' : 'success',\n                msg: `${msgString}${size} Schedules Generated!`,\n                payload: evaluator\n            };\n        }\n        console.timeEnd('add to eval');\n        return {\n            level: 'error',\n            msg: 'Given your filter, we cannot generate schedules without overlapping classes'\n        };\n    }\n\n    private filterSections(courseRec: Course, timeSlots: TimeArray[]) {\n        const classes: RawAlgoCourse[] = [],\n            timeArrays: TimeArray[] = [],\n            dates: MeetingDate[] = [];\n\n        // combine all sections of this course occurring at the same time, if enabled\n        const combined = this.options.combineSections\n            ? Object.values(courseRec.getCombined())\n            : courseRec.sections.map(s => [s]);\n\n        let allInvalid = true;\n        // for each combined section, form a RawAlgoCourse\n        outer: for (const sections of combined) {\n            // only take the time and room info of the first section\n            // time will be the same for sections in this array\n            // but rooms..., well this is a compromise\n            const date = parseDate(sections[0].dates);\n            if (!date) continue;\n\n            const timeArray = sections[0].getTimeRoom();\n            if (timeArray.length > 8) allInvalid = false;\n\n            // don't include this combined section if it conflicts with any time filter or event.\n            for (const td of timeSlots) {\n                if (checkTimeConflict(td, timeArray, 2, 3)) continue outer;\n            }\n\n            const secIndices: number[] = [];\n            for (const section of sections) {\n                // filter out sections with unwanted status\n                if (this.options.status.includes(section.status)) continue;\n\n                secIndices.push(section.id);\n            }\n\n            if (secIndices.length) {\n                classes.push([courseRec.key, secIndices]);\n                timeArrays.push(timeArray);\n                dates.push(date);\n            }\n        }\n\n        return [classes, timeArrays, dates, allInvalid] as const;\n    }\n\n    /**\n     * the main algorithm loop: generate all possible schedules based on the pre-computed information\n     * @remarks this method does the most computation. It is made extremely efficient\n     * by only operating on integers and typed integer arrays. Can be easily ported to C++\n     *\n     * **for parameter meaning see the `getSchedules` method above**\n     *\n     * @returns [number of schedules generated, the length of time arrays of schedules in total]\n     */\n    private computeSchedules(\n        pathMemory: Uint8Array,\n        sectionLens: Uint8Array,\n        timeArrLens: Uint8Array,\n        conflictCache: Uint8Array,\n        allChoices: Uint8Array,\n        maxNumSchedules: number\n    ) {\n        const numCourses = sectionLens.length;\n        const sideLen = timeArrLens.length;\n        maxNumSchedules *= numCourses;\n\n        let timeLen = 0; // the total length of the time array that we need to allocate for schedules generated\n        let classNum = 0; // current course index\n        let choiceNum = 0; // the index of the section of the current course\n        let base = 0; // the total number of schedules already generated multiplied by numCourses\n        // serve as the base for current schedule in the allChoices array\n\n        outer: while (true) {\n            if (classNum >= numCourses) {\n                // accumulate the length of the time arrays combined in each schedule\n                // and copy the current schedule to next schedule\n                for (let i = 0; i < numCourses; i++) {\n                    timeLen +=\n                        timeArrLens[\n                            (allChoices[base + numCourses + i] = allChoices[base + i]) * // ***\n                                numCourses +\n                                i\n                        ];\n                }\n\n                base += numCourses;\n                if (base >= maxNumSchedules) break outer;\n                choiceNum = pathMemory[--classNum];\n            }\n\n            /**\n             * when all possibilities in on class have exhausted, retract one class\n             * explore the next possibilities in the previous class\n             * reset the memory path forward to zero\n             */\n            while (choiceNum >= sectionLens[classNum]) {\n                // if all possibilities are exhausted, break out the loop\n                if (--classNum < 0) break outer;\n\n                choiceNum = pathMemory[classNum];\n                for (let i = classNum + 1; i < numCourses; i++) pathMemory[i] = 0;\n            }\n\n            // check conflict between the newly chosen section and the sections already in the schedule\n            const temp = (choiceNum * numCourses + classNum) * sideLen;\n            for (let i = 0; i < classNum; i++) {\n                const idx = temp + i + allChoices[base + i] * numCourses;\n                if (conflictCache[idx]) {\n                    ++choiceNum;\n                    continue outer;\n                }\n            }\n\n            // if the section does not conflict with any previously chosen sections,\n            // increment the path memory and go to the next class, reset the choiceNum = 0\n            allChoices[base + classNum] = choiceNum;\n            pathMemory[classNum++] = choiceNum + 1;\n            choiceNum = 0;\n        }\n        const count = base / numCourses;\n        return [count, timeLen - (numCourses - 1) * 8 * count] as const;\n    }\n}\n\nexport default ScheduleGenerator;\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport { hr24toInt, intTo24hr } from '@/utils';\nimport { StoreModule } from '.';\n\nexport interface DisplayState {\n    [x: string]: any;\n    // course block options\n    showTime: boolean;\n    showRoom: boolean;\n    showInstructor: boolean;\n    showClasslistTitle: boolean;\n    showSuffix: boolean;\n\n    // grid schedule options\n    fullHeight: number;\n    partialHeight: number;\n    earliest: string;\n    latest: string;\n    standard: boolean;\n\n    // schedule compute options\n    multiSelect: boolean;\n    combineSections: boolean;\n    maxNumSchedules: number;\n    colorScheme: number;\n\n    // search options\n    expandOnEntering: boolean;\n    numSearchResults: number;\n\n    // weekdays\n    showWeekend: boolean;\n}\n\nfunction bound(num: number, low: number, high: number) {\n    return Math.min(Math.max(low, num), high);\n}\n\nexport type DisplayJSONShort = [number, ...any[]];\n\n/**\n * the display module handles global display options\n * @author Hanzhi Zhou\n */\nexport class Display implements StoreModule<DisplayState, DisplayState> {\n    public static compressJSON(obj: DisplayState) {\n        // get all keys in the display object and sort them\n        const keys = Object.keys(obj).sort();\n        const result: DisplayJSONShort = [0];\n\n        // convert to binary, the first key => the first/rightmost bit\n        let bits = 0;\n        let counter = 1;\n        for (const key of keys) {\n            if (obj[key] === true) {\n                bits |= counter;\n                counter <<= 1;\n            } else if (obj[key] === false) {\n                counter <<= 1;\n            } else {\n                result.push(obj[key]);\n            }\n        }\n        result[0] = bits;\n        return result;\n    }\n    public static decompressJSON(obj: DisplayJSONShort) {\n        const displaySettings = new Display();\n\n        // get and sort keys in displaySettings\n        const keys = Object.keys(displaySettings).sort();\n\n        // if the key name contains '_' then it corresponds to a certain index in data\n        // else it is in the binary\n        let counter = 1,\n            mask = 1;\n        const bits = obj[0];\n        for (const key of keys) {\n            if (key.startsWith('_')) {\n                displaySettings[key] = obj[counter++];\n            } else {\n                displaySettings[key] = Boolean(bits & mask);\n                mask <<= 1;\n            }\n        }\n        return displaySettings;\n    }\n\n    [x: string]: any;\n    showTime = false;\n    showRoom = true;\n    showInstructor = true;\n    showClasslistTitle = true;\n    showSuffix = true;\n    standard = false;\n    multiSelect = true;\n    combineSections = true;\n    expandOnEntering = false;\n    enableLog = true;\n    showWeekend = false;\n\n    private _fullHeight = 40;\n    private _partialHeight = 30;\n    private _maxNumSchedules = 200000;\n    private _numSearchResults = 6;\n    private _earliest = '08:00';\n    private _latest = '19:00';\n    private _width = 100;\n    private _colorScheme = 0;\n\n    // validators\n    get fullHeight() {\n        return this._fullHeight;\n    }\n    set fullHeight(x) {\n        this._fullHeight = bound(x, 1, 100);\n    }\n    get partialHeight() {\n        return this._partialHeight;\n    }\n    set partialHeight(x) {\n        this._partialHeight = bound(x, 1, 100);\n    }\n    get numSearchResults() {\n        return this._numSearchResults;\n    }\n    set numSearchResults(x) {\n        this._numSearchResults = bound(x, 1, 20);\n    }\n    get maxNumSchedules() {\n        return this._maxNumSchedules;\n    }\n    set maxNumSchedules(x) {\n        this._maxNumSchedules = bound(x, 1000, 5000000);\n    }\n    get earliest() {\n        return this._earliest;\n    }\n    set earliest(e) {\n        this._earliest = intTo24hr(bound(hr24toInt(e || '8:00'), 0, 12 * 60 - 1));\n    }\n    get latest() {\n        return this._latest;\n    }\n    set latest(e) {\n        this._latest = intTo24hr(bound(hr24toInt(e || '22:00'), 12 * 60, 24 * 60 - 1));\n    }\n    get width() {\n        return this._width;\n    }\n    set width(e) {\n        this._width = bound(e, 10, 1000);\n    }\n    get colorScheme() {\n        return this._colorScheme;\n    }\n    set colorScheme(e) {\n        this._colorScheme = e;\n    }\n\n    // when doing serialization, we only record the enumerable properties, excluding the getters\n    fromJSON(obj: Partial<DisplayState>) {\n        const defaultVal = this.getDefault();\n        for (const key in defaultVal) {\n            const val = obj[key];\n            const defVal = defaultVal[key];\n            if (typeof val === typeof defVal) {\n                this[key] = val;\n            } else {\n                this[key] = defVal;\n            }\n        }\n    }\n\n    toJSON() {\n        return this;\n    }\n\n    getDefault() {\n        return new Display();\n    }\n}\n\nexport default new Display();\n","/**\n * @module src/store\n * @author Hanzhi Zhou\n */\n\n/**\n * the noti level type corresponds to the three different log levels available in Console\n * @see console.info\n * @see console.warn\n * @see console.error\n */\ntype ConsoleLevel = 'info' | 'error' | 'warn';\n/**\n * the noti class type corresponds to the bootstrap color classes\n */\ntype NotiClass = 'info' | 'danger' | 'success' | 'warning';\n\n/**\n * @typeparam T the type of the payload\n */\nexport interface NotiMsg<T> {\n    level: ConsoleLevel | 'success';\n    msg: string;\n    payload?: T;\n}\n\n/**\n * the current state of the notification\n */\ninterface NotiState {\n    /**\n     * the notification message\n     */\n    msg: string;\n    /**\n     * @see [[NotiClass]]\n     */\n    cls: NotiClass | '';\n}\n\n/**\n * A notification item represents a notification state in the past\n */\ninterface NotiItem extends NotiState {\n    /**\n     * time stamp created by\n     * ```js\n     * new Date().toLocaleTimeString()\n     * ```\n     */\n    stamp: string;\n}\n\n/**\n * map console types to bootstrap css classes\n */\nconst CLAS = Object.freeze({\n    info: 'info',\n    error: 'danger',\n    warn: 'warning',\n    success: 'success'\n}) as { [x in ConsoleLevel | 'success']: NotiClass };\n\n/**\n * map bootstrap css classes to notification type\n */\nconst CONS = Object.freeze({\n    info: 'info',\n    danger: 'error',\n    success: 'info',\n    warning: 'warn'\n}) as { [x in NotiClass]: ConsoleLevel };\n\nconst LEVELS: { [x in NotiClass]: number } = Object.freeze({\n    info: 0,\n    success: 1,\n    warning: 2,\n    danger: 3\n});\n\n/**\n * the notification module encapsulates common functions used to\n * inform user about the results of certain actions\n */\nclass Notification implements NotiState {\n    public msg = '';\n    public cls: NotiClass | '' = '';\n    /**\n     * history of the notification states. index 0 corresponds to the most recent one\n     */\n    public history: Readonly<NotiItem>[] = [];\n    private job: number | null = null;\n\n    /**\n     * display a notification to users.\n     * by default, only notifications of higher level will override the previous notification.\n     * @param msg the message to display\n     * @param type the type of notification\n     * @param timeout timeout in second. this noti msg will be automatically cleared after timeout.\n     * @param override force-override the previous notification, if it exists\n     */\n    public notify<T>(\n        msg: string | NotiMsg<T>,\n        cls: NotiClass = 'info',\n        timeout = 5,\n        override = false\n    ) {\n        if (typeof msg !== 'string') {\n            cls = CLAS[msg.level];\n            msg = msg.msg;\n        }\n        // new notification comes first\n        this.history.unshift({\n            msg,\n            cls,\n            stamp: new Date().toLocaleTimeString()\n        });\n        console[CONS[cls]](msg);\n\n        if (!this.cls || LEVELS[cls] >= LEVELS[this.cls] || override) {\n            if (this.job) window.clearTimeout(this.job);\n            this.msg = msg;\n            this.cls = cls;\n            this.clear(timeout);\n        }\n    }\n\n    public empty() {\n        return !this.msg && !this.cls;\n    }\n\n    /**\n     * clear the current notification\n     * @param timeout clear the current notification after `timeout` seconds. Default to 0, which clears the current notification immediately.\n     */\n    public clear(timeout = 0) {\n        if (timeout <= 0) {\n            this.msg = '';\n            this.cls = '';\n            this.job = null;\n        } else {\n            this.job = window.setTimeout(() => this.clear(0), timeout * 1000);\n        }\n    }\n\n    public clearHistory() {\n        this.history = [];\n    }\n\n    /**\n     * display a notification to users.\n     * by default, only notifications of higher level will override the previous notification.\n     * @param msg the message to display\n     * @param timeout timeout in second. this noti msg will be automatically cleared after timeout.\n     * @param override force-override the previous notification, if it exists\n     */\n    public warn(msg: string, timeout = 5, override = false) {\n        this.notify(msg, 'warning', timeout, override);\n    }\n\n    /**\n     * display a notification to users.\n     * by default, only notifications of higher level will override the previous notification.\n     * @param msg the message to display\n     * @param timeout timeout in second. this noti msg will be automatically cleared after timeout.\n     * @param override force-override the previous notification, if it exists\n     */\n    public error(msg: string, timeout = 5, override = false) {\n        this.notify(msg, 'danger', timeout, override);\n    }\n\n    /**\n     * display a notification to users.\n     * by default, only notifications of higher level will override the previous notification.\n     * @param msg the message to display\n     * @param timeout timeout in second. this noti msg will be automatically cleared after timeout.\n     * @param override force-override the previous notification, if it exists\n     */\n    public success(msg: string, timeout = 5, override = false) {\n        this.notify(msg, 'success', timeout, override);\n    }\n\n    /**\n     * display a notification to users.\n     * by default, only notifications of higher level will override the previous notification.\n     * @param msg the message to display\n     * @param timeout timeout in second. this noti msg will be automatically cleared after timeout.\n     * @param override force-override the previous notification, if it exists\n     */\n    public info(msg: string, timeout = 5, override = false) {\n        this.notify(msg, 'info', timeout, override);\n    }\n}\n\nexport default new Notification();\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport Event from '@/models/Event';\nimport Schedule, { DAYS, ScheduleAll, SectionJSON } from '@/models/Schedule';\nimport ProposedSchedule from '@/models/ProposedSchedule';\nimport { to12hr } from '@/utils';\nimport { StoreModule } from '.';\nimport ScheduleEvaluator, {\n    EvaluatorOptions,\n    SortFunctions,\n    SortMode,\n    SortOption\n} from '../algorithm/ScheduleEvaluator';\nimport noti, { NotiMsg } from './notification';\nimport GeneratedSchedule from '@/models/GeneratedSchedule';\n\ninterface FilterStateBase {\n    readonly timeSlots: TimeSlot[];\n    allowWaitlist: boolean;\n    allowClosed: boolean;\n}\n\nexport interface FilterState extends FilterStateBase {\n    sortOptions: DetailedEvaluatorOptions;\n    refSchedule: GeneratedSchedule['All'];\n}\n\nexport interface FilterStateJSON extends FilterStateBase {\n    sortOptions: EvaluatorOptions;\n    refSchedule: ScheduleAll<SectionJSON[][]>;\n}\n\n/**\n * A sort option with detailed description\n * @see [[SortOption]]\n */\ninterface DetailedSortOption extends SortOption {\n    /**\n     * the names of the sorting options that cannot be applied when this option is enabled\n     */\n    readonly exclusive: readonly (keyof SortFunctions)[];\n    /**\n     * text displayed next to the checkbox\n     */\n    readonly title: string;\n    /**\n     * text displayed in tooltip\n     */\n    readonly description: string;\n}\n\n/**\n * A JSON-serializable version of the [[EvaluatorOptions]] with more details\n */\ninterface DetailedEvaluatorOptions extends EvaluatorOptions {\n    sortBy: readonly DetailedSortOption[];\n    toJSON: () => EvaluatorOptions;\n    fromJSON: (x?: EvaluatorOptions) => DetailedEvaluatorOptions;\n}\n\n/**\n * index 0 - 6: whether Mo - Su are selected\n *\n * 7: start time, of 24 hour format\n *\n * 8: end time, of 24 hour format\n */\nexport type TimeSlot = [\n    boolean,\n    boolean,\n    boolean,\n    boolean,\n    boolean,\n    boolean,\n    boolean,\n    string,\n    string\n];\nexport type TimeSlotShort = [number, string, string];\n\n/**\n * a list of sort options with default values assigned\n */\nconst defaultOptions: DetailedEvaluatorOptions = {\n    sortBy: [\n        {\n            name: 'distance',\n            enabled: true,\n            reverse: false,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'Walking Distance',\n            description: 'Avoid long distance walking between classes'\n        },\n        {\n            name: 'variance',\n            enabled: true,\n            reverse: false,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'Variance',\n            description: 'Balance the class time each day'\n        },\n        {\n            name: 'compactness',\n            enabled: false,\n            reverse: false,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'Vertical compactness',\n            description: 'Make classes back-to-back'\n        },\n        {\n            name: 'lunchTime',\n            enabled: false,\n            reverse: false,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'Lunch Time',\n            description: 'Leave spaces for lunch'\n        },\n        {\n            name: 'noEarly',\n            enabled: false,\n            reverse: false,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'No Early',\n            description: 'Start my day as late as possible'\n        },\n        {\n            name: 'similarity',\n            enabled: false,\n            reverse: false,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'Similarity',\n            description: 'Similar to a selected schedule'\n        },\n        {\n            name: 'IamFeelingLucky',\n            enabled: false,\n            reverse: false,\n            weight: 1,\n            exclusive: ['variance', 'compactness', 'lunchTime', 'noEarly', 'distance'],\n            title: `I'm Feeling Lucky`,\n            description: 'Sort randomly'\n        }\n    ],\n    mode: SortMode.combined,\n    toJSON() {\n        return {\n            sortBy: this.sortBy.map(x => ({\n                name: x.name,\n                enabled: x.enabled,\n                reverse: x.reverse,\n                weight: x.weight\n            })),\n            mode: this.mode\n        };\n    },\n    fromJSON(raw?: EvaluatorOptions) {\n        if (raw && raw.mode !== undefined && raw.sortBy) {\n            this.mode = raw.mode;\n            for (const rawSort of raw.sortBy) {\n                for (const sort of this.sortBy) {\n                    if (sort.name === rawSort.name) {\n                        sort.enabled = rawSort.enabled;\n                        sort.reverse = rawSort.reverse;\n                        sort.weight = rawSort.weight || 1;\n                        break;\n                    }\n                }\n            }\n        }\n        return this;\n    }\n};\n\n/**\n * get a copy of the default options\n */\nfunction getDefaultOptions() {\n    const options = Object.assign({}, defaultOptions);\n    options.sortBy = options.sortBy.map(x => Object.assign({}, x));\n    return options;\n}\n\n// this property must be non-reactive,\n// otherwise the reactive observer will slow down execution significantly\nwindow.scheduleEvaluator = new ScheduleEvaluator();\n\n/**\n * the filter module handles the storage and manipulation of filters\n * @author Hanzhi Zhou\n */\nexport class FilterStore implements StoreModule<FilterState, FilterStateJSON> {\n    public static compressJSON(obj: FilterStateJSON) {\n        // convert allowClosed, allowWaitlist, mode to binary\n        let filterBits = 0;\n        if (obj.allowClosed) filterBits += 2 ** 0;\n        if (obj.allowWaitlist) filterBits += 2 ** 1;\n        if (obj.sortOptions.mode === 1) filterBits += 2 ** 2;\n\n        // sorting\n        // add all initial ascii to the array in order\n        // add the binary of their respective state: enabled or reverse\n        let mask = 1;\n        let sortBits = 0;\n\n        // name_initial ascii code :[c,d,l,n,s,v,I] --> could change in order\n        const initials: number[] = [];\n        const weights: number[] = [];\n        for (const sortBy of obj.sortOptions.sortBy) {\n            initials.push(sortBy.name.charCodeAt(0));\n            if (sortBy.enabled) sortBits |= mask;\n            mask <<= 1;\n            if (sortBy.reverse) sortBits |= mask;\n            mask <<= 1;\n            weights.push(sortBy.weight);\n        }\n        const { payload: schedule, level, msg } = ProposedSchedule.fromJSON({\n            All: obj.refSchedule,\n            events: []\n        });\n        if (level === 'warn')\n            noti.warn(\n                'Warning: Reference schedule used in sort by similarity is removed because <br>' +\n                    msg\n            );\n\n        return [\n            filterBits,\n            sortBits,\n            initials,\n            weights,\n            // use 7 bits to represent the 7 days\n            obj.timeSlots.map(timeSlot => {\n                let m = 1,\n                    flag = 0;\n                for (let i = 0; i < 7; i++) {\n                    if (timeSlot[i]) flag |= m;\n                    m <<= 1;\n                }\n                return [flag, timeSlot[7], timeSlot[8]] as const;\n            }),\n            // we ignore the events\n            schedule && level !== 'warn' ? Schedule.compressJSON(schedule.toJSON())[0] : {}\n        ] as const;\n    }\n\n    public static decompressJSON(obj: ReturnType<typeof FilterStore.compressJSON>) {\n        const filter = new FilterStore();\n        const [filterBits, sortBits, initials, weights, slots, ref] = obj;\n\n        // get allowClosed, allowWaitlist, mode from binary\n        filter.allowClosed = Boolean(filterBits & 1);\n        filter.allowWaitlist = Boolean(filterBits & 2);\n        filter.sortOptions.mode = +Boolean(filterBits & 4); // convert to 0 or 1\n\n        // decode time slots\n        filter.timeSlots = slots.map(slot => {\n            const timeSlot: TimeSlot = [\n                false,\n                false,\n                false,\n                false,\n                false,\n                false,\n                false,\n                slot[1],\n                slot[2]\n            ];\n            const bits = slot[0];\n            let m = 1;\n            for (let i = 0; i < 7; i++) {\n                timeSlot[i] = Boolean(m & bits);\n                m <<= 1;\n            }\n            return timeSlot;\n        });\n\n        // decode the enable and reverse info of sort\n        const sortBy = filter.sortOptions.sortBy;\n        const sortCopy = [];\n        // loop through the ascii initials and match to the object name\n        let mask = 1;\n        for (let i = 0; i < initials.length; i++) {\n            const initial = initials[i];\n            const sortOpt = sortBy.find(s => s.name.charCodeAt(0) === initial)!;\n\n            // if matched, decode the enabled and reverse info from the binary\n            sortOpt.enabled = Boolean(sortBits & mask);\n            mask <<= 1;\n\n            sortOpt.reverse = Boolean(sortBits & mask);\n            mask <<= 1;\n\n            sortOpt.weight = weights[i];\n\n            sortCopy.push(sortOpt);\n        }\n        filter.sortOptions.sortBy = sortCopy;\n        const { payload: schedule, level } = ProposedSchedule.fromJSON(\n            Schedule.decompressJSON([ref])\n        );\n        if (schedule && level !== 'warn') filter.refSchedule = schedule.All as any; // this guarantees to be a generated schedule\n        return filter.toJSON();\n    }\n\n    timeSlots: TimeSlot[] = [];\n    allowWaitlist = true;\n    allowClosed = true;\n    sortOptions = getDefaultOptions();\n    refSchedule: GeneratedSchedule['All'] = {};\n    readonly sortModes = [\n        {\n            mode: SortMode.combined,\n            title: 'Combined',\n            description: 'Combine all sorting options enabled and given them equal weight'\n        },\n        {\n            mode: SortMode.fallback,\n            title: 'Fallback',\n            description:\n                'Sort using the options on top first. If compare equal, sort using the next option.' +\n                ' You can drag the sorting options to change their order.'\n        }\n    ] as const;\n\n    get similarityEnabled() {\n        return Object.keys(this.refSchedule).length !== 0;\n    }\n\n    addTimeSlot() {\n        this.timeSlots.push([false, false, false, false, false, false, false, '', '']);\n    }\n    removeTimeSlot(n: number) {\n        this.timeSlots.splice(n, 1);\n    }\n\n    /**\n     * Preprocess the time filters and convert them to an array of event.\n     * returns null on parsing error\n     */\n    computeFilter(): NotiMsg<Event[]> {\n        const events: Event[] = [];\n\n        // no time slots => no time filter\n        if (!this.timeSlots.length)\n            return {\n                msg: 'no filters',\n                level: 'success',\n                payload: events\n            };\n\n        for (const time of this.timeSlots) {\n            let days = '';\n            for (let j = 0; j < 7; j++) {\n                if (time[j]) days += DAYS[j];\n            }\n\n            if (!days) continue;\n\n            const startTime = time[7].split(':');\n            const endTime = time[8].split(':');\n            if (\n                isNaN(+startTime[0]) ||\n                isNaN(+startTime[1]) ||\n                isNaN(+endTime[0]) ||\n                isNaN(+endTime[1])\n            ) {\n                return {\n                    msg: 'Invalid time input! Please check your filters.',\n                    level: 'error'\n                };\n            }\n            days += ' ' + to12hr(time[7]) + ' - ' + to12hr(time[8]);\n            events.push(new Event(days, false));\n        }\n\n        if (!events.length)\n            return {\n                msg: 'You need to select at least one day! Please check your filters.',\n                level: 'error'\n            };\n\n        return {\n            msg: 'success',\n            level: 'success',\n            payload: events\n        };\n    }\n\n    fromJSON(obj: Partial<FilterStateJSON>) {\n        const defaultVal = this.getDefault();\n        this.timeSlots = obj.timeSlots instanceof Array ? obj.timeSlots : defaultVal.timeSlots;\n        this.allowClosed =\n            typeof obj.allowClosed === 'boolean' ? obj.allowClosed : defaultVal.allowClosed;\n        this.allowWaitlist =\n            typeof obj.allowWaitlist === 'boolean' ? obj.allowWaitlist : defaultVal.allowWaitlist;\n        this.sortOptions = defaultVal.sortOptions.fromJSON(obj.sortOptions);\n\n        const { payload: schedule, level, msg } = ProposedSchedule.fromJSON({\n            All: obj.refSchedule || {},\n            events: []\n        });\n        if (level === 'warn')\n            noti.warn(\n                'Warning: Reference schedule used in sort by similarity is removed because <br>' +\n                    msg\n            );\n        // this guarantees to be a generated schedule\n        this.refSchedule =\n            schedule && level !== 'warn' ? (schedule.All as any) : defaultVal.refSchedule;\n    }\n\n    toJSON(): FilterStateJSON {\n        // exclude sort modes\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const { sortModes, refSchedule: ref, ...others } = this;\n        const refSchedule = new ProposedSchedule(ref).toJSON().All as any; // this guarantees to be a generated schedule\n        return { refSchedule, ...others };\n    }\n\n    getDefault() {\n        return new FilterStore();\n    }\n}\n\nexport default new FilterStore();\n","/**\n * @module src/store\n * @author Hanzhi Zhou\n */\n\n/**\n *\n */\nimport { SearchMatch } from '@/models/Catalog';\nimport { getReleaseNote } from '@/utils';\nimport 'bootstrap';\nimport $ from 'jquery';\nimport Course from '../models/Course';\nimport Section from '../models/Section';\n\n/**\n * the modal module handles modal triggering\n */\nclass Modal {\n    section: Section | null = null;\n    course: Course | null = null;\n    url = '';\n    match: SearchMatch = [[], new Map()];\n\n    showSectionModal(section: Section) {\n        this.section = section;\n        $('#section-modal').modal();\n    }\n\n    showCourseModal(course: Course, match?: SearchMatch) {\n        this.course = course;\n        this.match = match || [[], new Map()];\n        $('#course-modal').modal();\n    }\n\n    showURLModal(url: string) {\n        this.url = url;\n        $('#url-modal').modal();\n    }\n\n    async showReleaseNoteModal() {\n        const note = await getReleaseNote();\n        $('#release-note-body').html(note);\n        $('#versionModal').modal();\n    }\n}\n\nexport default new Modal();\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport { StoreModule } from '.';\n\nexport interface PaletteState {\n    savedColors: { [x: string]: string };\n}\n\n/**\n * the palette module handles the customization of colors of courses and events\n * @author Hanzhi Zhou\n */\nexport class Palette implements StoreModule<PaletteState, PaletteState> {\n    public static compressJSON(obj: PaletteState) {\n        return obj.savedColors;\n    }\n    public static decompressJSON(obj: ReturnType<typeof Palette.compressJSON>) {\n        return { savedColors: obj };\n    }\n    public savedColors: { [x: string]: string } = {};\n\n    fromJSON(obj: PaletteState) {\n        this.savedColors = obj.savedColors || {};\n    }\n\n    getDefault() {\n        return new Palette();\n    }\n\n    toJSON() {\n        return this;\n    }\n}\n\nexport default new Palette();\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport { SemesterJSON } from '@/models/Catalog';\nimport { SemesterStorage } from '.';\nimport axios from 'axios';\nimport { backend, runningOnElectron } from '@/config';\nimport { NotiMsg } from './notification';\nimport { stringify } from 'querystring';\n\ninterface BackendBaseResponse {\n    /** true if success, false otherwise */\n    success: boolean;\n    /** reason for failure. If success, can put anything here */\n    message: string;\n}\n\ninterface BackendFailedResponse extends BackendBaseResponse {\n    success: false;\n}\n\ninterface BackendListRequest {\n    /** the profile name. If omitted, return all the profiles (each profile should be the latest version) */\n    name?: string;\n    /** only present if \"name\" is present. If this field is missing, then the latest profile should be returned */\n    version?: number;\n}\n\ninterface ProfileVersion {\n    /** number of milliseconds since Unix epoch */\n    modified: number;\n    /** User Agent from the Http Header */\n    userAgent: string;\n    /** the version number */\n    version: number;\n}\n\ninterface BackendListItem {\n    /** keys of all historical versions for this profile. They can be used as the \"version\" field to query historical profiles */\n    versions: ProfileVersion[];\n    /** the body of the profile corresponding to the queried version. It should be the latest profile if the version number is missing */\n    profile: string;\n}\n\ninterface BackendListResponse extends BackendBaseResponse {\n    success: true;\n    /** if the name field of the request is missing, this should be a list of all profiles. Otherwise, this should be a list of 1 profile corresponding to the name and version given. */\n    profiles: BackendListItem[];\n}\n\n/** the format of a profile entry to upload to the remote */\ninterface BackendProfile {\n    /** name of the profile */\n    name: string;\n    /** content of the profile */\n    profile: string;\n    /** whether to force create a new version for this file. If this field is false or is not present, then it is up to the server to decide whether to create a new version */\n    new?: true;\n}\n\ninterface BackendUploadRequest {\n    /** list of profiles to be uploaded */\n    profiles: BackendProfile[];\n}\n\ninterface BackendUploadResponse extends BackendBaseResponse {\n    success: true;\n    /** version information of each newly uploaded profile. If failed, this field is not present */\n    versions: ProfileVersion[][];\n}\n\ninterface BackendRenameRequest {\n    action: 'rename';\n    oldName: string;\n    newName: string;\n    profile: string;\n}\n\ninterface BackendRenameResponse extends BackendBaseResponse {\n    success: true;\n    versions: ProfileVersion[];\n}\n\ninterface BackendDeleteRequest {\n    action: 'delete';\n    /** the name of the profile to be deleted */\n    name: string;\n}\n\ninterface BackendDeleteResponse extends BackendBaseResponse {\n    success: true;\n}\n\nexport interface LocalProfileEntry {\n    /** name of the profile */\n    name: string;\n    /** whether the profile is synced with the remote */\n    remote: boolean;\n    /** historical versions of this profile stored on the remote. Invalid if remote=false */\n    versions: ProfileVersion[];\n    /** current version of this profile selected (locally). Invalid if remote=false */\n    currentVersion: number;\n}\n\n/**\n * the profile class handles profiles adding, renaming and deleting\n * @note profile selection is handled in the [[Store]] class\n * because it also needs to manipulate other store modules\n * @author Hanzhi Zhou\n */\nclass Profile {\n    /**\n     * the name of the current profile.\n     * This is a reactive property. Whenever changed, the `currentProfile` in the `localStorage` will be updated\n     */\n    current: string;\n    /**\n     * an array of local profile names and their associated information\n     */\n    profiles: LocalProfileEntry[];\n    /**\n     * the access token type. If this field is non-empty, that means we have a valid access token and can communicate with the backend.\n     */\n    tokenType!: string;\n    private accessToken!: string;\n\n    constructor() {\n        this.current = localStorage.getItem('currentProfile') || '';\n        const profiles: any[] = JSON.parse(localStorage.getItem('profiles') || '[]') || [];\n        if (profiles.length === 0) this.profiles = profiles;\n        else {\n            if (typeof profiles[0] === 'string')\n                this.profiles = profiles.map(p => this.createProfile(p));\n            else if (typeof profiles[0] === 'object') {\n                this.profiles = profiles;\n            } else {\n                console.error('unknown profile format');\n                this.profiles = [];\n            }\n        }\n\n        this.loadToken();\n    }\n\n    loadToken() {\n        this.tokenType = localStorage.getItem('token_type') || '';\n        this.accessToken = localStorage.getItem('access_token') || '';\n    }\n\n    /**\n     * initialize profile storage if it does not exist already\n     */\n    initProfiles(semesters: SemesterJSON[]) {\n        if (!semesters.length) return;\n\n        const name = localStorage.getItem('currentProfile');\n        const profiles = [];\n        if (!name) {\n            // backward compatibility\n            for (const sem of semesters.concat().reverse()) {\n                const oldData = localStorage.getItem(sem.id);\n                if (oldData) {\n                    let parsed: Partial<SemesterStorage> | null = null;\n                    try {\n                        parsed = JSON.parse(oldData);\n                    } catch (e) {\n                        console.error(e);\n                    }\n                    if (parsed) {\n                        parsed.name = sem.name;\n                        localStorage.removeItem(sem.id);\n                        localStorage.setItem(sem.name, JSON.stringify(parsed));\n                        profiles.push(sem.name);\n                    }\n                }\n            }\n\n            // latest semester\n            const latest = semesters[0].name;\n            if (!profiles.includes(latest)) profiles.push(latest);\n\n            this.current = latest;\n            this.profiles = profiles.map(p => this.createProfile(p));\n        }\n    }\n\n    createProfile(name: string): LocalProfileEntry {\n        return {\n            name,\n            remote: false,\n            versions: [],\n            currentVersion: -1\n        };\n    }\n\n    /**\n     * from https://stackoverflow.com/questions/18338890/are-there-any-sha-256-javascript-implementations-that-are-generally-considered-t\n     * @param message\n     */\n    async sha256(message: string) {\n        // encode as UTF-8\n        const msgBuffer = new TextEncoder().encode(message);\n\n        // hash the message\n        const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);\n\n        // convert ArrayBuffer to Array\n        const hashArray = Array.from(new Uint8Array(hashBuffer));\n\n        // convert bytes to hex string\n        const hashHex = hashArray.map(b => ('00' + b.toString(16)).slice(-2)).join('');\n        return hashHex;\n    }\n\n    /**\n     * get the redirect url for the authorization code flow. For the desktop app (electron), a configured uri will be used.\n     */\n    private getRedirectURL() {\n        return runningOnElectron ? backend.oauth_electron_redirect_uri : window.location.origin;\n    }\n\n    /**\n     * redirect to the url for requesting an authorization code. It should redirect back with the code attached to the url.\n     */\n    async loginBackend() {\n        const code_verifier = Math.random().toString();\n        const state = Math.random().toString();\n        localStorage.setItem('auth_state', state);\n        localStorage.setItem('auth_code_verifier', code_verifier);\n        window.location.href = `${backend.code}?${stringify({\n            client_id: backend.client_id,\n            state,\n            redirect_uri: this.getRedirectURL(),\n            code_challenge: await this.sha256(code_verifier),\n            code_challenge_method: 'S256'\n        })}`;\n    }\n\n    /**\n     * using the code, request an access token.\n     * @param code\n     */\n    async getBackendToken(code: string | null) {\n        if (code) {\n            const response = await axios.post(backend.token, {\n                client_id: backend.client_id,\n                code,\n                grant_type: 'authorization_code',\n                code_verifier: localStorage.getItem('auth_code_verifier'),\n                redirect_uri: this.getRedirectURL()\n            });\n            localStorage.removeItem('auth_state');\n            localStorage.removeItem('auth_code_verifier');\n            const data = response.data;\n            if (data['access_token']) {\n                localStorage.setItem('access_token', data['access_token']);\n                localStorage.setItem('token_type', data['token_type']);\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * rename a profile. If remote=true, also rename the remote profile.\n     * note that name duplication is not checked! This check should be done by the caller.\n     * @see [[ExportView.renameProfile]]\n     * @param raw the content fetched from localStorage.getItem(oldName)\n     */\n    async renameProfile(idx: number, oldName: string, newName: string, raw: string) {\n        if (oldName === this.current) this.current = newName;\n\n        const parsed = JSON.parse(raw);\n        parsed.name = newName;\n        localStorage.removeItem(oldName);\n\n        const newProf = JSON.stringify(parsed);\n        localStorage.setItem(newName, newProf);\n\n        this.profiles[idx].name = newName;\n\n        if (this.tokenType && this.profiles[idx].remote) {\n            const resp = await this.requestBackend<BackendRenameRequest, BackendRenameResponse>(\n                backend.edit,\n                {\n                    action: 'rename',\n                    oldName,\n                    newName,\n                    profile: newProf\n                }\n            );\n            if (!resp.success) {\n                this.logout();\n                return {\n                    msg: `Failed to communicate with ${backend.name}: ${resp.message}. Please try to re-login from ${backend.name}.`,\n                    level: 'error'\n                } as const;\n            }\n\n            this.profiles[idx].versions = resp.versions.sort((a, b) => b.version - a.version);\n            this.profiles[idx].currentVersion = resp.versions[0].version;\n        }\n    }\n\n    /**\n     * delete a profile from the remote\n     * @param name\n     */\n    async deleteRemote(name: string) {\n        const msg: NotiMsg<string> = {\n            msg: '',\n            level: 'success'\n        };\n        const resp = await this.requestBackend<BackendDeleteRequest, BackendDeleteResponse>(\n            backend.edit,\n            {\n                action: 'delete',\n                name\n            }\n        );\n        if (!resp.success) {\n            if (resp.message === \"Profile doesn't exist\") {\n                msg.level = 'warn';\n                msg.msg = `Profile ${name} is already deleted from ${backend.name}! The deletion was probably requested by another device.`;\n            } else {\n                this.logout();\n                msg.level = 'error';\n                msg.msg = `Failed to communicate with ${backend.name}: ${resp.message}. Please try to re-login from ${backend.name}.`;\n            }\n        }\n        return msg;\n    }\n\n    /**\n     * delete a profile. If remote and requestRemote=true, also delete it from the remote.\n     * @returns A noti message containing the name of the previous profile if the deleted profile is selected, undefined otherwise\n     */\n    async deleteProfile(name: string, idx: number, requestRemote = true) {\n        let msg: NotiMsg<string> = {\n            msg: '',\n            level: 'success'\n        };\n        if (this.tokenType && this.profiles[idx].remote && requestRemote)\n            msg = await this.deleteRemote(name);\n\n        this.profiles.splice(idx, 1);\n        localStorage.removeItem(name);\n\n        if (name === this.current) {\n            if (idx === this.profiles.length) {\n                msg.payload = this.current = this.profiles[idx - 1].name;\n            } else {\n                msg.payload = this.current = this.profiles[idx].name;\n            }\n        }\n        return msg;\n    }\n\n    /**\n     * parse a profile from string, add it to the list of profiles, store it in localStorage, and set [[Profile.current]] to be the newly added profile\n     * @note it is the caller's responsibility to call loadProfile() to load the newly added profile\n     * @param raw the raw string representation of the profile (before JSON.parse)\n     * @param fallbackName the fallback name if the raw does not contain the name of the profile\n     */\n    async addProfile(raw: string, fallbackName: string) {\n        const rawData: SemesterStorage = JSON.parse(raw);\n\n        // change modified time to new to it can overwrite remote profiles\n        rawData.modified = new Date().toJSON();\n        let profileName = rawData.name || fallbackName;\n        let prof = this.profiles.find(p => p.name === profileName);\n        if (prof) {\n            if (\n                !confirm(\n                    `A profile named ${profileName} already exists! Click confirm to overwrite, click cancel to keep both.`\n                )\n            ) {\n                let idx = 2;\n                while (this.profiles.find(p => p.name === `${profileName} (${idx})`)) idx++;\n                profileName = `${profileName} (${idx})`;\n\n                rawData.name = profileName;\n                localStorage.setItem(profileName, JSON.stringify(rawData));\n\n                this.profiles.push((prof = this.createProfile(profileName)));\n            }\n        } else {\n            this.profiles.push((prof = this.createProfile(profileName)));\n        }\n        // backward compatibility only\n        if (!rawData.name) rawData.name = profileName;\n\n        const data = JSON.stringify(rawData);\n        localStorage.setItem(profileName, data);\n        this.current = profileName;\n\n        if (this.tokenType && prof.remote) {\n            const msg = await this.uploadProfile([\n                {\n                    profile: data,\n                    name: profileName\n                }\n            ]);\n            if (msg) return msg;\n        }\n    }\n\n    isLatest(idx: number) {\n        const prof = this.profiles[idx];\n        return !prof.remote || prof.currentVersion === prof.versions[0].version;\n    }\n\n    /**\n     * request a backend api endpoint with authorization headers\n     * @param endpoint url for the api endpoint\n     * @param request the request object\n     */\n    private async requestBackend<RequestType, ResponseType extends BackendBaseResponse>(\n        endpoint: string,\n        request: RequestType\n    ): Promise<ResponseType | BackendFailedResponse> {\n        try {\n            return (\n                await axios.post<ResponseType>(endpoint, request, {\n                    headers: {\n                        Authorization: this.tokenType + ' ' + this.accessToken\n                    }\n                })\n            ).data;\n        } catch (err) {\n            return {\n                success: false,\n                message: err.message\n            };\n        }\n    }\n\n    /**\n     * get a specific version of a profile\n     */\n    async getRemoteProfile(name: string, version: number) {\n        const resp = await this.requestBackend<BackendListRequest, BackendListResponse>(\n            backend.down,\n            {\n                name,\n                version\n            }\n        );\n        const msg: NotiMsg<BackendListItem> = {\n            level: 'success',\n            msg: ''\n        };\n        if (resp.success) {\n            msg.payload = resp.profiles[0];\n        } else {\n            msg.level = 'error';\n            msg.msg = `Failed to communicate with ${backend.name}: ${resp.message}. Please try to re-login from ${backend.name}.`;\n            this.logout();\n        }\n        return msg;\n    }\n\n    /**\n     * upload the list of profiles given to the remote, and also update their version histories\n     * @note the list of profiles given must be present in [[Profile.profiles]]. If not, [[Profile.addProfile]] must be called first.\n     * @param profiles\n     * @returns an error message when failed, undefined when success\n     */\n    async uploadProfile(profiles: BackendProfile[]) {\n        const resp = await this.requestBackend<BackendUploadRequest, BackendUploadResponse>(\n            backend.up,\n            { profiles }\n        );\n\n        if (!resp.success) {\n            this.logout();\n            return {\n                msg: `Failed to communicate with ${backend.name}: ${resp.message}. Please try to re-login from ${backend.name}.`,\n                level: 'error'\n            } as const;\n        }\n\n        // for each uploaded profile, update their version history.\n        for (let i = 0; i < profiles.length; i++) {\n            const name = profiles[i].name;\n            const version = resp.versions[i].sort((a, b) => b.version - a.version);\n            const profile = this.profiles.find(p => p.name === name)!;\n            profile.versions = version;\n            profile.currentVersion = version[0].version;\n        }\n    }\n\n    /**\n     * Synchronize local profiles with the remote profiles\n     * @returns a noti message indicating success/failure\n     */\n    async syncProfiles(): Promise<NotiMsg<undefined>> {\n        if (!this.tokenType) {\n            return {\n                msg: 'No backend exists. Abort syncing profiles',\n                level: 'warn'\n            };\n        }\n        const resp = await this.requestBackend<BackendListRequest, BackendListResponse>(\n            backend.down,\n            {}\n        );\n        if (!resp.success) {\n            this.logout();\n            return {\n                msg: `Failed to communicate with ${backend.name}: ${resp.message}. Please try to re-login from ${backend.name}.`,\n                level: 'error'\n            };\n        }\n\n        const remoteProfMap = new Map(\n            resp.profiles.map(p => {\n                const parsed: SemesterStorage = JSON.parse(p.profile)!;\n                return [\n                    parsed.name,\n                    {\n                        versions: p.versions.sort((a, b) => b.version - a.version),\n                        profile: parsed\n                    }\n                ];\n            })\n        );\n\n        // for local profiles marked as sync, if they are not in the remote list, that means they are deleted (by another device). Remove them from local.\n        this.profiles.concat().forEach(p => {\n            if (p.remote && !remoteProfMap.has(p.name)) {\n                this.deleteProfile(\n                    p.name,\n                    this.profiles.findIndex(p2 => p2.name === p.name),\n                    false\n                );\n            }\n        });\n\n        const needUpload: string[] = [],\n            needDownload: string[] = [];\n        for (const [name, { profile: remoteProf, versions: remoteVersions }] of remoteProfMap) {\n            const prof = this.profiles.find(p => p.name === name);\n            if (prof && prof.remote) {\n                const localProf: SemesterStorage = JSON.parse(localStorage.getItem(name)!);\n                const localTime = new Date(localProf.modified).getTime();\n                const remoteTime = new Date(remoteProf.modified).getTime();\n\n                if (localTime < remoteTime) {\n                    // remote profile is newer\n                    localStorage.setItem(name, JSON.stringify(remoteProf));\n                    prof.versions = remoteVersions;\n                    prof.currentVersion = remoteVersions[0].version;\n\n                    needDownload.push(name);\n                } else if (localTime > remoteTime) {\n                    // local profile is newer\n                    needUpload.push(name);\n                } else {\n                    // if the local profile is the same as the remote profile (in terms of modified time), just fetch the version history from the remote.\n                    prof.versions = remoteVersions;\n                    prof.currentVersion = remoteVersions[0].version;\n                }\n            } else if (prof && !prof.remote) {\n                // unsynchronized local profile that has the same name as the remote profile\n                const localProf: SemesterStorage = JSON.parse(localStorage.getItem(name)!);\n                if (\n                    localProf.schedule.proposedSchedules.length > 1 ||\n                    (localProf.schedule.proposedSchedules.length === 1 &&\n                        (Object.keys(localProf.schedule.proposedSchedules[0].All).length > 0 ||\n                            localProf.schedule.proposedSchedules[0].events.length > 0))\n                ) {\n                    // if the local is nonempty\n                    // this case should rarely occur\n                    const localTime = new Date(localProf.modified).getTime();\n                    const remoteTime = new Date(remoteProf.modified).getTime();\n                    if (localTime <= remoteTime) {\n                        // remote is newer: overwrite local with remote and set remote to true\n                        localStorage.setItem(name, JSON.stringify(remoteProf));\n                        prof.remote = true;\n                        prof.versions = remoteVersions;\n                        prof.currentVersion = remoteVersions[0].version;\n\n                        needDownload.push(name);\n                    } else {\n                        if (\n                            confirm(\n                                `On the cloud (${backend.name}) there exists a profile called \"${name}\", but locally you have a non-synchronized profile of the same name and is newer. Do you want to turn on synchronization for this profile? If you turned on synchronization, a new version of \"${name}\" will be created on ${backend.name}. You will still be able to retrieve the original version on ${backend.name} by viewing the version history.`\n                            )\n                        ) {\n                            prof.remote = true;\n                            needUpload.push(name);\n                        }\n                    }\n                } else {\n                    // if local is empty, we overwrite the local with the remote\n                    localStorage.setItem(name, JSON.stringify(remoteProf));\n                    prof.versions = remoteVersions;\n                    prof.currentVersion = remoteVersions[0].version;\n                    prof.remote = true;\n\n                    needDownload.push(name);\n                }\n            } else {\n                // this remote profile is not present locally. Download it.\n                localStorage.setItem(name, JSON.stringify(remoteProf));\n                this.profiles.push({\n                    name,\n                    remote: true,\n                    versions: remoteVersions,\n                    currentVersion: remoteVersions[0].version\n                });\n\n                needDownload.push(name);\n            }\n        }\n\n        const msg = await this.uploadProfile(\n            needUpload.map(p => ({\n                name: p,\n                profile: localStorage.getItem(p)!\n            }))\n        );\n        if (msg) return msg;\n\n        return {\n            msg: `Successfully synchronized your profiles with Hoosmyprofessor. Uploaded ${needUpload.join(\n                ', '\n            ) || 'none'}, downloaded ${needDownload.join(', ') || 'none'}.`,\n            level: 'success'\n        };\n    }\n\n    logout() {\n        localStorage.removeItem('token_type');\n        localStorage.removeItem('access_token');\n        this.tokenType = '';\n        this.accessToken = '';\n    }\n}\n\nexport default new Profile();\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport ScheduleEvaluator from '../algorithm/ScheduleEvaluator';\nimport { saveStatus, StoreModule } from '.';\nimport ProposedSchedule from '../models/ProposedSchedule';\nimport Schedule, { ScheduleJSON } from '../models/Schedule';\nimport noti from './notification';\n\ninterface ScheduleStateBase {\n    /**\n     * the index of the current schedule in the scheduleEvaluator.schedules array,\n     * only applicable when generated=true\n     */\n    currentScheduleIndex: number;\n    /**\n     * the index of the active proposed\n     */\n    proposedScheduleIndex: number;\n    /**\n     * The index of the proposed schedule corresponding to the generated schedules contained in\n     * `window.scheduleEvaluator`\n     */\n    cpIndex: number;\n    /**\n     * indicates whether the currently showing schedule is the generated schedule\n     */\n    generated: boolean;\n    /**\n     * the array of proposed schedules\n     */\n    proposedSchedules: object[];\n}\n\nexport interface ScheduleState extends ScheduleStateBase {\n    proposedSchedules: ProposedSchedule[];\n    /**\n     * currently rendered schedule\n     */\n    currentSchedule: Schedule;\n    /**\n     * total number of generated schedules, has the same value as\n     * `window.scheduleEvaluator.size()`\n     */\n    numGenerated: number;\n}\n\nexport interface ScheduleStateJSON extends ScheduleStateBase {\n    proposedSchedules: ScheduleJSON[];\n}\n\n// eslint-disable-next-line\nexport interface ScheduleStore extends ScheduleState { }\n\n/**\n * the schedule module provides methods to manipulate schedules\n * @author Hanzhi Zhou\n */\nexport class ScheduleStore implements StoreModule<ScheduleState, ScheduleStateJSON> {\n    public static compressJSON(obj: ScheduleStateJSON) {\n        return [\n            obj.currentScheduleIndex,\n            obj.proposedScheduleIndex,\n            obj.cpIndex,\n            +obj.generated,\n            obj.proposedSchedules.map(s => Schedule.compressJSON(s))\n        ] as const;\n    }\n\n    public static decompressJSON(\n        obj: ReturnType<typeof ScheduleStore.compressJSON>\n    ): ScheduleStateJSON {\n        return {\n            currentScheduleIndex: obj[0],\n            proposedScheduleIndex: obj[1],\n            cpIndex: obj[2],\n            generated: Boolean(obj[3]),\n            proposedSchedules: obj[4].map(s => Schedule.decompressJSON(s))\n        };\n    }\n\n    constructor() {\n        Object.assign(this, this.getDefault());\n    }\n    /**\n     * the proposed schedule that is currently active\n     */\n    get proposedSchedule() {\n        return this.proposedSchedules[this.proposedScheduleIndex];\n    }\n    /**\n     * switch to next or previous proposed schedule. has bound checking.\n     */\n    switchProposed(index: number) {\n        if (index < this.proposedSchedules.length && index >= 0) {\n            this.proposedScheduleIndex = index;\n            this.switchSchedule(false);\n            saveStatus();\n        }\n    }\n    /**\n     * create a new empty schedule at the end of the proposedSchedules array and immediately switch to it\n     */\n    newProposed() {\n        this.proposedSchedules.push(new ProposedSchedule());\n        this.switchProposed(this.proposedSchedules.length - 1);\n        saveStatus();\n    }\n    /**\n     * copy the current schedule and append to the `proposedSchedules` array.\n     * Immediately switch to the newly copied schedule.\n     */\n    copyCurrent() {\n        const len = this.proposedSchedules.length;\n        if (this.currentSchedule instanceof ProposedSchedule) {\n            this.proposedSchedules.push(this.proposedSchedule.copy());\n        } else {\n            const p = new ProposedSchedule(this.currentSchedule.All, this.currentSchedule.events);\n            this.proposedSchedules.push(p);\n        }\n        this.switchProposed(len);\n        saveStatus();\n    }\n    /**\n     * delete the current proposed schedule, switch to the schedule after the deleted schedule.\n     * do nothing if this is the last proposed schedule\n     */\n    deleteProposed() {\n        if (this.proposedSchedules.length === 1) return;\n        const idx = this.proposedScheduleIndex;\n\n        if (!confirm(`Are you sure to delete schedule ${idx + 1}?`)) return;\n\n        // if the schedule to be deleted corresponds to generated schedules,\n        // this deletion invalidates the generated schedules immediately.\n        if (idx === this.cpIndex) {\n            window.scheduleEvaluator = new ScheduleEvaluator();\n            this.numGenerated = 0;\n            this.cpIndex = -1;\n        }\n        this.proposedSchedules.splice(idx, 1);\n        if (idx >= this.proposedSchedules.length) {\n            this.switchProposed(idx - 1);\n        } else {\n            this.switchProposed(idx);\n        }\n        saveStatus();\n    }\n    /**\n     * @param generated\n     * if **true**, try to switch to generated schedules if the following conditions are met,\n     * - generated schedules exist ([[ScheduleEvaluator]] is not empty), and\n     * - generated schedules correspond to the current schedule\n     *\n     * switch to current proposed schedule if **false**\n     */\n    switchSchedule(generated: boolean) {\n        if (generated) {\n            if (this.cpIndex === this.proposedScheduleIndex && this.numGenerated) {\n                this.generated = true;\n                this.switchPage(this.currentScheduleIndex);\n            }\n        } else {\n            this.generated = false;\n            this.currentSchedule = this.proposedSchedule;\n        }\n        saveStatus();\n    }\n\n    /**\n     * Switch to `idx` page\n     * assign `currentSchedule` with the generated schedule at index `idx`\n     * @param idx\n     */\n    switchPage(idx: number) {\n        if (this.numGenerated <= 0) return;\n        if (idx < 0) {\n            this.currentScheduleIndex = 0;\n        } else if (idx >= this.numGenerated) {\n            this.currentScheduleIndex = this.numGenerated - 1;\n        } else {\n            this.currentScheduleIndex = idx;\n        }\n        this.currentSchedule = window.scheduleEvaluator.getSchedule(this.currentScheduleIndex);\n        saveStatus();\n    }\n\n    /**\n     * clear the currently active schedules and its corresponding generated schedules, if applicable\n     */\n    clear() {\n        this.proposedSchedule.clean();\n        if (this.cpIndex === this.proposedScheduleIndex) {\n            this.cpIndex = -1;\n            window.scheduleEvaluator = new ScheduleEvaluator();\n            this.numGenerated = 0;\n        }\n        this.switchSchedule(false);\n        saveStatus();\n    }\n\n    /**\n     * recompute all of the proposed schedules. meaning of params see [[Schedule.computeSchedule]]\n     * @param sync\n     * @param time\n     */\n    recomputeAll(sync = true, time = 10) {\n        if (this.currentSchedule !== this.proposedSchedule) {\n            this.currentSchedule.constructDateSeparator();\n            this.currentSchedule.computeSchedule(sync, time);\n        }\n        this.proposedSchedules.forEach(s => {\n            s.constructDateSeparator();\n            s.computeSchedule(sync, time);\n        });\n    }\n\n    /**\n     * @note the schedules parsed from JSON are **not** computed (i.e. the `computeSchedule` method is not called)\n     * @note the `currentSchedule` is not assigned.\n     * @param obj\n     */\n    fromJSON(obj: Partial<ScheduleStateJSON>) {\n        const defaultState = this.getDefault();\n\n        const proposed = obj.proposedSchedules;\n        if (proposed instanceof Array) {\n            this.proposedSchedules = proposed.map(x => {\n                const result = ProposedSchedule.fromJSON(x);\n                const temp = result.payload;\n                if (temp) {\n                    if (result.level === 'warn') noti.notify(result);\n                    return temp;\n                } else return new ProposedSchedule();\n            });\n        } else {\n            this.proposedSchedules = defaultState.proposedSchedules;\n        }\n\n        this.currentScheduleIndex =\n            typeof obj.currentScheduleIndex === 'number'\n                ? obj.currentScheduleIndex\n                : defaultState.currentScheduleIndex;\n\n        this.proposedScheduleIndex =\n            typeof obj.proposedScheduleIndex === 'number'\n                ? obj.proposedScheduleIndex\n                : defaultState.proposedScheduleIndex;\n\n        this.cpIndex = typeof obj.cpIndex === 'number' ? obj.cpIndex : defaultState.cpIndex;\n        this.generated =\n            typeof obj.generated === 'boolean' ? obj.generated : defaultState.generated;\n\n        this.numGenerated = 0;\n        saveStatus();\n    }\n\n    toJSON() {\n        // exclude numGenerated and currentSchedule\n        // eslint-disable-next-line\n        const { numGenerated, currentSchedule, ...others } = this;\n        return (others as any) as ScheduleStateJSON;\n    }\n\n    getDefault(): ScheduleState {\n        const currentSchedule = new ProposedSchedule();\n        return {\n            currentScheduleIndex: 0,\n            currentSchedule,\n            proposedSchedules: [currentSchedule],\n            proposedScheduleIndex: 0,\n            cpIndex: -1,\n            generated: false,\n            numGenerated: 0\n        };\n    }\n}\n\nexport default new ScheduleStore();\n","/**\n * @module src/data\n * @author Hanzhi Zhou\n */\n\n/**\n *\n */\nimport { NotiMsg } from '../store/notification';\nimport { cancelablePromise, CancelablePromise, errToStr, timeout } from '../utils';\nimport Expirable from './Expirable';\n\ninterface LoaderOptions<T, T_JSON extends Expirable> {\n    /**\n     * the expiration time of this T_JSON\n     */\n    expireTime?: number;\n    /**\n     * The parser that turns the string (or null if key does not exist)\n     * stored in local storage into T_JSON or null\n     */\n    parse?: (x: string | null) => T_JSON | null;\n    /**\n     * the function to store x in localStorage\n     */\n    store?: (x: T) => T;\n    /**\n     * The validator that checks whether the return value of the parser is a valid T_JSON object\n     */\n    validator?: (x: T_JSON | null) => x is T_JSON;\n    /**\n     * whether this is a forced update. If true, request the data from remote with no regard to local data\n     */\n    force?: boolean;\n}\n\ninterface FallbackOptions {\n    /**\n     * the warning message to return when data expired and we failed to request new data from remote.\n     * It takes the stringified exception as the parameter\n     */\n    warnMsg?: (err: string) => string;\n    /**\n     * the error message to return when there is no local data and we failed to request data from remote\n     * It takes the stringified exception as the parameter\n     */\n    errMsg?: (err: string) => string;\n    /**\n     * the success message shown when data is loaded successfully\n     */\n    succMsg?: string;\n    /**\n     * the timeout in millisecond for requesting data from remote.\n     * A timeout error with appropriate error message will be thrown for\n     * response that does not return within this time interval\n     */\n    timeoutTime?: number;\n}\n\n/**\n * The template function that helps to load data from cache/remote\n *\n * Example usage:\n * @see [[loadTimeMatrix]],[[loadBuildingSearcher]],[[loadSemesterList]],[[loadSemesterData]]\n *\n * @typeparam T the type of the object to construct\n * @typeparam T_JSON the JSON-serializable representation of the object T\n * @param key the key in the localStorage\n * @param request the async function used to request data from remote, if local data expires or does not exist\n * @param construct function to construct the actual object T from its JSON-serializable representation T_JSON\n */\nexport function loadFromCache<T, T_JSON extends Expirable>(\n    key: string,\n    request: () => Promise<T>,\n    construct: (x: T_JSON) => T,\n    {\n        expireTime = Infinity,\n        parse = x => (x ? JSON.parse(x) : null),\n        store = x => {\n            localStorage.setItem(\n                key,\n                JSON.stringify({\n                    modified: new Date(),\n                    [key]: x\n                })\n            );\n            return x;\n        },\n        validator = defaultValidator,\n        force = false\n    }: LoaderOptions<T, T_JSON>\n): { new: CancelablePromise<T>; old?: T } {\n    const storage = localStorage.getItem(key);\n    const data = parse(storage);\n    if (validator(data)) {\n        // if expired, request data from remote\n        if (new Date().getTime() - new Date(data.modified).getTime() > expireTime || force) {\n            const newData = cancelablePromise(request().then(store));\n            try {\n                return {\n                    new: newData,\n                    old: construct(data)\n                };\n            } catch (err) {\n                console.error(err);\n                return {\n                    new: newData\n                };\n            }\n        } else {\n            return {\n                new: cancelablePromise(Promise.resolve(construct(data)))\n            };\n        }\n        // data invalid or does not exist\n    } else {\n        return {\n            new: cancelablePromise(request().then(store))\n        };\n    }\n}\n\n/**\n * Await the promise on temp.new (represents a pending request to load new data) to resolve. If timed out, return the old data on temp.old.\n * @returns the payload with an appropriate message\n * @param temp\n */\nexport async function fallback<T, P extends Promise<T>>(\n    temp: { new: P; old?: T },\n    { succMsg = '', warnMsg = x => x, errMsg = x => x, timeoutTime = 5000 }: FallbackOptions = {}\n): Promise<NotiMsg<T>> {\n    try {\n        const payload = await timeout(temp.new, timeoutTime);\n        return {\n            payload,\n            msg: succMsg,\n            level: 'success'\n        };\n    } catch (err_2) {\n        return temp.old\n            ? {\n                  payload: temp.old,\n                  msg: warnMsg(errToStr(err_2)),\n                  level: 'warn'\n              }\n            : {\n                  msg: errMsg(errToStr(err_2)),\n                  level: 'error'\n              };\n    }\n}\n\nfunction defaultValidator<T_JSON extends Expirable>(x: T_JSON | null): x is T_JSON {\n    return !!x && !!x.modified;\n}\n","/**\n * @module src/data\n * @author Hanzhi Zhou\n * Script for loading and parsing the list of semesters from Lou's list\n */\n\n/**\n *\n */\nimport { SemesterJSON } from '../models/Catalog';\nimport Expirable from './Expirable';\nimport { fallback, loadFromCache } from './Loader';\nimport { dataend, semesterListExpirationTime } from '@/config';\n\ninterface SemesterListJSON extends Expirable {\n    semesters: SemesterJSON[];\n}\n\n/**\n * Try to load semester list from localStorage. If it expires or does not exist,\n * load a fresh semester list from Lou's list and store it in localStorage.\n *\n * storage key: \"semesters\"\n */\nexport function loadSemesterList(count = 10) {\n    // load the cached list of semesters, if it exists\n    return fallback(\n        loadFromCache<SemesterJSON[], SemesterListJSON>(\n            'semesters',\n            () => dataend.semesters(count),\n            x => x.semesters,\n            {\n                expireTime: semesterListExpirationTime,\n                validator(x): x is SemesterListJSON {\n                    return !!x && !!x.modified && !!x.semesters;\n                }\n            }\n        ),\n        {\n            succMsg: 'Semester list loaded',\n            errMsg: x => `Failed to fetch semester list: ${x}`,\n            warnMsg: x => `Failed to fetch semester list: ${x}. Old data is used`,\n            timeoutTime: 10000\n        }\n    );\n}\n","/**\n * The module responsible for loading data required by plannable, including but not limited to semester list, semester course data, building data, etc.\n * @preferred\n * @module src/data\n */\n\n/**\n *\n */\nimport { SemesterJSON } from '@/models/Catalog';\nimport { CourseFields } from '@/models/Course';\nimport Dexie from 'dexie';\nimport { SectionFields } from '../models/Section';\n\nexport interface CourseTableItem extends CourseFields {\n    ids: number[];\n}\n// no back ref in db\nexport type SectionTableItem = Omit<SectionFields, 'course'>;\n\nexport default class CatalogDB extends Dexie {\n    courses: Dexie.Table<CourseTableItem, string>;\n    sections: Dexie.Table<SectionTableItem, number>;\n    meta: Dexie.Table<{ time: number; id: 0 }, 0>;\n\n    constructor(semester: SemesterJSON) {\n        super(`db_${semester.id}`);\n        this.version(1).stores({\n            courses: 'key',\n            sections: 'id',\n            meta: 'id'\n        });\n        this.courses = this.table('courses');\n        this.sections = this.table('sections');\n        this.meta = this.table('meta');\n    }\n\n    async empty() {\n        const [a, b] = await Promise.all([this.courses.count(), this.sections.count()]);\n        return a === 0 || b === 0;\n    }\n\n    async timestamp() {\n        return (await this.meta.get(0))!.time;\n    }\n\n    async saveTimeStamp() {\n        await this.meta.put({ id: 0, time: Date.now() });\n    }\n}\n","/**\n * @module src/data\n * @author Hanzhi Zhou, Kaiying Shan\n * Script for loading the catalog for a given semester\n */\n\n/**\n *\n */\nimport CatalogDB, { SectionTableItem } from '@/data/CatalogDB';\nimport Section from '@/models/Section';\nimport Catalog, { SemesterJSON } from '../models/Catalog';\n\nimport Course from '@/models/Course';\nimport { cancelablePromise, CancelablePromise } from '../utils';\nimport { dataend, semesterDataExpirationTime } from '@/config';\n\n/**\n * Try to load semester data from `localStorage`. If data expires/does not exist, fetch a fresh\n * set of data from Lou's list and save to `localStorage`.\n *\n * storage key: 1198data\n *\n * @param semester the semester to load data\n * @param force force update\n */\n\nexport async function loadSemesterData(\n    semester: SemesterJSON,\n    force = false\n): Promise<{\n    new: CancelablePromise<Catalog>;\n    old?: Catalog;\n}> {\n    const db = new CatalogDB(semester);\n    if (!(await db.empty())) {\n        const time = await db.timestamp();\n        if (force || Date.now() - time > semesterDataExpirationTime) {\n            // send the request first, then fetch the local data\n            const newData = cancelablePromise(\n                dataend.courses(semester).then(catalog => saveToDB(catalog, db))\n            );\n            return {\n                new: newData,\n                old: new Catalog(semester, await retrieveFromDB(db), time)\n            };\n        } else {\n            return {\n                new: cancelablePromise(\n                    retrieveFromDB(db).then(data => new Catalog(semester, data, time))\n                )\n            };\n        }\n    } else {\n        return {\n            new: cancelablePromise(dataend.courses(semester).then(catalog => saveToDB(catalog, db)))\n        };\n    }\n}\n\nfunction saveToDB(catalog: Catalog, db: CatalogDB) {\n    Promise.all([db.courses.clear(), db.sections.clear()])\n        .then(() => {\n            console.time('save to db');\n            return Promise.all([\n                db.courses.bulkAdd(catalog.courses as any),\n                db.sections.bulkAdd(catalog.sections as any)\n            ]);\n        })\n        .then(() => {\n            db.saveTimeStamp();\n            console.timeEnd('save to db');\n        });\n    return catalog;\n}\n\nasync function retrieveFromDB(db: CatalogDB) {\n    const courseDict: { [x: string]: Course } = {};\n\n    console.time('get courses from db');\n    const [courses, secMap] = await Promise.all([\n        db.courses.toArray(),\n        db.sections.toArray(arr => {\n            const map = new Map<number, SectionTableItem>();\n            for (const item of arr) map.set(item.id, item);\n            return map;\n        })\n    ]);\n    console.timeEnd('get courses from db');\n\n    console.time('parse db results');\n    const allSections: Section[] = [];\n    for (const rawCourse of courses) {\n        const sections: Section[] = [];\n\n        // note: setPrototypeOf is much faster than Object.getPropertyDescriptors\n        // followed by modifying descriptors (make things non-writable, etc.) followed by Object.create.\n        // The trade-off is that the fields of the courses/sections are not write-protected.\n        // They are protected by the TypeScript compiler, however, as they are declared readonly\n        const course: Course = Object.setPrototypeOf(rawCourse, Course.prototype);\n        Object.defineProperty(course, 'sections', {\n            value: sections // non enumerable\n        });\n        for (const id of rawCourse.ids) {\n            const sec = secMap.get(id);\n            if (!sec) continue;\n\n            const section: Section = Object.setPrototypeOf(sec, Section.prototype);\n            Object.defineProperty(section, 'course', {\n                value: course // non enumerable\n            });\n            sections.push(section);\n            allSections.push(section);\n        }\n        courseDict[rawCourse.key] = course;\n    }\n    console.timeEnd('parse db results');\n    return [courseDict, Object.values(courseDict), allSections] as const;\n}\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport { fallback } from '@/data/Loader';\nimport { loadSemesterList } from '@/data/SemesterListLoader';\nimport { CancelablePromise } from '@/utils';\nimport { loadSemesterData } from '../data/CatalogLoader';\nimport Catalog, { SemesterJSON } from '../models/Catalog';\n\nexport interface SemesterState {\n    [x: string]: any;\n    semesters: SemesterJSON[];\n    currentSemester: SemesterJSON | null;\n    lastUpdate: string;\n}\n\n/**\n * the semester module handles semester switching and data retrieval\n * @author Hanzhi Zhou\n */\nclass Semesters implements SemesterState {\n    semesters: SemesterJSON[] = [];\n    currentSemester: SemesterJSON | null = null;\n    lastUpdate = '';\n    pendingPromise: CancelablePromise<Catalog> | null = null;\n\n    /**\n     * load the list of semesters\n     */\n    async loadSemesters() {\n        const result = await loadSemesterList();\n        const semesters = result.payload;\n        if (semesters) {\n            this.semesters = semesters;\n        } else {\n            this.semesters = [];\n        }\n\n        return result;\n    }\n\n    /**\n     * cancel the pendingPromise\n     */\n    cancel() {\n        const p = this.pendingPromise;\n        if (p) p.cancel('Canceled');\n    }\n\n    /**\n     * DO NOT call this method. call [[Store.selectSemester]] instead.\n     */\n    async selectSemester(currentSemester: SemesterJSON, force = false) {\n        const temp = await loadSemesterData(currentSemester, force);\n\n        // allow one to cancel the pending promise if old data exists\n        if (temp.old) this.pendingPromise = temp.new;\n\n        const { name } = currentSemester;\n        const result = await fallback(temp, {\n            errMsg: x => `Failed to fetch ${name} data: ${x}`,\n            warnMsg: x => `Failed to fetch ${name} data: ${x}. Old data is used`,\n            succMsg: `Successfully loaded ${name} data!`,\n            timeoutTime: 1500000\n        });\n        //  if the a catalog object is returned\n        if (result.payload) {\n            window.catalog = result.payload;\n            this.currentSemester = currentSemester;\n            this.lastUpdate = new Date(window.catalog.modified).toLocaleString();\n        } else {\n            this.currentSemester = null;\n            this.lastUpdate = '';\n        }\n        this.pendingPromise = null;\n        return result;\n    }\n}\n\nexport default new Semesters();\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport Event from '../models/Event';\n\ninterface Sidebars {\n    showSelectClass: boolean;\n    showEvent: boolean;\n    showFilter: boolean;\n    showSetting: boolean;\n    showExport: boolean;\n    showSelectColor: boolean;\n    showInfo: boolean;\n    showExternal: boolean;\n    showCompare: boolean;\n    showLog: boolean;\n    showFuzzy: boolean;\n}\n\ninterface SidebarStatus extends Sidebars {\n    [key: string]: boolean;\n}\n\n/**\n * the status module stores the temporary statuses of the webpage. We do not save these statuses to localStorage\n * @author Hanzhi Zhou, Zichao Hu\n */\nclass Status {\n    get sideBarActive() {\n        for (const key in this.sideBar) {\n            if (this.sideBar[key]) return true;\n        }\n        return false;\n    }\n    /**\n     * **sidebar display status**\n     * show the specific sidebar when true, and hide when all false\n     */\n    sideBar: SidebarStatus = {\n        showSelectClass: window.screen.width / window.screen.height > 1 ? true : false,\n        showFuzzy: false,\n        showEvent: false,\n        showFilter: false,\n        showSetting: false,\n        showExport: false,\n        showSelectColor: false,\n        showInfo: false,\n        showExternal: false,\n        showLog: false,\n        showCompare: false\n    };\n\n    /**\n     * indicates whether some IO action is running in the background, such as semester data update\n     *\n     * no need to assign to this value when doing computationally expensive operations\n     */\n    loading = false;\n    /**\n     * the event to edit\n     */\n    eventToEdit: Event | null = null;\n\n    isMobile = window.screen.width < 600;\n    /**\n     * fold sidebar if on mobile\n     */\n    foldView() {\n        if (this.isMobile) this.foldAllSideBar();\n    }\n\n    switchSideBar(key: keyof Sidebars) {\n        for (const other in this.sideBar) {\n            if (other !== key) this.sideBar[other] = false;\n        }\n        this.sideBar[key] = !this.sideBar[key];\n    }\n\n    foldAllSideBar() {\n        for (const bar in this.sideBar) {\n            this.sideBar[bar] = false;\n        }\n    }\n}\n\nexport default new Status();\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport lz from 'lz-string';\n\nimport Expirable from '@/data/Expirable';\nimport { Component, Vue } from 'vue-property-decorator';\nimport ScheduleEvaluator, { EvaluatorOptions } from '../algorithm/ScheduleEvaluator';\nimport ScheduleGenerator, { GeneratorOptions } from '../algorithm/ScheduleGenerator';\nimport { SemesterJSON } from '../models/Catalog';\nimport { CourseStatus } from '../config';\nimport Schedule, { ScheduleJSON } from '../models/Schedule';\nimport display, { Display, DisplayState } from './display';\nimport filter, { FilterStateJSON, FilterStore, TimeSlot } from './filter';\nimport modal from './modal';\nimport noti from './notification';\nimport palette, { Palette, PaletteState } from './palette';\nimport profile from './profile';\nimport schedule, { ScheduleStateJSON, ScheduleStore } from './schedule';\nimport semester, { SemesterState } from './semester';\nimport status from './status';\nimport colorSchemes from '@/data/ColorSchemes';\nimport GeneratedSchedule from '@/models/GeneratedSchedule';\n\n/**\n * the latest storage format of plannable\n */\nexport interface SemesterStorage extends Expirable {\n    name: string;\n    currentSemester: SemesterJSON;\n    display: DisplayState;\n    filter: FilterStateJSON;\n    schedule: ScheduleStateJSON;\n    palette: PaletteState;\n}\n\ninterface LegacyScheduleJSON extends ScheduleJSON {\n    savedColors: { [x: string]: string };\n}\n\n/**\n * the storage format prior to v4.5\n */\ninterface LegacyStorage {\n    currentSemester: SemesterJSON;\n    currentScheduleIndex: number;\n    proposedScheduleIndex: number;\n    cpIndex: number;\n    currentSchedule: LegacyScheduleJSON;\n    proposedSchedules: LegacyScheduleJSON[];\n\n    display: DisplayState;\n\n    timeSlots: TimeSlot[];\n    allowWaitlist: boolean;\n    allowClosed: boolean;\n    sortOptions: EvaluatorOptions;\n}\n\n/**\n * the storage format prior to v3.0\n */\ninterface AncientStorage extends DisplayState {\n    currentSemester: SemesterJSON;\n    currentScheduleIndex: number;\n    currentSchedule: LegacyScheduleJSON;\n    proposedSchedule: LegacyScheduleJSON;\n\n    timeSlots: TimeSlot[];\n    allowWaitlist: boolean;\n    allowClosed: boolean;\n    sortOptions: EvaluatorOptions;\n}\n\ninterface StorageItem<State, JSONState> {\n    /**\n     * a method to obtain the default state\n     */\n    getDefault(): State;\n    /**\n     * serialize `this` (the store module) to its JSON representation\n     */\n    toJSON(this: StoreModule<State, JSONState>): JSONState;\n    /**\n     * recover the state from its JSON representation\n     *\n     * An object that has all or some properties of the `JSONState` will be passed as a parameter.\n     * The missing properties will be assigned with the value returned by the `getDefault` method.\n     */\n    fromJSON(obj: Partial<JSONState>): void;\n}\n\n/**\n * A Store Module must have\n * @typeparam State\n * @typeparam JSONState the JSON representation of its state\n *\n * and the three methods defined by [[StorageItem]]\n */\nexport type StoreModule<State, JSONState> = State & StorageItem<State, JSONState>;\n\nfunction isAncient(parsed: any): parsed is AncientStorage {\n    return !!parsed.currentSchedule && !!parsed.proposedSchedule;\n}\n\nfunction isLegacy(parsed: any): parsed is LegacyStorage {\n    return !!parsed.currentSchedule && !!parsed.proposedSchedules;\n}\n\nlet pendingStatusSave = 0;\n\n/**\n * save all store modules to localStorage\n * @note this function needs to be separated from the [[Store]] class because it is used in the [[schedule]] sub-module,\n * and the [[schedule]] sub-module does not have access to the [[Store]] class\n */\nexport function saveStatus() {\n    if (pendingStatusSave !== -1) {\n        window.clearTimeout(pendingStatusSave);\n        console.log('cancelled pending status save');\n    }\n    pendingStatusSave = window.setTimeout(_saveStatus, 100);\n}\n\nfunction _saveStatus() {\n    const { currentSemester } = semester;\n    if (!currentSemester) return;\n    const name = profile.current;\n    const idx = profile.profiles.findIndex(p => p.name === name);\n    if (profile.tokenType && profile.profiles[idx].remote) {\n        if (idx !== -1 && !profile.isLatest(idx)) {\n            console.log(\n                'Uploading & saving of',\n                name,\n                'aborted due to checking out historical versions'\n            );\n            return;\n        }\n    }\n\n    const obj: SemesterStorage = {\n        name,\n        modified: new Date().toJSON(),\n        currentSemester,\n        display,\n        filter: filter.toJSON(),\n        schedule: schedule.toJSON(),\n        palette\n    };\n\n    const str = JSON.stringify(obj);\n    localStorage.setItem(name, str);\n\n    if (profile.tokenType && profile.profiles[idx].remote) {\n        profile.uploadProfile([{ name, profile: str }]).then(msg => {\n            if (msg) {\n                noti.notify(msg);\n            }\n        });\n    }\n\n    pendingStatusSave = -1;\n    console.log('status saved');\n}\n\ninterface CompareCandidate {\n    schedule: GeneratedSchedule;\n    profileName: string;\n    /**\n     * index of the generated schedule\n     */\n    index: number;\n    /**\n     * index of proposed schedule\n     */\n    pIdx: number;\n    color: string;\n}\n\nconst compare: CompareCandidate[] = [];\n/**\n * The Store module provides methods to save, retrieve and manipulate store.\n * It gathers all children modules and store their references in a single store class, which is provided as a Mixin\n * @noInheritDoc\n */\n@Component\nexport default class Store extends Vue {\n    filter = filter;\n    display = display;\n    status = status;\n    modal = modal;\n    schedule = schedule;\n    semester = semester;\n    palette = palette;\n    noti = noti;\n    profile = profile;\n    compare = compare;\n\n    /**\n     * save all store modules to localStorage\n     */\n    saveStatus() {\n        saveStatus();\n    }\n\n    /**\n     * given the profile name, switch to the profile's semester.\n     * recover all store modules' states from the localStorage,\n     * and assign a correct Catalog object to `window.catalog`,\n     * @param name\n     * @param force force update current semester data and load the given profile\n     */\n    async loadProfile(name?: string, force = false) {\n        if (!this.semester.semesters.length) {\n            this.noti.error('No semester data! Please refresh this page');\n            return;\n        }\n        if (!name) name = this.profile.current;\n\n        window.scheduleEvaluator = new ScheduleEvaluator();\n        let parsed: Partial<AncientStorage> | Partial<LegacyStorage> | Partial<SemesterState> = {};\n        const data = localStorage.getItem(name);\n        if (data) {\n            try {\n                parsed = JSON.parse(data);\n            } catch (e) {\n                console.error(e);\n            }\n        }\n\n        // do not re-select current semester if it is already selected and this is not a force-update\n        if (\n            parsed.currentSemester &&\n            this.semester.currentSemester &&\n            parsed.currentSemester.id === this.semester.currentSemester.id &&\n            !force\n        ) {\n            console.warn('Semester data loading aborted');\n        } else {\n            const msg = await this.semester.selectSemester(\n                parsed.currentSemester || this.semester.semesters[0],\n                force\n            );\n            this.noti.notify(msg);\n            if (!msg.payload) return;\n        }\n\n        if (isAncient(parsed)) {\n            const ancient: AncientStorage = parsed || {};\n            const oldStore: Partial<LegacyStorage> & AncientStorage = ancient;\n            oldStore.proposedScheduleIndex = 0;\n            oldStore.proposedSchedules = [oldStore.proposedSchedule];\n            this.display.fromJSON(oldStore);\n            this.filter.fromJSON(oldStore);\n            this.schedule.fromJSON(oldStore);\n            this.palette.fromJSON(oldStore.currentSchedule || { savedColors: {} });\n        } else if (isLegacy(parsed)) {\n            this.display.fromJSON(parsed.display || {});\n            this.filter.fromJSON(parsed);\n            this.schedule.fromJSON(parsed);\n            this.palette.fromJSON(parsed.currentSchedule || { savedColors: {} });\n        } else {\n            const newStore = parsed as SemesterStorage;\n            this.display.fromJSON(newStore.display || {});\n            this.filter.fromJSON(newStore.filter || {});\n            this.schedule.fromJSON(newStore.schedule || {});\n            this.palette.fromJSON(newStore.palette || {});\n        }\n        // update schedule global options\n        Schedule.colors = colorSchemes[this.display.colorScheme].colors;\n        Schedule.combineSections = this.display.combineSections;\n        Schedule.multiSelect = this.display.multiSelect;\n\n        if (this.schedule.generated) this.generateSchedules();\n        else this.schedule.switchSchedule(false);\n\n        this.schedule.recomputeAll(); // need to compute all schedules for rendering\n    }\n\n    /**\n     * @returns true if the current combination of sort options is valid, false otherwise\n     */\n    validateSortOptions() {\n        if (!Object.values(this.filter.sortOptions.sortBy).some(x => x.enabled)) {\n            this.noti.error('Filter: You must have at least one sort option!');\n            return false;\n        } else if (\n            Object.values(this.filter.sortOptions.sortBy).some(\n                x => x.name === 'distance' && x.enabled\n            ) &&\n            (!window.buildingSearcher || !window.timeMatrix)\n        ) {\n            this.noti.error(\n                'Filter: Building list fails to load. Please disable \"walking distance\"'\n            );\n            return false;\n        }\n        return true;\n    }\n\n    /**\n     * convert filter to generator options\n     */\n    getGeneratorOptions(): GeneratorOptions | void {\n        const filteredStatus: CourseStatus[] = [];\n        if (!this.filter.allowWaitlist) filteredStatus.push('Wait List');\n        if (!this.filter.allowClosed) filteredStatus.push('Closed');\n\n        const msg = this.filter.computeFilter();\n        const timeSlots = msg.payload;\n        if (!timeSlots) return this.noti.notify(msg);\n\n        if (!this.validateSortOptions()) return;\n\n        return {\n            timeSlots,\n            status: filteredStatus,\n            sortOptions: this.filter.sortOptions,\n            combineSections: this.display.combineSections,\n            maxNumSchedules: this.display.maxNumSchedules\n        };\n    }\n\n    generateSchedules() {\n        this.status.foldView();\n\n        if (this.schedule.proposedSchedule.empty())\n            return this.noti.warn(`There are no classes in your schedule!`) as undefined;\n        const options = this.getGeneratorOptions();\n        if (!options) return;\n\n        const generator = new ScheduleGenerator(window.catalog, window.timeMatrix, options);\n\n        console.time('schedule generation');\n        const msg = generator.getSchedules(\n            this.schedule.proposedSchedule,\n            true,\n            this.filter.refSchedule\n        );\n        console.timeEnd('schedule generation');\n\n        this.noti.notify(msg, 'info', 5, true);\n        const evaluator = msg.payload;\n        if (evaluator) {\n            window.scheduleEvaluator = evaluator;\n            this.schedule.numGenerated = evaluator.size;\n            this.schedule.cpIndex = this.schedule.proposedScheduleIndex;\n            this.schedule.switchSchedule(true);\n        } else {\n            window.scheduleEvaluator = new ScheduleEvaluator();\n            this.schedule.switchSchedule(false);\n            this.schedule.cpIndex = -1;\n            this.schedule.numGenerated = 0;\n        }\n        return evaluator;\n    }\n\n    /**\n     * Select a semester and fetch all its associated data,\n     * note that the first profile corresponding to the target semester will be loaded.\n     *\n     * @param target the semester to switch to\n     * @param force whether to force-update semester data\n     */\n    async selectSemester(target: SemesterJSON | null | undefined, force = false) {\n        if (!this.semester.semesters.length) {\n            this.noti.error('No semester data! Please refresh this page');\n            return;\n        }\n        this.status.loading = true;\n        if (!target) target = this.semester.semesters[0];\n\n        if (force) {\n            this.noti.info(`Updating ${target.name} data...`, 3600, true);\n            await this.loadProfile(this.profile.current, force);\n            this.status.loading = false;\n            return;\n        } else if (\n            this.semester.currentSemester &&\n            target.id === this.semester.currentSemester.id\n        ) {\n            this.status.loading = false;\n            return;\n        }\n\n        const { profiles } = this.profile;\n        let parsed: Partial<SemesterStorage> = {};\n        let parsedLatest = -Infinity;\n\n        // find the latest profile corresponding to the semester to be switched\n        for (const { name: profileName } of profiles) {\n            const data = localStorage.getItem(profileName);\n            if (data) {\n                const temp: Partial<SemesterStorage> = JSON.parse(data);\n                const { currentSemester, modified } = temp;\n                if (currentSemester && currentSemester.id === target.id) {\n                    if (modified) {\n                        const time = new Date(modified).getTime();\n                        if (time > parsedLatest) {\n                            parsed = temp;\n                            parsedLatest = time;\n                        }\n                    } else {\n                        if (!parsed.currentSemester) parsed = temp;\n                    }\n                }\n            }\n        }\n        // no profile for target semester exists. let's create one\n        if (!parsed.currentSemester) {\n            let { name } = target;\n            if (profiles.find(p => p.name === name)) {\n                if (\n                    !confirm(\n                        `You already have a profile named ${name}. However, it does not correspond to the ${name} semester. Click Ok to overwrite, click Cancel to keep both.`\n                    )\n                ) {\n                    let idx = 2;\n                    while (profiles.find(p => p.name === `${name} (${idx})`)) idx++;\n                    name = `${name} (${idx})`;\n                    profiles.push(profile.createProfile(name));\n                }\n            } else {\n                profiles.push(profile.createProfile(name));\n            }\n            parsed.currentSemester = target;\n            this.profile.current = parsed.name = name;\n            localStorage.setItem(name, JSON.stringify(parsed));\n        } else {\n            // load the existing profile\n            this.profile.current = parsed.name!;\n        }\n        await this.loadProfile();\n        this.status.loading = false;\n    }\n}\n\n/**\n * See [[parseFromURL]]\n * convert JSON string to tuple of tuples to reduce the num of chars\n * @author Zichao Hu\n * @param jsonString\n */\nexport function compressJSON(jsonString: string) {\n    const { name, modified, currentSemester, display, filter, schedule, palette } = JSON.parse(\n        jsonString\n    ) as SemesterStorage;\n\n    return [\n        name,\n        modified,\n        currentSemester.id,\n        currentSemester.name,\n        Display.compressJSON(display),\n        FilterStore.compressJSON(filter),\n        ScheduleStore.compressJSON(schedule),\n        Palette.compressJSON(palette)\n    ] as const;\n}\n\n/**\n * @author Zichao Hu, Hanzhi Zhou\n * @param config\n * @note JSON decompression requires the catalog of the semester to be pre-loaded,\n * because the reference schedule conversion in filter requires it\n */\nexport async function parseFromURL(config: string): Promise<SemesterStorage> {\n    // get URL and convert to JSON\n    const data: ReturnType<typeof compressJSON> = JSON.parse(\n        lz.decompressFromEncodedURIComponent(config.trim())!\n    );\n    const currentSemester = { id: data[2], name: data[3] };\n    await semester.selectSemester(currentSemester);\n    return {\n        name: data[0],\n        modified: data[1],\n        currentSemester,\n        display: Display.decompressJSON(data[4]),\n        filter: FilterStore.decompressJSON(data[5]),\n        schedule: ScheduleStore.decompressJSON(data[6]),\n        palette: Palette.decompressJSON(data[7])\n    };\n}\n","/**\n * @module src/store\n */\n\n/**\n *\n */\nimport colorSchemes from '@/data/ColorSchemes';\nimport Schedule from '@/models/Schedule';\nimport { Component, Watch } from 'vue-property-decorator';\nimport Store from './store';\n/**\n * the watch factory defines some watchers on the members in `Store`.\n * these watchers are defined outside of the `Store` class because they should only be registered once.\n * @author Hanzhi Zhou\n */\n@Component\nexport default class WatchFactory extends Store {\n    @Watch('status.loading')\n    loadingWatch() {\n        if (this.status.loading) {\n            if (this.noti.empty()) {\n                this.noti.info('Loading...');\n            }\n        } else {\n            if (this.noti.msg === 'Loading...') {\n                this.noti.clear();\n            }\n        }\n    }\n\n    @Watch('display.multiSelect')\n    private w0() {\n        Schedule.multiSelect = this.display.multiSelect;\n        this.schedule.recomputeAll(false, 100);\n    }\n\n    @Watch('display.combineSections')\n    private a() {\n        Schedule.combineSections = this.display.combineSections;\n        this.schedule.recomputeAll(false, 100);\n    }\n\n    @Watch('display.colorScheme')\n    private e() {\n        Schedule.colors = colorSchemes[this.display.colorScheme].colors;\n        this.schedule.recomputeAll(false, 100);\n    }\n\n    @Watch('palette.savedColors', { deep: true })\n    private b() {\n        Schedule.savedColors = this.palette.savedColors;\n        this.schedule.recomputeAll(false, 100);\n    }\n\n    @Watch('profile.current')\n    private c() {\n        localStorage.setItem('currentProfile', this.profile.current);\n    }\n\n    @Watch('profile.profiles', { deep: true })\n    private d() {\n        localStorage.setItem('profiles', JSON.stringify(this.profile.profiles));\n    }\n\n    // cannot watch schedules because it is too costly\n    // @Watch('schedule', { deep: true })\n    // private w1() {\n    //     this.saveStatus();\n    // }\n\n    @Watch('display', { deep: true })\n    private w2() {\n        this.saveStatus();\n    }\n\n    @Watch('filter', { deep: true })\n    private w3() {\n        this.saveStatus();\n    }\n\n    @Watch('palette', { deep: true })\n    private w4() {\n        this.saveStatus();\n    }\n}\n","/**\n * The Store module provides methods to save, retrieve and manipulate store.\n * It gathers all children modules and store their references in a single store class,\n * which is provided as a Mixin\n * @module src/store\n * @preferred\n */\n\n/**\n *\n */\nimport Store from './store';\nexport default Store;\nexport * from './store';\nimport WatchFactory from './watch';\n// just need to instantiate it\nwindow.watchers = new WatchFactory();\n","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport { Component } from 'vue-property-decorator';\nimport { ui as config, version } from '../config';\nimport Store from '../store';\n\n/**\n * the container for the notification and content right of the side bar\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class MainContent extends Store {\n    get scheduleWidth() {\n        return this.status.sideBarActive\n            ? 100 - config.sideBarWidth - config.tabBarWidth - config.sideMargin\n            : 100 - config.tabBarWidth - config.sideMargin;\n    }\n    get scheduleLeft() {\n        return this.status.sideBarActive\n            ? config.sideBarWidth + config.tabBarWidth + 1\n            : config.tabBarWidth;\n    }\n    get version() {\n        return version;\n    }\n}\n","var render, staticRenderFns\nimport script from \"./Expand.vue?vue&type=script&lang=js&\"\nexport * from \"./Expand.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Expand.vue?vue&type=style&index=0&id=e47a4968&scoped=true&lang=css&\"\nimport style1 from \"./Expand.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e47a4968\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./MainContent.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./MainContent.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MainContent.vue?vue&type=template&id=7b9bb0fd&scoped=true&\"\nimport script from \"./MainContent.ts?vue&type=script&lang=ts&\"\nexport * from \"./MainContent.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./MainContent.vue?vue&type=style&index=0&id=7b9bb0fd&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b9bb0fd\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"dropdown\"},[_c('button',{staticClass:\"btn btn-info nav-btn mt-0\",attrs:{\"id\":\"semester\",\"data-toggle\":\"dropdown\"}},[(_vm.semester.pendingPromise)?_c('i',{staticClass:\"fa fa-times click-icon mr-2\",staticStyle:{\"font-size\":\"16px\"},attrs:{\"title\":\"Cancel loading\"},on:{\"click\":function($event){return _vm.semester.cancel()}}}):_vm._e(),(_vm.status.loading || _vm.semester.pendingPromise)?_c('span',{staticClass:\"spinner-border mr-1\",staticStyle:{\"width\":\"1.2em\",\"height\":\"1.2em\",\"margin-bottom\":\"0.1em\"}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.semester.currentSemester ? _vm.semester.currentSemester.name : 'Select Semester')+\" \"),_c('i',{staticClass:\"fas fa-caret-down ml-2\",staticStyle:{\"font-size\":\"20px\"}})]),(_vm.semester.semesters.length)?_c('div',{staticClass:\"dropdown-menu w-100\"},_vm._l((_vm.semester.semesters),function(sem){return _c('a',{key:sem.id,staticClass:\"dropdown-item w-100\",on:{\"click\":function($event){return _vm.selectSemester(sem)}}},[_vm._v(_vm._s(sem.name)+\" \")])}),0):_vm._e()]),_c('div',{staticClass:\"input-group mt-2\",on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.dSelect(_vm.dPointer)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }return _vm.dropdownNext()},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }return _vm.dropdownPrev()}]}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"text\",\"placeholder\":\"Title/Number/Topic/Prof./Desc.\"},domProps:{\"value\":(_vm.query)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.closeClassList()},\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),(_vm.query === ':')?_c('div',{staticClass:\"dropdown-menu show\"},_vm._l((_vm.queryTypes),function(q,id){return _c('a',{key:q,class:(\"dropdown-item \" + (id === _vm.dPointer ? 'active' : '')),on:{\"click\":function($event){return _vm.dSelect(id)},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.dSelect(id)}}},[_vm._v(_vm._s(q))])}),0):_vm._e(),_c('div',{staticClass:\"input-group-append\"},[_c('span',{staticClass:\"input-group-text px-2\",class:{ 'click-icon': _vm.isEntering },on:{\"click\":_vm.closeClassList}},[(_vm.isEntering)?_c('i',{staticClass:\"fas fa-times\"}):_c('i',{staticClass:\"fas fa-search\"})])])]),(_vm.isEntering)?_c('ClassList',{ref:\"enteringClassList\",attrs:{\"courses\":_vm.inputCourses,\"matches\":_vm.inputMatches,\"schedule\":_vm.schedule.currentSchedule,\"is-entering\":_vm.isEntering,\"show-classlist-title\":_vm.display.showClasslistTitle,\"expand-on-entering\":_vm.display.expandOnEntering},on:{\"update-course\":_vm.updateCourse,\"course-modal\":function($event){return _vm.modal.showCourseModal($event.crs, $event.match)},\"close\":function($event){return _vm.closeClassList()}}}):_vm._e(),_c('button',{staticClass:\"btn btn-info nav-btn mt-2\",attrs:{\"title\":_vm.schedule.generated\n                ? 'Click to edit your schedule'\n                : 'Click to view generated schedules'},on:{\"click\":function($event){return _vm.schedule.switchSchedule(!_vm.schedule.generated)}}},[_vm._v(\" \"+_vm._s(_vm.schedule.generated ? (\"View Schedule: \" + (_vm.schedule.currentScheduleIndex + 1)) : 'Edit Classes')+\" \"),_c('i',{staticClass:\"fas fa-exchange-alt ml-4\",staticStyle:{\"font-size\":\"18px\"}})]),_c('div',{staticClass:\"row no-gutters mx-3 align-items-center justify-content-between\",staticStyle:{\"font-size\":\"24px\"}},[_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"fas fa-long-arrow-alt-left\",class:_vm.schedule.proposedScheduleIndex > 0 ? 'click-icon' : 'icon-disabled',attrs:{\"title\":\"previous schedule\"},on:{\"click\":function($event){return _vm.schedule.switchProposed(_vm.schedule.proposedScheduleIndex - 1)}}})]),_c('div',{staticClass:\"col-auto\",staticStyle:{\"font-size\":\"20px\"},attrs:{\"title\":\"the index of the current schedule\"}},[_vm._v(\" \"+_vm._s(_vm.schedule.proposedScheduleIndex + 1)+\" \")]),_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"fas fa-long-arrow-alt-right\",class:_vm.schedule.proposedScheduleIndex < _vm.schedule.proposedSchedules.length - 1\n                        ? 'click-icon'\n                        : 'icon-disabled',attrs:{\"title\":\"next schedule\"},on:{\"click\":function($event){return _vm.schedule.switchProposed(_vm.schedule.proposedScheduleIndex + 1)}}})]),_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"far fa-calendar-plus click-icon\",attrs:{\"title\":\"new schedule\"},on:{\"click\":function($event){return _vm.schedule.newProposed()}}})]),_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"far fa-copy click-icon\",attrs:{\"title\":\"copy the current schedule to a new schedule\"},on:{\"click\":function($event){return _vm.schedule.copyCurrent()}}})]),_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"far fa-calendar-times\",class:_vm.schedule.proposedSchedules.length > 1 ? 'click-icon' : 'icon-disabled',attrs:{\"title\":\"delete current schedule\"},on:{\"click\":function($event){return _vm.schedule.deleteProposed()}}})])]),_c('ClassList',{ref:\"selectedClassList\",attrs:{\"courses\":_vm.current.courses,\"schedule\":_vm.schedule.currentSchedule,\"show-any\":!_vm.schedule.generated,\"show-classlist-title\":_vm.display.showClasslistTitle},on:{\"update-course\":_vm.updateCourse,\"remove-course\":_vm.removeCourse,\"course-modal\":function($event){return _vm.modal.showCourseModal($event.crs, $event.match)}}}),_c('div',{staticClass:\"btn-group mt-3 w-100\"},[_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.generateClick()}}},[_vm._v(\" Generate \")]),_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"title\":\"Remove all classes from the current schedule\"},on:{\"click\":function($event){return _vm.schedule.clear()}}},[_vm._v(\" Clean \")])]),_c('div',{staticClass:\"custom-control custom-checkbox mt-2 mx-2\",attrs:{\"title\":\"render all selected sections (except for 'any section')\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.multiSelect),expression:\"display.multiSelect\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"multiSelect\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.multiSelect)?_vm._i(_vm.display.multiSelect,null)>-1:(_vm.display.multiSelect)},on:{\"change\":function($event){var $$a=_vm.display.multiSelect,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"multiSelect\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"multiSelect\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"multiSelect\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"multiSelect\"}},[_vm._v(\" Show Multiple Sections \")])]),_c('div',{staticClass:\"btn bg-info nav-btn mt-2\"},[_vm._v(\" Schedule Overview \")]),_c('ul',{staticClass:\"list-group list-group-flush\",staticStyle:{\"width\":\"99%\"}},[_c('li',{staticClass:\"list-group-item p-2\"},[_vm._v(\" Total Credits: \"+_vm._s(_vm.schedule.currentSchedule.totalCredit)+\" \"),(_vm.schedule.currentSchedule.totalCredit > 21)?_c('span',{staticClass:\"ml-2\",staticStyle:{\"font-size\":\"1.2rem\"},attrs:{\"title\":\"JUST DO IT\"}},[_vm._v(\"  \")]):_vm._e()]),_c('table',{staticClass:\"ml-2 mr-0 mt-2 mb-2\",attrs:{\"title\":\"You can use the 'add class by id' function of SIS to conveniently add classes to your SIS shopping cart\"}},[_vm._m(0),_vm._l((_vm.current.ids.length),function(idx){return _c('tr',{key:idx},[_c('td',[_vm._v(_vm._s(_vm.current.courses[idx - 1].displayName))]),_c('td',[_c('select',{staticClass:\"custom-select custom-select-sm py-0\"},_vm._l((_vm.current.ids[idx - 1]),function(id){return _c('option',{key:id},[_vm._v(_vm._s(id))])}),0)])])})],2)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Course Name\")]),_c('th',[_vm._v(\"ID\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-body p-1 w-100\",attrs:{\"tabindex\":\"-1\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$emit('close')}}},_vm._l((_vm.courses),function(crs,idx){return _c('div',{key:crs.key,staticClass:\"list-group list-group-flush w-100\",on:{\"mouseenter\":function($event){return _vm.schedule.hover(crs.key)},\"mouseleave\":function($event){return _vm.schedule.unhover(crs.key)}}},[_c('div',{staticClass:\"list-group-item py-1 px-0 w-100\"},[_c('div',{staticClass:\"row flex-nowrap no-gutters justify-content-between\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.collapse(crs.key)}}},[_c('div',{staticClass:\"col col-1 pl-1 align-self-center\"},[_c('i',{staticClass:\"fas click-icon\",class:_vm.expanded(crs.key) ? 'fa-chevron-down' : 'fa-chevron-right'})]),_c('div',{staticClass:\"col-xs-auto mr-auto align-self-center my-0\"},[_c('h6',{staticClass:\"mb-1\"},[(_vm.matches.length)?_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.highlightMatch(crs.displayName, 'key', _vm.matches[idx][0]))}}):_c('span',[_vm._v(_vm._s(crs.displayName))]),(_vm.schedule.isCourseEmpty(crs.key))?_c('span',{staticClass:\"ml-1 text-danger\",attrs:{\"title\":\"No sections are selected! You won't be able to generate schedules. If you want to remove this course, click x\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})]):_vm._e(),(_vm.schedule.isSomeTBD(crs.key))?_c('span',{staticClass:\"ml-1 text-warning\",attrs:{\"title\":\"All sections selected have invalid (e.g. TBA/TBD) meeting time. They will not appear on the schedule.\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})]):_vm._e()]),(_vm.showClasslistTitle || _vm.isEntering)?[(_vm.matches.length)?_c('p',{staticStyle:{\"font-size\":\"0.85rem\",\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.highlightMatch(crs.title, 'title', _vm.matches[idx][0]))}}):_c('p',{staticStyle:{\"font-size\":\"0.85rem\",\"margin\":\"0\"}},[_vm._v(\" \"+_vm._s(crs.title)+\" \")])]:_vm._e()],2),_c('div',{staticClass:\"col align-self-center\",class:{\n                        'text-center': _vm.showClasslistTitle,\n                        'text-right': !_vm.showClasslistTitle,\n                        'col-1': _vm.showClasslistTitle,\n                        'col-xs-auto': !_vm.showClasslistTitle\n                    }},[_c('i',{staticClass:\"fas fa-info-circle click-icon\",class:{ 'pr-2': !_vm.showClasslistTitle },attrs:{\"title\":\"View class description\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('course-modal', { crs: crs, match: _vm.matches[idx] })}}}),(_vm.showClasslistTitle)?_c('br'):_vm._e(),(!_vm.isEntering)?_c('i',{staticClass:\"fas fa-times click-icon\",class:{ 'pr-1': !_vm.showClasslistTitle },attrs:{\"title\":\"Remove this class and all its sections from your schedule\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('remove-course', crs.key)}}}):_vm._e()])])]),_c('Expand',[(_vm.expanded(crs.key))?_c('div',{staticClass:\"trans\"},[(_vm.showAny)?_c('div',{staticClass:\"row no-gutters flex-nowrap justify-content-between\",staticStyle:{\"font-size\":\"0.90rem\"}},[_c('div',{staticClass:\"col col-7\",staticStyle:{\"border-right\":\"thin solid #eeeeee\"},on:{\"click\":function($event){return _vm.select(crs.key, -1)}}},[_c('div',{staticClass:\"list-group-item list-group-item-action px-3\",class:{ active: _vm.schedule.isAnySection(crs.key) }},[_c('div',{staticClass:\"row no-gutters flex-nowrap justify-content-between\"},[_c('div',{staticClass:\"col-xs-auto mr-auto\"},[_vm._v(\"Any Section\")]),_c('div',{staticClass:\"col-xs-auto align-self-center\"},[(_vm.schedule.isAnySection(crs.key))?_c('i',{staticClass:\"far fa-check-square\"}):_c('i',{staticClass:\"far fa-square\"})])])])]),_c('div',{staticClass:\"col col-5\",on:{\"click\":function($event){_vm.schedule.ungroup(crs.key);\n                            _vm.updateGroup(crs.key);}}},[_c('div',{staticClass:\"list-group-item list-group-item-action pl-2 pr-3\",class:{ active: _vm.schedule.isGroup(crs.key) || _vm.group[crs.key] },attrs:{\"title\":\"Group selection mode: new feature of plannable v8.x. See Information for details.\"}},[_c('div',{staticClass:\"row no-gutters flex-nowrap justify-content-between\"},[_c('div',{staticClass:\"col-xs-auto mr-auto\"},[_vm._v(\"Groups\")]),_c('div',{staticClass:\"col-xs-auto align-self-center\"},[(_vm.schedule.isGroup(crs.key) || _vm.group[crs.key])?_c('i',{staticClass:\"far fa-check-square\"}):_c('i',{staticClass:\"far fa-square\"})])])])])]):_vm._e(),_vm._l((_vm.separatedCourses[crs.key]),function(value,key){return [(Object.keys(_vm.separatedCourses[crs.key]).length > 1)?_c('li',{key:key,staticClass:\"list-group-item list-group-item-action py-2 pl-3 pr-0\",attrs:{\"title\":\"click to select all sections in this time period\"},on:{\"click\":function($event){return _vm.selectAll(value.key, value)}}},[_c('div',{staticClass:\"row no-gutters justify-content-between\"},[_c('div',{staticClass:\"col-md-auto\"},[_c('strong',[_vm._v(_vm._s(key))])]),_c('div',{staticClass:\"col col-sm-1 align-self-center\"},[(_vm.allTimeSelected(crs.key, key))?_c('i',{staticClass:\"far fa-check-square\"}):_c('i',{staticClass:\"far fa-square\"})])])]):_vm._e(),_vm._l((value.sections),function(sec){return _c('div',{key:sec.id,staticClass:\"list-group-item list-group-item-action class-section\",class:{\n                            active: _vm.schedule.hasSection(crs.key, sec.id)\n                        },attrs:{\"title\":_vm.schedule.hasSection(crs.key, sec.id)\n                                ? 'click to unselect'\n                                : 'click to select'},on:{\"mouseenter\":function($event){return _vm.schedule.preview(sec)},\"mouseleave\":function($event){return _vm.schedule.removePreview()},\"click\":function($event){return _vm.select(crs.key, sec.id)}}},[_c('div',{staticClass:\"row no-gutters flex-nowrap justify-content-between\"},[_c('div',{staticClass:\"col col-8 mr-auto\"},[_c('ul',{staticClass:\"list-unstyled m-0\",staticStyle:{\"font-size\":\"0.75rem\"}},[_c('li',[_vm._v(\" Section \"+_vm._s(sec.section)+\" \"),(sec.valid)?_c('i',{staticClass:\"fas fa-exclamation-triangle\",class:sec.validMsg[0],attrs:{\"title\":sec.validMsg[1]}}):_vm._e()]),_c('li',[(_vm.matches.length)?_c('span',{domProps:{\"innerHTML\":_vm._s(\n                                                _vm.highlightMatch(\n                                                    sec.topic,\n                                                    'topic',\n                                                    _vm.matches[idx][1].get(sec.id)\n                                                )\n                                            )}}):_c('span',[_vm._v(\" \"+_vm._s(sec.topic))])]),_vm._l((sec.meetings),function(meeting){return _c('li',{key:meeting.days},[_vm._v(\" \"+_vm._s(meeting.days)+\" \")])}),(_vm.matches.length)?_c('li',{domProps:{\"innerHTML\":_vm._s(\n                                            _vm.highlightMatch(\n                                                sec.instructors.join(', '),\n                                                'instructors',\n                                                _vm.matches[idx][1].get(sec.id)\n                                            )\n                                        )}}):_c('li',[_vm._v(_vm._s(sec.instructors.join(', ')))])],2)]),_c('div',{staticClass:\"col col-sm-auto align-self-center\"},[_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.schedule.isGroup(crs.key) || _vm.group[crs.key]),expression:\"schedule.isGroup(crs.key) || group[crs.key]\"}],staticClass:\"form-control form-control-sm\",staticStyle:{\"width\":\"45px\"},attrs:{\"id\":crs.key + '-' + sec.id,\"type\":\"number\",\"disabled\":!_vm.schedule.hasSection(crs.key, sec.id),\"min\":\"0\",\"max\":\"8\"},domProps:{\"value\":_vm.schedule.getSectionGroup(crs.key, sec.id)},on:{\"change\":function($event){return _vm.select(crs.key, sec.id)},\"click\":function($event){$event.stopPropagation();}}})]),_c('div',{staticClass:\"col col-1 ml-3 mr-2 align-self-center\"},[(_vm.schedule.hasSection(crs.key, sec.id))?_c('i',{staticClass:\"far fa-check-square\"}):_c('i',{staticClass:\"far fa-square\"})])])])})]})],2):_vm._e()])],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n/**\n * @license MIT maoberlehner\n * @link https://github.com/maoberlehner/transition-to-height-auto-with-vue\n */\nexport default {\n    name: `Expand`,\n    functional: true,\n    render(createElement, context) {\n        const data = {\n            props: {\n                name: `expand`\n            },\n            on: {\n                afterEnter(element) {\n                    // eslint-disable-next-line no-param-reassign\n                    element.style.height = `auto`;\n                },\n                /**\n                 * @param {HTMLElement} element\n                 */\n                enter(element) {\n                    const { width } = getComputedStyle(element);\n                    /* eslint-disable no-param-reassign */\n                    element.style.width = width;\n                    element.style.position = `absolute`;\n                    element.style.visibility = `hidden`;\n                    element.style.height = `auto`;\n                    /* eslint-enable */\n                    const { height } = getComputedStyle(element);\n                    /* eslint-disable no-param-reassign */\n                    element.style.removeProperty('width');\n                    element.style.removeProperty('position');\n                    element.style.removeProperty('visibility');\n                    element.style.height = 0;\n                    /* eslint-enable */\n                    // Force repaint to make sure the\n                    // animation is triggered correctly.\n                    // eslint-disable-next-line no-unused-expressions\n\n                    getComputedStyle(element).height;\n                    setTimeout(() => {\n                        // eslint-disable-next-line no-param-reassign\n                        element.style.height = height;\n                    });\n                },\n                leave(element) {\n                    const { height } = getComputedStyle(element);\n                    // eslint-disable-next-line no-param-reassign\n                    element.style.height = height;\n                    // Force repaint to make sure the\n                    // animation is triggered correctly.\n                    // eslint-disable-next-line no-unused-expressions\n\n                    getComputedStyle(element).height;\n                    setTimeout(() => {\n                        // eslint-disable-next-line no-param-reassign\n                        element.style.height = 0;\n                    });\n                }\n            }\n        };\n        return createElement(`transition`, data, context.children);\n    }\n};\n</script>\n\n<style scoped>\n* {\n    will-change: height;\n    transform: translateZ(0);\n    backface-visibility: hidden;\n    perspective: 1000px;\n}\n</style>\n\n<style>\n.expand-enter-active,\n.expand-leave-active {\n    transition: height 0.5s ease-in-out;\n    overflow: hidden;\n}\n.expand-enter,\n.expand-leave-to {\n    height: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Expand.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Expand.vue?vue&type=script&lang=js&\"","/**\n * Miscellaneous components used in tabs and App.vue\n * @module src/components\n * @preferred\n */\n\n/**\n *\n */\nimport { SearchMatch } from '@/models/Catalog';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport Course from '../models/Course';\nimport Schedule from '../models/Schedule';\nimport Expand from './Expand.vue';\n\n/**\n * A **pure** component for\n * 1. displaying the list of courses that are match the query string when searching\n * 2. displaying the list of courses currently selected\n * @author Hanzhi Zhou, Kaiying Cat\n * @noInheritDoc\n */\n@Component({\n    components: {\n        Expand\n    }\n})\nexport default class ClassList extends Vue {\n    /**\n     * the array of courses to be displayed on this list\n     */\n    @Prop({ type: Array, default: [] }) readonly courses!: Course[];\n    /**\n     * the array of matches corresponding to the array of courses\n     */\n    @Prop({ type: Array, default: [] }) readonly matches!: SearchMatch[];\n    /**\n     * the schedule used to extract the already selected sections of the courses given above\n     */\n    @Prop(Object) readonly schedule!: Schedule;\n    /**\n     * whether in Entering mode. when true, no **close** buttons (for removing courses) will be shown\n     */\n    @Prop({ default: false, type: Boolean }) readonly isEntering!: boolean;\n    /**\n     * whether to show **Any Section**\n     */\n    @Prop({ default: true, type: Boolean }) readonly showAny!: boolean;\n    /**\n     * whether to expand all courses by default in entering mode\n     */\n    @Prop({ default: false, type: Boolean }) readonly expandOnEntering!: boolean;\n    @Prop({ default: true, type: Boolean }) readonly showClasslistTitle!: boolean;\n\n    /**\n     * the array used to record which course is collapsed/expanded\n     *\n     * key: the key of the course (`course.key`)\n     * value: true for collapsed, false otherwise\n     */\n    collapsed: { [x: string]: boolean } = {};\n    group: { [x: string]: boolean } = {};\n\n    select(key: string, idx: number) {\n        // need to pass this event to parent because the parent needs to update some other stuff\n        const numInput = document.getElementById(key + '-' + idx) as HTMLInputElement;\n\n        if (idx === -1) {\n            // if select AnySection, disable group\n            if (!this.schedule.isAnySection(key)) this.$set(this.group, key, false);\n            this.$emit('update-course', key, idx, 0, this.isEntering);\n        } else {\n            this.$emit('update-course', key, idx, +numInput.value, this.isEntering);\n        }\n    }\n\n    updateGroup(key: string) {\n        if (this.group[key]) {\n            this.$set(this.group, key, false);\n        } else {\n            this.$set(this.group, key, true);\n            if (this.schedule.isAnySection(key))\n                this.$emit('update-course', key, -1, 0, this.isEntering);\n        }\n    }\n\n    selectAll(key: string, course: Course) {\n        let notSelected = false;\n        for (const sec of course.sections) {\n            if (!this.schedule.hasSection(key, sec.id)) {\n                notSelected = true;\n                this.select(key, sec.id);\n            }\n        }\n        if (!notSelected) {\n            for (const sec of course.sections) {\n                this.select(key, sec.id);\n            }\n        }\n    }\n\n    allTimeSelected(key: string, time: string) {\n        return this.separatedCourses[key][time].sections.every(sec =>\n            this.schedule.hasSection(key, sec.id)\n        );\n    }\n\n    get separatedCourses() {\n        const courseObj: { [course: string]: { [date: string]: Course } } = Object.create(null);\n        for (const course of this.courses) {\n            const obj: { [date: string]: Set<number> } = Object.create(null);\n            const sections = course.sections;\n            // group sections by dates\n            for (const { dates, id } of sections) {\n                if (obj[dates]) {\n                    obj[dates].add(id);\n                } else {\n                    obj[dates] = new Set<number>().add(id);\n                }\n            }\n\n            const segments: { [date: string]: Course } = Object.create(null);\n            const len = course.sections.length;\n            for (const date in obj) {\n                // all sections are selected: use the full course\n                if (obj[date].size === len) {\n                    segments[date] = course;\n                    // some sections are selected: get the subset\n                } else {\n                    segments[date] = window.catalog.getCourse(course.key, obj[date]);\n                }\n            }\n            courseObj[course.key] = segments;\n        }\n        return courseObj;\n    }\n\n    /**\n     * update the collapse status of the course with key=`key`\n     * @param key\n     */\n    collapse(key: string) {\n        if (this.expanded(key)) {\n            this.$set(this.collapsed, key, false);\n        } else {\n            this.$set(this.collapsed, key, true);\n        }\n    }\n    /**\n     * returns whether course with key=`key` is expanded\n     * @param key\n     */\n    expanded(key: string) {\n        const status = this.collapsed[key];\n        return (status === undefined && this.isEntering && this.expandOnEntering) || status;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./ClassList.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./ClassList.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassList.vue?vue&type=template&id=10d1a8a1&scoped=true&\"\nimport script from \"./ClassList.ts?vue&type=script&lang=ts&\"\nexport * from \"./ClassList.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./ClassList.vue?vue&type=style&index=0&id=10d1a8a1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10d1a8a1\",\n  null\n  \n)\n\nexport default component.exports","/**\n * Tabs components, shown when their corresponding tabs are active\n * @module src/components/tabs\n * @preferred\n */\n\n/**\n *\n */\nimport { SearchMatch } from '@/models/Catalog';\nimport Course from '@/models/Course';\nimport Store from '@/store';\nimport { Component, Vue, Watch } from 'vue-property-decorator';\nimport ClassList from '../ClassList.vue';\n\nconst generatedWarning = `You're editing the generated schedule! You should do 'change to proposed' if you want to add on this particular generated schedule.`;\n\n/**\n * component for editing classes and manipulating schedules\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component({\n    components: {\n        ClassList\n    }\n})\nexport default class ClassView extends Store {\n    // autocompletion related fields\n    isEntering = false;\n    inputCourses: Course[] = [];\n    inputMatches: SearchMatch[] = [];\n    query: string = '';\n    queryTypes: string[] = ['title', 'num', 'topic', 'prof', 'desc'];\n    dPointer = 0;\n\n    get current() {\n        return this.schedule.currentSchedule.current;\n    }\n\n    /**\n     * get classes that match the input query.\n     * Exit \"entering\" mode on falsy parameter (set `isEntering` to false)\n     *\n     * if a generated schedule is displayed, switch to proposed schedule,\n     * because we're adding stuff to the proposed schedule\n     *\n     * @see Catalog.search\n     */\n    @Watch('query')\n    getClass() {\n        if (!this.query) {\n            this.isEntering = false;\n            this.inputCourses = [];\n            this.inputMatches = [];\n            return;\n        }\n        if (this.schedule.generated) {\n            this.schedule.switchSchedule(false);\n        }\n\n        console.time('query');\n        [this.inputCourses, this.inputMatches] = window.catalog.search(\n            this.query,\n            this.display.numSearchResults\n        );\n        console.timeEnd('query');\n\n        this.isEntering = true;\n    }\n\n    closeClassList() {\n        this.query = '';\n    }\n\n    generateClick() {\n        this.query = '';\n        this.generateSchedules();\n    }\n\n    /**\n     * @see Schedule.update\n     */\n    updateCourse(key: string, section: number, groupIdx = 0, remove = false) {\n        try {\n            this.schedule.currentSchedule.update(key, section, groupIdx, remove);\n        } catch (e) {\n            this.noti.warn(e.message || generatedWarning);\n        }\n\n        // note: adding a course to schedule.All cannot be detected by Vue.\n        // Must use forceUpdate to re-render component\n        (this.$refs.selectedClassList as Vue).$forceUpdate();\n        const classList = this.$refs.enteringClassList;\n        if (classList instanceof Vue) (classList as Vue).$forceUpdate();\n        this.saveStatus();\n    }\n\n    removeCourse(key: string) {\n        try {\n            this.schedule.currentSchedule.remove(key);\n        } catch (e) {\n            this.noti.warn(e.message || generatedWarning);\n        }\n        this.saveStatus();\n    }\n\n    dropdownNext() {\n        if (this.query === ':') this.dPointer = (this.dPointer + 1) % this.queryTypes.length;\n    }\n\n    dropdownPrev() {\n        if (this.query === ':')\n            this.dPointer = (this.dPointer - 1 + this.queryTypes.length) % this.queryTypes.length;\n    }\n\n    dSelect(id: number) {\n        if (this.query === ':') this.query = `:${this.queryTypes[id]} `;\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ClassView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ClassView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassView.vue?vue&type=template&id=67608d4e&\"\nimport script from \"./ClassView.ts?vue&type=script&lang=ts&\"\nexport * from \"./ClassView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Compare Schedules \")]),(_vm.compare.length)?_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},_vm._l((_vm.compare),function(cur,idx){return _c('li',{key:cur,staticClass:\"list-group-item px-1\",on:{\"mouseenter\":function($event){return _vm.highlight(idx)},\"mouseleave\":function($event){return _vm.highlight(idx)}}},[_c('div',{staticClass:\"row no-gutters justify-content-between\"},[_c('div',{staticClass:\"col-sm-auto mr-auto\",attrs:{\"title\":_vm.getTitle(idx)}},[_vm._v(\" Schedule \"+_vm._s(cur.pIdx + 1)+\"/\"+_vm._s(cur.index + 1)),_c('br'),_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Profile \\\"\"+_vm._s(cur.profileName)+\"\\\"\")]),_c('br')]),_c('div',{staticClass:\"col-sm-auto mr-1 align-self-center\"},[_c('button',{attrs:{\"title\":\"if you want your schedule to be as similar to this schedule as possible, click me\"},on:{\"click\":function($event){return _vm.similarity(idx)}}},[_vm._v(\" Ref \"),(_vm.isSimilarSchedule(idx))?_c('i',{staticClass:\"far fa-check-square\"}):_c('i',{staticClass:\"far fa-square\"})])]),_c('div',{staticClass:\"col-sm-auto text-right align-self-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(cur.color),expression:\"cur.color\"}],staticClass:\"mr-1\",staticStyle:{\"width\":\"25px\"},attrs:{\"type\":\"color\"},domProps:{\"value\":(cur.color)},on:{\"change\":function($event){return _vm.renderSchedule()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(cur, \"color\", $event.target.value)}}}),_c('i',{staticClass:\"fas fa-sync-alt click-icon\",attrs:{\"title\":\"get a random color\"},on:{\"click\":function($event){return _vm.randColor(idx)}}}),_c('i',{staticClass:\"fa fa-times ml-2 click-icon\",staticStyle:{\"font-size\":\"16px\"},attrs:{\"title\":\"delete this schedule\"},on:{\"click\":function($event){return _vm.deleteCompare(idx)}}})])])])}),0):_c('div',{staticClass:\"mx-4 my-2\"},[_vm._v(\" You haven't selected any schedule to compare yet. Select one by clicking the \\\"Compare\\\" button at the top of the page when you have generated some schedules. You can also compare generated schedules across different profiles. \")]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Sort by Similarity to Another Schedule \")]),_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},[(_vm.filter.similarityEnabled)?_c('li',{staticClass:\"list-group-item px-1\"},[_c('pre',[_vm._v(_vm._s(_vm.refSchedule))])]):_c('li',{staticClass:\"list-group-item\"},[_vm._v(\" Select \\\"Ref\\\" for any schedule in the compare list to enable sort by similarity with reference to the selected schedule. \")])])]),_c('main-content',[_c('grid-schedule',{attrs:{\"current-schedule\":_vm.compareSchedule}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row no-gutters justify-content-start px-1 mb-3\",style:((\"width: \" + (_vm.display.width) + \"%\"))},[_c('div',{staticClass:\"col-xs-auto\"},[_c('div',{staticClass:\"grid-container time\",style:({\n                'grid-template-columns': 'auto',\n                height: _vm.mainHeight,\n                'grid-template-rows': _vm.heightInfo.reduce(function (acc, x) { return acc + (x + 'px '); }, '40px ')\n            })},[_c('div'),_vm._l((_vm.hours),function(hour){return _c('div',{key:hour},[_vm._v(_vm._s(hour))])})],2)]),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"grid-container main\",style:({\n                'grid-template-columns': _vm.gridTemplateCols,\n                'grid-template-rows': _vm.heightInfo.reduce(function (acc, x) { return acc + (x + 'px '); }, '48px '),\n                height: _vm.mainHeight\n            })},[(_vm.status.isMobile)?_vm._l((_vm.days),function(day){return _c('div',{key:day,staticClass:\"placeholder day\"},[_vm._v(_vm._s(day))])}):_vm._l((_vm.daysFull),function(day){return _c('div',{key:day,staticClass:\"placeholder day\"},[_vm._v(\" \"+_vm._s(day)+\" \")])}),_vm._l((_vm.numRow * _vm.numCol),function(idx){return _c('div',{key:idx,staticClass:\"placeholder\"})}),_vm._l((_vm.days),function(day,idx){return _vm._l((_vm.currentSchedule.days[+idx]),function(scheduleBlock,_){return _c('course-block',{key:day + _,style:({\n                        left: (+idx + scheduleBlock.left) * (100 / _vm.numCol) + '%',\n                        width: (100 / _vm.numCol) * scheduleBlock.width + '%'\n                    }),attrs:{\"schedule-block\":scheduleBlock,\"height-info\":_vm.heightInfo,\"absolute-earliest\":_vm.absoluteEarliest,\"day\":day}})})})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"courseBlock\",class:{ 'block-strong': _vm.scheduleBlock.strong },style:({\n        'margin-top': _vm.startPx + 'px',\n        height: _vm.endPx - _vm.startPx + 'px',\n        'background-color': _vm.scheduleBlock.background,\n        color: _vm.scheduleBlock.foreground\n    }),on:{\"click\":function($event){return _vm.showModal()}}},[(!_vm.status.isMobile)?[(_vm.isSection(_vm.section))?_c('div',{staticClass:\"ml-2\"},[_c('div',{staticClass:\"mt-2\",staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\" \"+_vm._s(_vm.display.showSuffix ? _vm.section.displayName : ((_vm.section.department) + \" \" + (_vm.section.number) + \"-\" + (_vm.section.section)))+\" \")]),(_vm.display.showInstructor)?_c('div',{style:(_vm.style)},[_vm._v(\" \"+_vm._s(_vm.section.instructors.join(', '))+\" \")]):_vm._e(),(_vm.display.showRoom && _vm.room)?_c('div',{style:(_vm.style)},[_vm._v(\" \"+_vm._s(_vm.room)+\" \")]):_vm._e(),(_vm.display.showTime)?_vm._l((_vm.section.meetings),function(meeting){return _c('div',{key:meeting.days,style:(_vm.style)},[_vm._v(\" \"+_vm._s(meeting.days)+\" \")])}):_vm._e()],2):(_vm.isCourse(_vm.section))?_c('div',{staticClass:\"ml-2\"},[_c('div',{staticClass:\"mt-2\",staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\" \"+_vm._s(_vm.firstSec.department)+\" \"+_vm._s(_vm.firstSec.number)+\"-\"+_vm._s(_vm.firstSec.section)+\" +\"+_vm._s(_vm.section.sections.length - 1)+\" \"+_vm._s(_vm.firstSec.type)+\" \")]),(_vm.display.showTime)?_vm._l((_vm.firstSec.meetings),function(meeting){return _c('div',{key:meeting.days,style:(_vm.style)},[_vm._v(\" \"+_vm._s(meeting.days)+\" \")])}):_vm._e(),(_vm.display.showInstructor)?_c('div',{style:(_vm.style)},[_vm._v(\" \"+_vm._s(_vm.firstSec.instructors.join(', '))+\" and \"+_vm._s(_vm.section.sections.reduce(function (acc, x) { return acc + x.instructors.length; }, 0) - 1)+\" more \")]):_vm._e(),(_vm.display.showRoom)?_c('div',{style:(_vm.style)},[_vm._v(\" \"+_vm._s(_vm.firstSec.meetings[0].room)+\" and \"+_vm._s(_vm.section.sections.length - 1)+\" more \")]):_vm._e()],2):(_vm.isEvent(_vm.section))?_c('div',{staticClass:\"ml-2\"},[_c('div',{staticClass:\"mt-2\"},[_vm._v(\" \"+_vm._s(_vm.section.title)+\" \")]),_c('div',{style:(_vm.style)},[_vm._v(\" \"+_vm._s(_vm.section.days)),_c('br'),_vm._v(\" \"+_vm._s(_vm.section.room)+\" \")]),_c('div',{style:(_vm.style),domProps:{\"innerHTML\":_vm._s(_vm.section.description)}})]):_vm._e()]:_c('div',{staticClass:\"mt-2 ml-2\",staticStyle:{\"font-size\":\"10px\"}},[(_vm.isSection(_vm.section))?_c('div',[_vm._v(\" \"+_vm._s(_vm.firstSec.department)+\" \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.firstSec.number)+\" \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.firstSec.section)+\" \")]):(_vm.isCourse(_vm.section))?_c('div',[_vm._v(\" \"+_vm._s(_vm.firstSec.department)+\" \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.firstSec.number)+\" \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.firstSec.section)+\" + \"+_vm._s(_vm.section.sections.length - 1)+\" \")]):(_vm.isEvent(_vm.section))?_c('div',[_vm._v(\" \"+_vm._s(_vm.section.days)+\" \")]):_vm._e()])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport { Component, Prop } from 'vue-property-decorator';\nimport Course from '../models/Course';\nimport Event from '../models/Event';\nimport ScheduleBlock from '../models/ScheduleBlock';\nimport Section from '../models/Section';\nimport Store from '../store';\nimport { timeToNum, hr24toInt, hr12toInt } from '../utils';\n\n/**\n * the component for rendering a course on GridSchedule\n * @author Kaiying Shan, Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class CourseBlock extends Store {\n    @Prop(ScheduleBlock) readonly scheduleBlock!: ScheduleBlock;\n    @Prop(Array) readonly heightInfo!: number[];\n    @Prop(Number) readonly absoluteEarliest!: number;\n    @Prop(String) readonly day!: string;\n    get section() {\n        return this.scheduleBlock.section;\n    }\n    get startPx() {\n        return this.getPx(this.scheduleBlock.start);\n    }\n    get endPx() {\n        return this.getPx(this.scheduleBlock.end);\n    }\n    get style() {\n        return {\n            'font-size': '11px',\n            color: this.scheduleBlock.foregroundLight\n        } as const;\n    }\n\n    getPx(time: string) {\n        let px = 48;\n        const t = time.split(':');\n        const min = parseInt(t[1]) >= 30 ? parseInt(t[1]) - 30 : parseInt(t[1]);\n\n        const temp = timeToNum(time);\n        for (let i = this.absoluteEarliest; i < temp; i++) {\n            px += this.heightInfo[i - this.absoluteEarliest];\n        }\n        px += (min / 30) * this.display.fullHeight;\n        return px;\n    }\n\n    get firstSec(): Section {\n        const section = this.scheduleBlock.section;\n        if (section instanceof Course) return section.sections[0];\n        else if (section instanceof Section) return section;\n        return section as any;\n    }\n\n    /**\n     * parse the room from the section contained in this scheduleBlock\n     */\n    get room() {\n        if (!(this.firstSec instanceof Section)) return null;\n\n        for (const meeting of this.firstSec.meetings) {\n            if (meeting.days.includes(this.day)) {\n                const [, start, , end] = meeting.days.split(' ');\n                if (\n                    hr24toInt(this.scheduleBlock.start) === hr12toInt(start) &&\n                    hr24toInt(this.scheduleBlock.end) === hr12toInt(end)\n                ) {\n                    return meeting.room;\n                }\n            }\n        }\n        return null;\n    }\n    isSection(a: any): a is Section {\n        return a instanceof Section;\n    }\n    isEvent(a: any): a is Event {\n        return a instanceof Event;\n    }\n    isCourse(a: any): a is Course {\n        return a instanceof Course;\n    }\n\n    showModal() {\n        const section = this.section;\n        if (this.isSection(section)) {\n            this.modal.showSectionModal(section);\n        } else if (this.isCourse(section)) {\n            this.modal.showCourseModal(section);\n        } else if (this.isEvent(section)) {\n            if (!this.status.sideBar.showEvent) this.status.switchSideBar('showEvent');\n            this.status.eventToEdit = section;\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./CourseBlock.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./CourseBlock.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CourseBlock.vue?vue&type=template&id=f195896c&scoped=true&\"\nimport script from \"./CourseBlock.ts?vue&type=script&lang=ts&\"\nexport * from \"./CourseBlock.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./CourseBlock.vue?vue&type=style&index=0&id=f195896c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f195896c\",\n  null\n  \n)\n\nexport default component.exports","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport Schedule, { DAYS } from '@/models/Schedule';\nimport { Component, Prop } from 'vue-property-decorator';\nimport Store from '../store';\nimport { timeToNum, to12hr } from '../utils';\nimport CourseBlock from './CourseBlock.vue';\n\n/**\n * the component for rendering a schedule (with courses and events) on a grid\n * @author Kaiying Cat\n * @noInheritDoc\n */\n@Component({\n    components: {\n        CourseBlock\n    }\n})\nexport default class GridSchedule extends Store {\n    @Prop(Object) readonly currentSchedule!: Schedule;\n\n    df = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\n    // note: we need Schedule.days because it's an array that keeps the keys in order\n    get days() {\n        return this.display.showWeekend ? DAYS : DAYS.slice(0, 5);\n    }\n\n    get daysFull() {\n        return this.display.showWeekend ? this.df : this.df.slice(0, 5);\n    }\n\n    /**\n     * return the block in which the earliest class starts, the 8:00 block is zero\n     * return 0 if no class\n     */\n    get earliestBlock() {\n        let earliest = 817;\n        const schedule = this.currentSchedule;\n        for (const blocks of schedule.days) {\n            for (const course of blocks) {\n                const temp = timeToNum(course.start);\n                if (temp < earliest) {\n                    earliest = temp;\n                }\n            }\n        }\n        return earliest;\n    }\n    /**\n     * return the block in which the latest class ends, the 8:00 block is zero\n     */\n    get latestBlock() {\n        let latest = 0;\n        const schedule = this.currentSchedule;\n        for (const blocks of schedule.days) {\n            for (const course of blocks) {\n                const temp = timeToNum(course.end);\n                if (temp > latest) {\n                    latest = temp;\n                }\n            }\n        }\n        return latest;\n    }\n    /**\n     * return the block in which the schedule starts with\n     */\n    get absoluteEarliest() {\n        const early = this.display.earliest;\n        if (timeToNum(early) > this.earliestBlock) {\n            return this.earliestBlock;\n        } else {\n            return timeToNum(early);\n        }\n    }\n    /**\n     * return the block in which the schedule ends with\n     */\n    get absoluteLatest() {\n        const late = this.display.latest;\n        if (timeToNum(late) < this.latestBlock) {\n            return this.latestBlock;\n        } else {\n            return timeToNum(late);\n        }\n    }\n\n    /**\n     * computes the number of rows we need\n     */\n    get numRow() {\n        return this.absoluteLatest + 1 - this.absoluteEarliest;\n    }\n\n    get numCol() {\n        return this.display.showWeekend ? 7 : 5;\n    }\n\n    get gridTemplateCols() {\n        return `${100 / this.numCol}% `.repeat(this.numCol);\n    }\n\n    get hours() {\n        let curTime = '';\n        if (this.absoluteEarliest % 2 === 0) {\n            curTime = this.absoluteEarliest / 2 + 8 + ':00';\n        } else {\n            curTime = (this.absoluteEarliest - 1) / 2 + 8 + ':30';\n        }\n\n        const time = [];\n        const stdTime = [];\n        const reducedTime = [];\n        for (let i = this.absoluteEarliest; i <= this.absoluteLatest; i++) {\n            time.push(curTime);\n            stdTime.push(to12hr(curTime));\n            curTime = this.increTime(curTime);\n            // note: need .toString to make the type of reducedTime consistent\n            reducedTime.push(i % 2 !== 0 ? '' : (i / 2 + 8).toString());\n        }\n\n        return window.screen.width > 450 ? (this.display.standard ? stdTime : time) : reducedTime;\n    }\n    get heightInfo() {\n        const info: number[] = new Array(this.numRow).fill(this.display.partialHeight);\n        const earliest = this.absoluteEarliest;\n        const schedule = this.currentSchedule;\n        for (const blocks of schedule.days) {\n            for (const course of blocks) {\n                const startTime = timeToNum(course.start);\n                const endTime = timeToNum(course.end);\n                for (let i = startTime; i <= endTime; i++) {\n                    info[i - earliest] = this.display.fullHeight;\n                }\n            }\n        }\n        return info;\n    }\n    get mainHeight() {\n        return this.heightInfo.reduce((sum, h) => sum + h, 0);\n    }\n\n    increTime(time: string) {\n        const sep = time.split(' ')[0].split(':');\n        const hr = parseInt(sep[0]);\n        const min = parseInt(sep[1]);\n        return (\n            hr +\n            ((min + 30) / 60 >= 1 ? 1 : 0) +\n            ':' +\n            ((min + 30) % 60 < 10 ? '0' + ((min + 30) % 60) : (min + 30) % 60)\n        );\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./GridSchedule.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./GridSchedule.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GridSchedule.vue?vue&type=template&id=7eb5c046&scoped=true&\"\nimport script from \"./GridSchedule.ts?vue&type=script&lang=ts&\"\nexport * from \"./GridSchedule.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./GridSchedule.vue?vue&type=style&index=0&id=7eb5c046&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7eb5c046\",\n  null\n  \n)\n\nexport default component.exports","/**\r\n * @module src/components/tabs\r\n */\r\n\r\n/**\r\n *\r\n */\r\nimport GeneratedSchedule from '@/models/GeneratedSchedule';\r\nimport ScheduleBlock from '@/models/ScheduleBlock';\r\nimport Store from '@/store';\r\nimport randomColor from 'randomcolor';\r\nimport { Component } from 'vue-property-decorator';\r\nimport GridSchedule from '../GridSchedule.vue';\r\nimport MainContent from '../MainContent.vue';\r\n\r\n/**\r\n * component for comparing multiple schedules\r\n * @author Kaiying Shan, Hanzhi Zhou\r\n * @noInheritDoc\r\n */\r\n@Component({\r\n    components: {\r\n        GridSchedule,\r\n        MainContent\r\n    }\r\n})\r\nexport default class CompareView extends Store {\r\n    compareSchedule = new GeneratedSchedule();\r\n    highlightIdx = -1;\r\n\r\n    created() {\r\n        this.renderSchedule();\r\n    }\r\n\r\n    get refSchedule() {\r\n        return this.getDesc(this.filter.refSchedule);\r\n    }\r\n\r\n    renderSchedule() {\r\n        this.compareSchedule = new GeneratedSchedule();\r\n        for (let i = 0; i < this.compare.length; i++) {\r\n            const { schedule, color } = this.compare[i];\r\n            for (let j = 0; j < 7; j++) {\r\n                for (const sb of schedule.days[j]) {\r\n                    const nsb = new ScheduleBlock(color, sb.start, sb.end, sb.section);\r\n                    nsb.strong = this.highlightIdx === i;\r\n                    this.compareSchedule.days[j].push(nsb);\r\n                }\r\n            }\r\n        }\r\n        this.compareSchedule.computeBlockPositions();\r\n    }\r\n    randColor(idx: number) {\r\n        this.compare[idx].color = randomColor({ luminosity: 'dark' });\r\n        this.renderSchedule();\r\n    }\r\n    deleteCompare(idx: number) {\r\n        this.compare.splice(idx, 1);\r\n        this.renderSchedule();\r\n    }\r\n    /**\r\n     * get the description of the schedule at index `idx` of the `compare` array\r\n     * @param idx\r\n     */\r\n    getTitle(idx: number) {\r\n        const { schedule, pIdx, index } = this.compare[idx];\r\n        return (\r\n            `Generated schedule ${index + 1},\\nCorresponds to proposed schedule ${pIdx + 1}\\n` +\r\n            `Total credits: ${schedule.totalCredit}\\n${this.getDesc(schedule.All)}`\r\n        );\r\n    }\r\n    /**\r\n     * get description for a schedule\r\n     * @param All the `All variable` of a generated schedule\r\n     * @see [[Schedule.All]]\r\n     */\r\n    getDesc(All: GeneratedSchedule['All']) {\r\n        const catalog = window.catalog;\r\n        return Object.entries(All)\r\n            .map(x => {\r\n                const course = catalog.getCourse(\r\n                    x[0],\r\n                    x[1].reduce((acc, x) => {\r\n                        for (const v of x) acc.add(v);\r\n                        return acc;\r\n                    }, new Set<number>())\r\n                );\r\n                return `${course.department} ${course.number}-${course.sections\r\n                    .map(y => y.section)\r\n                    .reduce((a, z) => a + '/' + z)} ${course.title}`;\r\n            })\r\n            .reduce((a, x) => a + '\\n' + x);\r\n    }\r\n    highlight(idx: number) {\r\n        if (idx === this.highlightIdx) {\r\n            this.highlightIdx = -1;\r\n        } else {\r\n            this.highlightIdx = idx;\r\n        }\r\n        this.renderSchedule();\r\n    }\r\n    similarity(idx: number) {\r\n        const evaluator = window.scheduleEvaluator;\r\n        // remove similarity cache\r\n        delete evaluator.sortCoeffCache.similarity;\r\n        const opt = evaluator.options.sortBy.find(x => x.name === 'similarity')!;\r\n\r\n        // we click the reference schedule again: clear the reference schedule\r\n        if (this.compare[idx].schedule.allEquals(evaluator.refSchedule)) {\r\n            this.filter.refSchedule = evaluator.refSchedule = {};\r\n            opt.enabled = false;\r\n        } else {\r\n            this.filter.refSchedule = evaluator.refSchedule = this.compare[idx].schedule.All;\r\n            opt.enabled = true;\r\n        }\r\n        if (!evaluator.empty() && this.validateSortOptions()) {\r\n            evaluator.sort();\r\n            if (!this.schedule.generated) {\r\n                this.schedule.switchSchedule(true);\r\n            } else {\r\n                // re-assign the current schedule\r\n                this.schedule.currentSchedule = evaluator.getSchedule(\r\n                    this.schedule.currentScheduleIndex\r\n                );\r\n            }\r\n        }\r\n        this.$forceUpdate();\r\n    }\r\n    isSimilarSchedule(idx: number) {\r\n        return this.compare[idx].schedule.allEquals(window.scheduleEvaluator.refSchedule);\r\n    }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./CompareView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./CompareView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CompareView.vue?vue&type=template&id=795c8d9d&\"\nimport script from \"./CompareView.ts?vue&type=script&lang=ts&\"\nexport * from \"./CompareView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Schedule Settings \")]),_c('div',{staticClass:\"form-group row no-gutters mt-2 mb-0 mx-2\",attrs:{\"title\":\"Schedule grid earlier than this time won't be displayed if you don't have any class before that time\"}},[_c('label',{staticClass:\"col-lg-6 col-form-label\",attrs:{\"for\":\"schedule-start\"}},[_vm._v(\" Schedule Start \")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.earliest),expression:\"display.earliest\"}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"schedule-start\",\"type\":\"time\",\"min\":\"0:00\",\"max\":\"12:00\"},domProps:{\"value\":(_vm.display.earliest)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"earliest\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-0 mx-2\",attrs:{\"title\":\"Schedule grid later than this time won't be displayed if you don't have any class before that time\"}},[_c('label',{staticClass:\"col-lg-6 col-form-label\",attrs:{\"for\":\"schedule-end\"}},[_vm._v(\"Schedule End\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.latest),expression:\"display.latest\"}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"schedule-end\",\"type\":\"time\",\"min\":\"12:00\",\"max\":\"23:59\"},domProps:{\"value\":(_vm.display.latest)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"latest\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-0 mx-2\",attrs:{\"title\":\"Height of the cells containing classes on the schedule grid\"}},[_c('label',{staticClass:\"col-lg-6 col-form-label\",attrs:{\"for\":\"class-height\"}},[_vm._v(\"Class Height\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.fullHeight),expression:\"display.fullHeight\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"class-height\",\"min\":\"1\",\"step\":\"1\",\"max\":\"100\",\"type\":\"number\"},domProps:{\"value\":(_vm.display.fullHeight)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"fullHeight\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-0 mx-2\",attrs:{\"title\":\"height of an empty cell. You can specify a smaller value to compress empty space\"}},[_c('label',{staticClass:\"col-lg-6 col-form-label\",attrs:{\"for\":\"grid-height\"}},[_vm._v(\"Grid Height\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.partialHeight),expression:\"display.partialHeight\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"grid-height\",\"min\":\"1\",\"step\":\"1\",\"max\":\"100\",\"type\":\"number\"},domProps:{\"value\":(_vm.display.partialHeight)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"partialHeight\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-0 mx-2\",attrs:{\"title\":\"Width of the schedule as a percentage relative to the parent container\"}},[_c('label',{staticClass:\"col-lg-6 col-form-label\",attrs:{\"for\":\"schedule-width\"}},[_vm._v(\"Width\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.width),expression:\"display.width\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"schedule-width\",\"min\":\"10\",\"step\":\"5\",\"max\":\"1000\",\"type\":\"number\"},domProps:{\"value\":(_vm.display.width)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"width\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(0),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showWeekend),expression:\"display.showWeekend\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayWeekend\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showWeekend)?_vm._i(_vm.display.showWeekend,null)>-1:(_vm.display.showWeekend)},on:{\"change\":function($event){var $$a=_vm.display.showWeekend,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showWeekend\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showWeekend\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showWeekend\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayWeekend\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(1),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showTime),expression:\"display.showTime\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayTime\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showTime)?_vm._i(_vm.display.showTime,null)>-1:(_vm.display.showTime)},on:{\"change\":function($event){var $$a=_vm.display.showTime,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showTime\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showTime\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showTime\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayTime\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(2),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showRoom),expression:\"display.showRoom\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayRoom\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showRoom)?_vm._i(_vm.display.showRoom,null)>-1:(_vm.display.showRoom)},on:{\"change\":function($event){var $$a=_vm.display.showRoom,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showRoom\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showRoom\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showRoom\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayRoom\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(3),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showInstructor),expression:\"display.showInstructor\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayInstructor\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showInstructor)?_vm._i(_vm.display.showInstructor,null)>-1:(_vm.display.showInstructor)},on:{\"change\":function($event){var $$a=_vm.display.showInstructor,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showInstructor\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showInstructor\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showInstructor\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayInstructor\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(4),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showSuffix),expression:\"display.showSuffix\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"showSuffix\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showSuffix)?_vm._i(_vm.display.showSuffix,null)>-1:(_vm.display.showSuffix)},on:{\"change\":function($event){var $$a=_vm.display.showSuffix,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showSuffix\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showSuffix\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showSuffix\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"showSuffix\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-2 mx-2\"},[_vm._m(5),_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"custom-control custom-radio custom-control-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.standard),expression:\"display.standard\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"hr12\",\"type\":\"radio\"},domProps:{\"value\":true,\"checked\":_vm._q(_vm.display.standard,true)},on:{\"change\":function($event){return _vm.$set(_vm.display, \"standard\", true)}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"hr12\"}},[_vm._v(\"12\")])]),_c('div',{staticClass:\"custom-control custom-radio custom-control-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.standard),expression:\"display.standard\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"hr24\",\"type\":\"radio\"},domProps:{\"value\":false,\"checked\":_vm._q(_vm.display.standard,false)},on:{\"change\":function($event){return _vm.$set(_vm.display, \"standard\", false)}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"hr24\"}},[_vm._v(\"24\")])])])]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Course Search \")]),_c('li',{staticClass:\"list-group-item mb-0 pt-1\",staticStyle:{\"border-bottom\":\"0\"}},[_c('label',{attrs:{\"for\":\"num-search-results\"}},[_vm._v(\" Max number of search results \")]),_c('div',{staticClass:\"mr-5 mb-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.numSearchResults),expression:\"display.numSearchResults\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"num-search-results\",\"type\":\"number\",\"min\":\"1\",\"step\":\"1\",\"max\":\"20\"},domProps:{\"value\":(_vm.display.numSearchResults)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"numSearchResults\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.expandOnEntering),expression:\"display.expandOnEntering\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"exp-on-entering\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.expandOnEntering)?_vm._i(_vm.display.expandOnEntering,null)>-1:(_vm.display.expandOnEntering)},on:{\"change\":function($event){var $$a=_vm.display.expandOnEntering,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"expandOnEntering\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"expandOnEntering\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"expandOnEntering\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"exp-on-entering\"}},[_vm._v(\" Expand all when searching \")])]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showClasslistTitle),expression:\"display.showClasslistTitle\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayClasslistTitle\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showClasslistTitle)?_vm._i(_vm.display.showClasslistTitle,null)>-1:(_vm.display.showClasslistTitle)},on:{\"change\":function($event){var $$a=_vm.display.showClasslistTitle,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showClasslistTitle\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showClasslistTitle\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showClasslistTitle\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayClasslistTitle\"}},[_vm._v(\" Show description on class list \")])])]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Advanced Features \")]),_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},[_c('li',{staticClass:\"list-group-item pb-1 pt-0\"},[_c('div',{staticClass:\"form-group my-1\"},[_c('label',{attrs:{\"for\":\"num-schedule\"}},[_vm._v(\"Max number of schedules\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.maxNumSchedules),expression:\"display.maxNumSchedules\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"num-schedule\",\"type\":\"number\",\"min\":\"1000\",\"step\":\"1\",\"max\":\"2000000\"},domProps:{\"value\":(_vm.display.maxNumSchedules)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"maxNumSchedules\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"custom-control custom-checkbox\",attrs:{\"title\":\"Combine sections ocurring at the same time\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.combineSections),expression:\"display.combineSections\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"comb-sec\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.combineSections)?_vm._i(_vm.display.combineSections,null)>-1:(_vm.display.combineSections)},on:{\"change\":function($event){var $$a=_vm.display.combineSections,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"combineSections\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"combineSections\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"combineSections\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"comb-sec\"}},[_vm._v(\"Combine Sections\")])]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.enableLog),expression:\"display.enableLog\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"enable-log\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.enableLog)?_vm._i(_vm.display.enableLog,null)>-1:(_vm.display.enableLog)},on:{\"change\":function($event){var $$a=_vm.display.enableLog,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"enableLog\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"enableLog\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"enableLog\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"enable-log\"}},[_vm._v(\" Enable Log History \")])])]),_c('li',{staticClass:\"list-group-item\"},[_c('button',{staticClass:\"btn btn-outline-info mb-1 w-100\",on:{\"click\":function($event){return _vm.selectSemester(_vm.semester.currentSemester, true)}}},[_vm._v(\" Update Semester Data \")]),_c('small',{staticClass:\"text-center form-text text-muted\"},[_vm._v(\" Last update: \"+_vm._s(_vm.semester.lastUpdate)+\" \")])]),_c('li',{staticClass:\"list-group-item\"},[_c('button',{staticClass:\"btn btn-outline-danger w-100\",on:{\"click\":function($event){return _vm.clearCache()}}},[_vm._v(\" Reset All and Clean \")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayWeekend\"}},[_vm._v(\"Show Weekends\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayTime\"}},[_vm._v(\"Show Time\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayRoom\"}},[_vm._v(\"Show Room\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayInstructor\"}},[_vm._v(\"Show Instructor\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"showSuffix\"}},[_vm._v(\"Show Suffix\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-lg-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayInstructor\"}},[_vm._v(\"Time Options\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components/tabs\n */\n\n/**\n *\n */\nimport CatalogDB from '@/data/CatalogDB';\nimport Store from '@/store';\nimport { Component } from 'vue-property-decorator';\n\n/**\n * component for editing settings. This component should really be named as `SettingsView`,\n * but it is called `DisplayView` for historical reasons.\n * @author Kaiying Shan, Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class DisplayView extends Store {\n    /**\n     * clear the localStorage and reload the page\n     */\n    async clearCache() {\n        if (confirm('Your selected classes and schedules will be cleaned. Are you sure?')) {\n            window.localStorage.clear();\n            const { currentSemester } = this.semester;\n            if (currentSemester) new CatalogDB(currentSemester).delete();\n            window.location.reload(true);\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./DisplayView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./DisplayView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DisplayView.vue?vue&type=template&id=6246026c&\"\nimport script from \"./DisplayView.ts?vue&type=script&lang=ts&\"\nexport * from \"./DisplayView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn mt-0\",attrs:{\"id\":\"semester\"}},[(_vm.status.eventToEdit)?_c('div',[_vm._v(\"Edit Event\")]):_c('div',[_vm._v(\"Add Event\")])]),_c('form',{staticClass:\"mt-2 mx-2\"},[_c('div',{staticClass:\"form-group row no-gutters mb-1\"},[_c('label',{staticClass:\"col-lg-5 col-form-label\",attrs:{\"for\":\"event-title\"}},[_vm._v(\"Title\")]),_c('div',{staticClass:\"col-lg-7\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventTitle),expression:\"eventTitle\"}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"event-title\",\"type\":\"text\"},domProps:{\"value\":(_vm.eventTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventTitle=$event.target.value}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-1\"},[_c('label',{staticClass:\"col-lg-5 col-form-label\",attrs:{\"for\":\"event-from\"}},[_vm._v(\"Start\")]),_c('div',{staticClass:\"col-lg-7\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventTimeFrom),expression:\"eventTimeFrom\"}],staticClass:\"form-control form-control-sm\",staticStyle:{\"-webkit-appearance\":\"button\"},attrs:{\"id\":\"event-from\",\"type\":\"time\"},domProps:{\"value\":(_vm.eventTimeFrom)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventTimeFrom=$event.target.value}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-1\"},[_c('label',{staticClass:\"col-lg-5 col-form-label\",attrs:{\"for\":\"event-to\"}},[_vm._v(\"End\")]),_c('div',{staticClass:\"col-lg-7\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventTimeTo),expression:\"eventTimeTo\"}],staticClass:\"form-control form-control-sm\",staticStyle:{\"-webkit-appearance\":\"button\"},attrs:{\"id\":\"event-to\",\"type\":\"time\"},domProps:{\"value\":(_vm.eventTimeTo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventTimeTo=$event.target.value}}})])]),_c('div',{staticClass:\"btn-group btn-days mb-2\",attrs:{\"role\":\"group\"}},_vm._l((_vm.days),function(day,idx){return _c('button',{key:idx,staticClass:\"btn btn-outline-secondary\",class:{ active: _vm.eventWeek[idx] },attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateDay(+idx)}}},[_vm._v(\" \"+_vm._s(day)+\" \")])}),0),_c('div',{staticClass:\"form-group row no-gutters mb-1\"},[_c('label',{staticClass:\"col-lg-5 col-form-label\",attrs:{\"for\":\"event-loc\"}},[_vm._v(\"Location\")]),_c('div',{staticClass:\"col-lg-7\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventRoom),expression:\"eventRoom\"}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"event-loc\",\"type\":\"text\"},domProps:{\"value\":(_vm.eventRoom)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventRoom=$event.target.value}}})])])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventDescription),expression:\"eventDescription\"}],staticClass:\"my-2 mx-auto form-control\",staticStyle:{\"width\":\"98%\"},attrs:{\"placeholder\":\"Description\"},domProps:{\"value\":(_vm.eventDescription)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventDescription=$event.target.value}}}),(_vm.status.eventToEdit)?_c('div',{staticClass:\"btn-group\",staticStyle:{\"width\":\"100%\"},attrs:{\"role\":\"group\"}},[_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.endEditEvent()}}},[_vm._v(\" Update \")]),_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.cleanup()}}},[_vm._v(\" Cancel \")]),_c('button',{staticClass:\"btn btn-outline-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteEvent()}}},[_vm._v(\" Delete \")])]):_c('button',{staticClass:\"btn btn-outline-secondary ml-1\",staticStyle:{\"width\":\"98%\"},on:{\"click\":function($event){return _vm.addEvent()}}},[_vm._v(\" Add \")]),_vm._m(0),_c('table',{staticClass:\"table table-hover w-100\",staticStyle:{\"font-size\":\"14px\"}},[_c('thead',[_c('th',{staticStyle:{\"width\":\"100%\"}},[_vm._v(\" Number of events: \"+_vm._s(_vm.schedule.currentSchedule.events.length)+\" \")]),_c('th'),_c('th')]),_c('tbody',_vm._l((_vm.schedule.currentSchedule.events),function(ev){return _c('tr',{key:ev.key,class:{ 'table-primary': ev === _vm.status.eventToEdit },on:{\"mouseenter\":function($event){return _vm.schedule.currentSchedule.hover(ev.key)},\"mouseleave\":function($event){return _vm.schedule.currentSchedule.unhover(ev.key)}}},[_c('td',{on:{\"click\":function($event){_vm.status.eventToEdit = ev}}},[_vm._v(_vm._s(ev.title))]),_c('td',{staticClass:\"pl-0 pr-2\",on:{\"click\":function($event){return _vm.copyEvent(ev)}}},[_c('i',{staticClass:\"far fa-copy click-icon\",staticStyle:{\"font-size\":\"20px\"},attrs:{\"title\":\"copy the current event to a new event\"}})]),_c('td',{staticClass:\"pl-0 pr-2\",on:{\"click\":function($event){_vm.status.eventToEdit = ev}}},[_c('i',{staticClass:\"click-icon\",class:_vm.status.eventToEdit === ev ? 'far fa-check-square' : 'far fa-square',staticStyle:{\"font-size\":\"20px\"}})])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn bg-info nav-btn mt-3\",attrs:{\"id\":\"semester\"}},[_c('div',[_vm._v(\"Event List\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components/tabs\n */\n\n/**\n *\n */\nimport Event from '@/models/Event';\nimport { DAYS } from '@/models/Schedule';\nimport Store from '@/store';\nimport { hr24toInt, to12hr, to24hr } from '@/utils';\nimport { Component, Watch } from 'vue-property-decorator';\n\n/**\n * the component for adding and editing events\n * @author Kaiying Shan, Hanzhi Zhou, Zichao Hu\n * @noInheritDoc\n */\n@Component\nexport default class EventView extends Store {\n    // event related fields\n    eventWeek = [false, false, false, false, false, false, false];\n    eventTimeFrom = '';\n    eventTimeTo = '';\n    eventTitle? = '';\n    eventRoom? = '';\n    eventDescription? = '';\n\n    toBeModifiedDays = '';\n\n    get days() {\n        return DAYS;\n    }\n\n    @Watch('status.eventToEdit', { immediate: true })\n    eventWatch() {\n        const { eventToEdit } = this.status;\n        if (eventToEdit) this.editEvent(eventToEdit);\n    }\n    // need to remove eventToEdit before switching other tabs\n    beforeDestroy() {\n        this.status.eventToEdit = null;\n    }\n    updateDay(idx: number) {\n        this.$set(this.eventWeek, idx, !this.eventWeek[idx]);\n    }\n    /**\n     * validate the days, start time and end time of this event, and then parse them\n     * to desired format. emit notification on error.\n     */\n    getEventDays() {\n        let days = this.eventWeek.reduce((acc, x, i) => acc + (x ? this.days[i] : ''), '');\n\n        if (!days) {\n            this.noti.error('Event: Please select at least one day');\n            return;\n        }\n        if (!this.eventTimeFrom || !this.eventTimeTo) {\n            this.noti.error('Event: Please check your start/end time');\n            return;\n        }\n        const start = hr24toInt(this.eventTimeFrom),\n            end = hr24toInt(this.eventTimeTo);\n        if (start >= end) {\n            this.noti.error('Event: Start time must be earlier than end time');\n            return;\n        }\n        days += ` ${to12hr(this.eventTimeFrom)} - ${to12hr(this.eventTimeTo)}`;\n        return days;\n    }\n    copyEvent(ev: Event) {\n        this.status.eventToEdit = null;\n        this.editEvent(ev);\n        this.eventTitle += '-copy';\n    }\n    addEvent() {\n        // fold sidebar on mobile\n        this.status.foldView();\n        try {\n            const days = this.getEventDays();\n            if (!days) return;\n\n            this.schedule.proposedSchedule.addEvent(\n                days,\n                true,\n                this.eventTitle,\n                this.eventRoom,\n                this.eventDescription ? this.eventDescription.split('\\n').join('<br />') : ''\n            );\n            // note: we don't need to regenerate schedules if the days property is not changed\n            this.cleanup(this.toBeModifiedDays !== days && this.schedule.generated);\n        } catch (err) {\n            this.noti.error(err.message);\n        }\n    }\n    /**\n     * bind the properties of this event to input fields\n     * @param event\n     */\n    editEvent(event: Event) {\n        this.eventTitle = event.title;\n        this.eventRoom = event.room;\n        this.eventDescription = event.description\n            ? event.description.split('<br />').join('\\n')\n            : '';\n        const [week, start, , end] = event.days.split(' ');\n        for (let i = 0; i < this.days.length; i++) {\n            if (week.indexOf(this.days[i]) !== -1) {\n                this.$set(this.eventWeek, i, true);\n            } else {\n                this.$set(this.eventWeek, i, false);\n            }\n        }\n        this.eventTimeFrom = to24hr(start);\n        this.eventTimeTo = to24hr(end);\n        this.toBeModifiedDays = event.days;\n    }\n    /**\n     * apply the edit\n     */\n    endEditEvent() {\n        this.schedule.proposedSchedule.deleteEvent(this.toBeModifiedDays);\n        this.addEvent();\n    }\n    deleteEvent() {\n        this.schedule.proposedSchedule.deleteEvent(this.toBeModifiedDays);\n        this.cleanup(this.schedule.generated);\n    }\n    /**\n     * Clear all properties of this component and force re-computation of the current schedule,\n     * called after deleteEvent, endEditEvent and addEvent.\n     * @param regenerate re-run algorithm if true\n     */\n    cleanup(regenerate = false) {\n        // fold sidebar on mobile\n        this.status.foldView();\n\n        this.eventRoom = this.eventTimeFrom = this.eventTimeTo = this.eventDescription = this.eventTitle =\n            '';\n        this.eventWeek.forEach((x, i, arr) => this.$set(arr, i, false));\n        this.status.eventToEdit = null;\n        if (regenerate) this.generateSchedules();\n        else this.schedule.recomputeAll();\n        this.saveStatus();\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./EventView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./EventView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EventView.vue?vue&type=template&id=6caba466&\"\nimport script from \"./EventView.ts?vue&type=script&lang=ts&\"\nexport * from \"./EventView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"Import Profile\")]),_c('div',{staticClass:\"m-3\"},[_c('div',{staticClass:\"custom-file\"},[_c('input',{staticClass:\"custom-file-input\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"customFile\",\"type\":\"file\",\"accept\":\"text/json\"},on:{\"change\":function($event){return _vm.onUploadJson($event)}}}),_c('label',{staticClass:\"custom-file-label\",attrs:{\"for\":\"customFile\"}},[_vm._v(\"Import from JSON..\")])]),_c('small',{staticClass:\"text-center form-text text-muted\"},[_vm._v(\" Import a .json file exported by our website \")])]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"Export Profile\")]),_c('div',{staticClass:\"mx-3 my-2 text-center\"},[_c('div',{staticClass:\"btn-group w-100 mt-2\",attrs:{\"role\":\"group\",\"aria-label\":\"Basic example\"}},[_c('button',{staticClass:\"btn btn-outline-dark px-0\",on:{\"click\":function($event){return _vm.saveToJson()}}},[_vm._v(\"Export JSON\")]),_c('button',{staticClass:\"btn btn-outline-dark px-0\",on:{\"click\":function($event){return _vm.saveToIcal()}}},[_vm._v(\"Export iCal\")])]),_vm._m(0)]),_c('hr'),_c('div',{staticClass:\"mx-3 my-2 text-center\"},[_c('div',{staticClass:\"btn-group w-100\",attrs:{\"role\":\"group\",\"aria-label\":\"Basic example\"}},[_c('button',{staticClass:\"btn btn-outline-primary\",on:{\"click\":function($event){return _vm.exportToURL()}}},[_vm._v(\"Export URL\")]),_c('button',{staticClass:\"btn btn-outline-primary\",on:{\"click\":function($event){return _vm.print()}}},[_vm._v(\"Print\")])]),_vm._m(1)]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Profiles \"),(_vm.profile.tokenType)?[_c('i',{staticClass:\"fas fa-cloud\",attrs:{\"title\":(\"You profiles are synchronizd with \" + _vm.backendName)}}),_c('span',{staticClass:\"badge badge-secondary ml-1\",attrs:{\"title\":\"This function is at the beta-testing stage. If you find any issues with it, please report it through GitHub issues or google form\"}},[_vm._v(\" Beta \")])]:_vm._e()],2),_c('ul',{staticClass:\"list-group list-group-flush mx-auto\",staticStyle:{\"font-size\":\"14px\",\"width\":\"99%\"}},_vm._l((_vm.profile.profiles),function(prof,idx){return _c('li',{key:prof.name,staticClass:\"list-group-item list-group-item-action pl-3 pr-2\",class:{ sel: prof.name === _vm.profile.current }},[_c('div',{staticClass:\"form-row no-gutters justify-content-between\",staticStyle:{\"flex-wrap\":\"nowrap\"},on:{\"click\":function($event){return _vm.selectProfile(prof.name)}}},[_c('div',{staticClass:\"col-xs-auto mr-auto\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"id\":'1' + idx}},[(_vm.newName[idx] === null)?_c('span',{on:{\"dblclick\":function($event){return _vm.$set(_vm.newName, idx, prof.name)}}},[_c('strong',[_vm._v(_vm._s(prof.name))]),_vm._v(\" \"),_c('br'),_vm._l((_vm.getMeta(prof.name)),function(field){return _c('small',{key:field,staticClass:\"text-muted\"},[_vm._v(_vm._s(field)+\" \"),_c('br')])})],2):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newName[idx]),expression:\"newName[idx]\"}],staticClass:\"form-control form-control-inline form-control-sm\",staticStyle:{\"width\":\"95%\"},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.newName[idx])},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.renameProfile(prof.name, idx)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$set(_vm.newName, idx, null)}],\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newName, idx, $event.target.value)}}})]),_c('div',{staticClass:\"col-xs-auto text-right\",staticStyle:{\"font-size\":\"16px\"}},[(_vm.profile.tokenType)?_c('i',{staticClass:\"fas fa-cloud click-icon mr-1\",class:prof.remote ? 'text-success' : 'text-warning',attrs:{\"title\":_vm.getRemoteStatusString(prof.remote)},on:{\"click\":function($event){$event.stopPropagation();return _vm.updateRemoteStatus(prof)}}}):_vm._e(),(!_vm.profile.tokenType || _vm.profile.isLatest(idx))?[(_vm.newName[idx] === null)?_c('i',{staticClass:\"fas fa-edit click-icon\",attrs:{\"title\":\"rename this profile\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$set(_vm.newName, idx, prof.name)}}}):_c('i',{staticClass:\"fas fa-check click-icon\",attrs:{\"title\":\"confirm renaming\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.renameProfile(prof.name, idx)}}}),(_vm.newName[idx] === null && _vm.profile.profiles.length > 1)?_c('i',{staticClass:\"fa fa-times ml-1 click-icon\",attrs:{\"title\":\"delete this profile\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteProfile(prof.name, idx)}}}):_vm._e()]:(_vm.profile.tokenType && prof.remote && !_vm.profile.isLatest(idx))?[_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",attrs:{\"title\":\"Keep this version of the profile\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.keepVersion(prof.name)}}},[_vm._v(\" Keep \")])]:_vm._e(),(_vm.profile.tokenType && prof.remote)?_c('div',{staticClass:\"mt-2\",attrs:{\"title\":\"Checkout historical versions of this profile\"}},[_c('div',{staticClass:\"btn-group\"},[_c('button',{staticClass:\"btn btn-outline-dark btn-sm dropdown-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",\"disabled\":prof.name !== _vm.profile.current}},[_vm._v(\" v\"+_vm._s(prof.currentVersion)+\" \")]),_c('div',{staticClass:\"dropdown-menu\",staticStyle:{\"line-height\":\"12pt\"}},_vm._l((prof.versions),function(ver){return _c('a',{key:ver.version,staticClass:\"dropdown-item px-2 pb-1 pt-0\",class:{\n                                        active: ver.version === prof.currentVersion\n                                    },attrs:{\"href\":\"#\",\"title\":(\"Full user agent: \" + (ver.userAgent))},on:{\"click\":function($event){$event.stopPropagation();return _vm.switchVersion(prof.name, idx, ver.version)}}},[_c('div',{staticClass:\"row no-gutters align-items-center\",staticStyle:{\"flex-wrap\":\"nowrap\"}},[_c('div',{staticClass:\"col col-2 mr-1 h-100\"},[_vm._v(\" v\"+_vm._s(ver.version)+\" \")]),_c('div',{staticClass:\"col col-10 ua-cell text-right\"},[_c('small',[_vm._v(\" \"+_vm._s(new Date(ver.modified).toLocaleString())+\" \"),_c('br'),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.getParsedUA(ver.userAgent))}})])])])])}),0)])]):_vm._e()],2)])])}),0),(_vm.profile.tokenType)?_c('div',{staticClass:\"w-100 text-center my-2\"},[_c('button',{staticClass:\"btn btn-outline-primary\",attrs:{\"title\":(\"Close connection to \" + _vm.backendName)},on:{\"click\":function($event){return _vm.profile.logout()}}},[_vm._v(\" Logout \")]),_c('div',[_c('small',{staticClass:\"text-muted\"},[_vm._v(\" You profiles are synchronizd with \"+_vm._s(_vm.backendName)+\" \")])])]):(_vm.allowBackend)?_c('div',{staticClass:\"w-100 my-2 text-center\"},[_c('button',{staticClass:\"btn btn-outline-primary mx-3\",on:{\"click\":function($event){return _vm.profile.loginBackend()}}},[_vm._v(\" Login to Hoosmyprofessor \")])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\" JSON: Can be imported later \"),_c('br'),_vm._v(\" iCal: Supported by most calendar apps \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\" URL can be shared easily \"),_c('br'),_vm._v(\" Print your currently rendered schedule \")])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components/tabs\n */\n\n/**\n *\n */\nimport { backend } from '@/config';\nimport Store, { compressJSON, SemesterStorage } from '@/store';\nimport { savePlain, toICal } from '@/utils';\nimport lz from 'lz-string';\nimport { Component } from 'vue-property-decorator';\nimport UAParser from 'ua-parser-js';\nimport { LocalProfileEntry } from '@/store/profile';\n\n/**\n * component for import/export/print schedules and managing profiles\n * @author Hanzhi Zhou, Kaiying Shan\n * @noInheritDoc\n */\n@Component\nexport default class ExportView extends Store {\n    newName: (string | null)[] = [];\n\n    get backendName() {\n        return backend.name;\n    }\n\n    get allowBackend() {\n        return window.location.protocol !== 'file:' || backend.oauth_on_electron;\n    }\n\n    /**\n     * parse an user-friendly string indicating OS/device type from the user agent\n     * @param ua\n     */\n    getParsedUA(ua: string) {\n        const parser = new UAParser(ua);\n        const result = parser.getResult();\n        let result_str = '&nbsp;';\n        if (result.os.name && result.os.version)\n            result_str += result.os.name + ' ' + result.os.version;\n        if (result.device.vendor) result_str += ' | ' + result.device.vendor;\n        if (result.browser.name && result.browser.version)\n            result_str += '<br />&nbsp;' + result.browser.name + ' ' + result.browser.version;\n        return result_str;\n    }\n\n    async updateRemoteStatus(prof: LocalProfileEntry) {\n        if (!prof.remote) {\n            const msg = await this.profile.uploadProfile([\n                {\n                    name: prof.name,\n                    profile: localStorage.getItem(prof.name)!\n                }\n            ]);\n            if (msg) return this.noti.notify(msg);\n            prof.remote = true;\n        } else {\n            if (\n                confirm(\n                    `If you disable sync for this profile (${prof.name}), it will be deleted from ${backend.name} and your other devices that enabled sync. Are you sure?`\n                )\n            ) {\n                const msg = await this.profile.deleteRemote(prof.name);\n                if (msg.level === 'error') {\n                    return this.noti.notify(msg);\n                } else if (msg.level === 'warn') {\n                    this.noti.notify(msg);\n                }\n                prof.remote = false;\n            }\n        }\n    }\n\n    getRemoteStatusString(remote: boolean) {\n        const msg1 = remote ? 'synced' : 'not synced';\n        const msg2 = remote ? 'unsync' : 'sync';\n        return `This profile is currently ${msg1} with ${backend.name}. Click me to ${msg2}.`;\n    }\n\n    created() {\n        this.newName = this.profile.profiles.map(() => null);\n    }\n    /**\n     * get the meta data of a profile\n     * @param obj the name of the profile or the already-parsed profile\n     */\n    getMeta(obj: string | SemesterStorage) {\n        let parsed: Partial<SemesterStorage> | null = null;\n        const meta = [];\n        if (typeof obj === 'string') {\n            const data = localStorage.getItem(obj);\n            if (data) {\n                try {\n                    parsed = JSON.parse(data);\n                } catch (err) {\n                    console.error(err);\n                }\n            }\n        } else {\n            parsed = obj;\n        }\n        if (parsed) {\n            if (parsed.modified) meta.push(new Date(parsed.modified).toLocaleString());\n            if (parsed.currentSemester) meta.push(parsed.currentSemester.name);\n        }\n        if (!meta.length) meta.push('Data Corruption');\n        return meta;\n    }\n\n    onUploadJson(event: { target: EventTarget | null }) {\n        const input = event.target as HTMLInputElement;\n        const { files } = input;\n        if (!files) return;\n\n        const reader = new FileReader();\n        reader.onload = async () => {\n            if (reader.result) {\n                const { profiles } = this.profile;\n                const prevLen = profiles.length;\n                try {\n                    this.profile.addProfile(reader.result.toString(), files[0].name);\n                    // unequal length: new profile name added\n                    if (prevLen !== profiles.length) this.newName.push(null);\n                } catch (err) {\n                    this.noti.error(err.message + ': Parsing error');\n                }\n                await this.loadProfile();\n            } else {\n                this.noti.warn('File is empty!');\n            }\n            input.value = '';\n        };\n\n        try {\n            reader.readAsText(files[0]);\n        } catch (error) {\n            console.error(error);\n            this.noti.error(error.message);\n        }\n    }\n    saveToJson() {\n        if (!this.semester.currentSemester) return;\n        const { current } = this.profile;\n        const json = localStorage.getItem(this.profile.current);\n        if (json) savePlain(json, current + '.json');\n    }\n    saveToIcal() {\n        savePlain(toICal(this.schedule.currentSchedule), this.profile.current + '.ics');\n    }\n    exportToURL() {\n        if (!this.semester.currentSemester) return;\n        const json = localStorage.getItem(this.profile.current);\n        if (json) {\n            const url = new URL(window.location.href);\n            const compressed = compressJSON(json);\n            url.searchParams.set(\n                'config',\n                lz.compressToEncodedURIComponent(JSON.stringify(compressed))\n            );\n            this.modal.showURLModal(url.href);\n        }\n    }\n\n    async deleteProfile(name: string, idx: number) {\n        if (confirm(`Are you sure to delete ${name}?`)) {\n            const msg = await this.profile.deleteProfile(name, idx);\n            this.newName.pop();\n            if (msg.level !== 'success') return this.noti.notify(msg);\n            // if the deleted profile is the current profile, reload the newly selected current profile\n            if (msg.payload) this.loadProfile();\n        }\n    }\n    selectProfile(profileName: string) {\n        if (profileName === this.profile.current) return;\n        const item = localStorage.getItem(profileName);\n        if (!item) return;\n        if (this.profile.tokenType) {\n            // set previously selected profile to its latest version, if not already\n            this.noti.clear();\n            const idx = this.profile.profiles.findIndex(p => p.name === this.profile.current);\n            if (!this.profile.isLatest(idx)) {\n                this.profile.profiles[idx].currentVersion = this.profile.profiles[\n                    idx\n                ].versions[0].version;\n                localStorage.setItem(\n                    this.profile.current,\n                    localStorage.getItem('backup-' + this.profile.current)!\n                );\n                localStorage.removeItem('backup-' + this.profile.current);\n            }\n        }\n        this.profile.current = profileName;\n        this.loadProfile();\n        this.$forceUpdate();\n    }\n    async switchVersion(name: string, idx: number, version: number) {\n        this.profile.profiles[idx].currentVersion = version;\n        const remote = await this.profile.getRemoteProfile(name, version);\n        if (remote.level === 'error') return this.noti.notify(remote);\n\n        // backup the current profile, in case we need to switch back\n        localStorage.setItem('backup-' + name, localStorage.getItem(name)!);\n        localStorage.setItem(name, remote.payload!.profile);\n        this.loadProfile();\n        if (!this.profile.isLatest(idx))\n            this.noti.warn(\n                `You checked out a historical version your profile. Your changes to this profile will not be saved or synchronized with ${backend.name} unless you click \"Keep\".`,\n                3600,\n                true\n            );\n        this.$forceUpdate();\n    }\n    async keepVersion(name: string) {\n        // make sure that the profile's modified time is changed to the latest so it can overwrite profiles on other synced devices\n        const _profile: SemesterStorage = JSON.parse(localStorage.getItem(name)!);\n        _profile.modified = new Date().toJSON();\n        const profile = JSON.stringify(_profile);\n        localStorage.setItem(name, profile);\n        const msg = await this.profile.uploadProfile([\n            {\n                name,\n                profile,\n                new: true\n            }\n        ]);\n        if (msg) return this.noti.notify(msg);\n        localStorage.removeItem('backup-' + name);\n        this.noti.clear();\n        this.$forceUpdate();\n    }\n    async renameProfile(oldName: string, idx: number) {\n        const raw = localStorage.getItem(oldName);\n        if (!raw) return;\n\n        const newName = this.newName[idx];\n        if (!newName) return this.$set(this.newName, idx, null);\n        if (newName !== oldName) {\n            if (this.profile.profiles.find(p => p.name === newName))\n                return this.noti.error('Duplicated name!');\n            if (\n                !this.profile.profiles[idx].remote ||\n                confirm(\n                    'If you rename a synced profile, all its history will be lost. Are you sure?'\n                )\n            ) {\n                const msg = await this.profile.renameProfile(idx, oldName, newName, raw);\n                if (msg) return this.noti.notify(msg);\n            }\n        }\n        this.$set(this.newName, idx, null);\n    }\n\n    print() {\n        window.print();\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ExportView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ExportView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ExportView.vue?vue&type=template&id=f9d92e78&scoped=true&\"\nimport script from \"./ExportView.ts?vue&type=script&lang=ts&\"\nexport * from \"./ExportView.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./ExportView.vue?vue&type=style&index=0&id=f9d92e78&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f9d92e78\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{attrs:{\"id\":\"external-bar\"}},[_c('h2',{staticClass:\"my-4\"},[_vm._v(\"This page is intentionally left blank\")]),_c('div',{staticClass:\"w-100\"},[_c('img',{staticClass:\"w-75\",attrs:{\"src\":require(\"../../assets/placeholder.jpg\"),\"alt\":\"\"}})])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nexport default Vue.extend({});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./External.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./External.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./External.vue?vue&type=template&id=823ab73c&scoped=true&\"\nimport script from \"./External.vue?vue&type=script&lang=ts&\"\nexport * from \"./External.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./External.vue?vue&type=style&index=0&id=823ab73c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"823ab73c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Filters \")]),_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},[_c('li',{staticClass:\"list-group-item px-3\",attrs:{\"title\":\"Time periods when you don't want to have class\"}},[_vm._v(\" No Class Time \"),_c('div',{staticClass:\"click-icon px-4\",staticStyle:{\"float\":\"right\"},attrs:{\"title\":\"Click to add a time period when you don't want to have class\"},on:{\"click\":function($event){return _vm.filter.addTimeSlot()}}},[_c('i',{staticClass:\"fas fa-plus\"})])]),_vm._l((_vm.filter.timeSlots),function(value,i){return _c('li',{key:i,staticClass:\"list-group-item p-1\"},[_c('div',{staticClass:\"btn-group btn-days my-2\",attrs:{\"role\":\"group\"}},_vm._l((_vm.days),function(day,j){return _c('button',{key:j,class:'btn btn-outline-secondary' + (value[j] ? ' active' : ''),attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateFilterDay(i, +j)}}},[_vm._v(\" \"+_vm._s(day)+\" \")])}),0),_c('div',{staticClass:\"form-group row no-gutters align-items-center text-center mb-2\"},[_c('div',{staticClass:\"col col-5 align-self-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(value[7]),expression:\"value[7]\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"time\"},domProps:{\"value\":(value[7])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(value, 7, $event.target.value)}}})]),_c('div',{staticClass:\"col col-1 align-self-center\"},[_vm._v(\"-\")]),_c('div',{staticClass:\"col col-5\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(value[8]),expression:\"value[8]\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"time\"},domProps:{\"value\":(value[8])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(value, 8, $event.target.value)}}})]),_c('div',{staticClass:\"col col-1 align-self-center\"},[_c('i',{staticClass:\"fas fa-times click-icon\",staticStyle:{\"font-size\":\"1.25rem\"},on:{\"click\":function($event){return _vm.filter.removeTimeSlot(i)}}})])])])}),_c('li',{staticClass:\"list-group-item\"},[_c('div',{staticClass:\"custom-control custom-checkbox my-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.allowWaitlist),expression:\"filter.allowWaitlist\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"awt\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filter.allowWaitlist)?_vm._i(_vm.filter.allowWaitlist,null)>-1:(_vm.filter.allowWaitlist)},on:{\"change\":function($event){var $$a=_vm.filter.allowWaitlist,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"allowWaitlist\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"allowWaitlist\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"allowWaitlist\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"awt\"}},[_vm._v(\"Allow Wait List\")])]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.allowClosed),expression:\"filter.allowClosed\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"ac\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filter.allowClosed)?_vm._i(_vm.filter.allowClosed,null)>-1:(_vm.filter.allowClosed)},on:{\"change\":function($event){var $$a=_vm.filter.allowClosed,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"allowClosed\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"allowClosed\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"allowClosed\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"ac\"}},[_vm._v(\"Allow Closed\")])])]),_c('li',{staticClass:\"list-group-item\"},[_c('button',{staticClass:\"btn btn-outline-info w-100\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.generateSchedules()}}},[_vm._v(\" Apply \")])]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Sort Priority \")]),_c('li',{staticClass:\"list-group-item px-3\",attrs:{\"title\":\"Note that you can drag sort options to change their priority in fallback mode\"}},[_vm._v(\" Sort According to \")]),_c('draggable',{on:{\"end\":function($event){return _vm.dragEnd()}},model:{value:(_vm.filter.sortOptions.sortBy),callback:function ($$v) {_vm.$set(_vm.filter.sortOptions, \"sortBy\", $$v)},expression:\"filter.sortOptions.sortBy\"}},_vm._l((_vm.filter.sortOptions.sortBy),function(option,optIdx){return _c('div',{key:option.name,staticClass:\"list-group-item py-1 pl-3 pr-0\"},[_c('div',{staticClass:\"row no-gutters w-100\"},[_c('div',{staticClass:\"col col-sm-10 drag-handle\",attrs:{\"title\":option.description}},[_c('span',{staticStyle:{\"cursor\":\"pointer\"}},[_vm._v(\" \"+_vm._s(option.title)+\" \")]),(!_vm.getSortOptRange(option.name))?_c('span',{staticClass:\"ml-1 text-warning\",attrs:{\"title\":(\"Enabling this sort option has no effect, because all schedules have the same '\" + (option.title.toLowerCase()) + \"'\")}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})]):_vm._e(),(_vm.filter.sortOptions.mode === 1 && option.enabled)?_c('div',{staticClass:\"input-group input-group-sm\",staticStyle:{\"width\":\"80%\"}},[_c('div',{staticClass:\"input-group-prepend\"},[_c('span',{staticClass:\"input-group-text\"},[_vm._v(\"Weight\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(option.weight),expression:\"option.weight\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"0.1\",\"max\":\"10\",\"step\":\"0.1\"},domProps:{\"value\":(option.weight)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(option, \"weight\", $event.target.value)}}})]):_vm._e()]),_c('div',{staticClass:\"col col-sm-2\"},[_c('i',{staticClass:\"fas mr-2 click-icon\",class:option.reverse ? 'fa-arrow-down' : 'fa-arrow-up',attrs:{\"title\":\"Click to reverse sorting\"},on:{\"click\":function($event){option.reverse = !option.reverse;\n                                _vm.changeSorting(+optIdx);}}}),_c('div',{staticClass:\"custom-control custom-checkbox\",staticStyle:{\"display\":\"inline-block\",\"cursor\":\"pointer\"}},[(option.name === 'similarity' && !_vm.filter.similarityEnabled)?_c('input',{staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"disabled\":\"\"},domProps:{\"value\":option.name},on:{\"click\":function($event){return _vm.noti.info(\n                                        'To enable sort by similarity, please first set a reference schedule in the compare tab',\n                                        3,\n                                        true\n                                    )}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(option.enabled),expression:\"option.enabled\"}],staticClass:\"custom-control-input\",attrs:{\"id\":option.name,\"type\":\"checkbox\"},domProps:{\"value\":option.name,\"checked\":Array.isArray(option.enabled)?_vm._i(option.enabled,option.name)>-1:(option.enabled)},on:{\"change\":[function($event){var $$a=option.enabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=option.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(option, \"enabled\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(option, \"enabled\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(option, \"enabled\", $$c)}},function($event){return _vm.changeSorting(+optIdx)}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":option.name,\"title\":\"Enable this sorting option\"}})])])])])}),0),_c('li',{staticClass:\"list-group-item\"},[_vm._l((_vm.filter.sortModes),function(mode){return [_c('div',{key:'sm' + mode.mode,staticClass:\"custom-control custom-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.filter.sortOptions.mode),expression:\"filter.sortOptions.mode\",modifiers:{\"number\":true}}],staticClass:\"custom-control-input\",attrs:{\"id\":'sm' + mode.mode,\"type\":\"radio\"},domProps:{\"value\":mode.mode,\"checked\":_vm._q(_vm.filter.sortOptions.mode,_vm._n(mode.mode))},on:{\"change\":[function($event){_vm.$set(_vm.filter.sortOptions, \"mode\", _vm._n(mode.mode))},function($event){return _vm.changeSorting(undefined)}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":'sm' + mode.mode,\"title\":mode.description}},[_vm._v(_vm._s(mode.title)+\" \")])])]})],2)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module src/components/tabs\n */\n\n/**\n *\n */\nimport { DAYS } from '@/models/Schedule';\nimport Store from '@/store';\nimport { Component } from 'vue-property-decorator';\nimport draggable from 'vuedraggable';\nimport { SortFunctions } from '@/algorithm/ScheduleEvaluator';\n\n/**\n * the component for editing and applying filters\n * @author Hanzhi Zhou, Kaiying Shan\n * @noInheritDoc\n */\n@Component({\n    components: {\n        draggable\n    }\n})\nexport default class FilterView extends Store {\n    get days() {\n        return DAYS;\n    }\n\n    dragEnd() {\n        if (this.filter.sortOptions.mode === 0) this.changeSorting();\n    }\n\n    /**\n     * negate the boolean value at `this.timeSlots[i][j]`\n     * @param i the index of the time filter\n     * @param j the index of the day (0 to 7)\n     */\n    updateFilterDay(i: number, j: number) {\n        this.$set(this.filter.timeSlots[i], j, !this.filter.timeSlots[i][j]);\n    }\n\n    getSortOptRange(name: keyof SortFunctions) {\n        const cache = window.scheduleEvaluator.sortCoeffCache[name];\n        return cache ? cache[1] - cache[2] : -1; // max - min\n    }\n\n    /**\n     * get called when the sort mode changed or sort option at `optIdx` changed.\n     * call [[ScheduleEvaluator.sort]]. Moreover,\n     * - if a sort option changed, also disable options that are mutually exclusive to that one.\n     * - if the sort mode changed, do nothing\n     * @param optIdx\n     */\n    changeSorting(optIdx?: number) {\n        if (!this.validateSortOptions()) return;\n        if (optIdx !== undefined) {\n            const option = this.filter.sortOptions.sortBy[optIdx];\n\n            if (option.enabled) {\n                for (const key of option.exclusive) {\n                    for (const opt of this.filter.sortOptions.sortBy) {\n                        if (opt.name === key) {\n                            opt.enabled = false; // option names are unique\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        if (!window.scheduleEvaluator.empty()) {\n            window.scheduleEvaluator.sort({ newOptions: this.filter.sortOptions });\n            if (!this.schedule.generated) {\n                this.schedule.switchSchedule(true);\n            } else {\n                // re-assign the current schedule\n                this.schedule.currentSchedule = window.scheduleEvaluator.getSchedule(\n                    this.schedule.currentScheduleIndex\n                );\n            }\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./FilterView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./FilterView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FilterView.vue?vue&type=template&id=f35961b0&\"\nimport script from \"./FilterView.ts?vue&type=script&lang=ts&\"\nexport * from \"./FilterView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\",attrs:{\"id\":\"palette-nav\"}},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Color Schemes \")]),_c('ul',{staticClass:\"list-group list-group-flush ml-2 mr-1 my-2 text-center schemes\"},_vm._l((_vm.colorSchemes),function(scheme,idx){return _c('li',{key:scheme.name,staticClass:\"list-group-item list-group-item-action px-1\",class:{ active: +idx === _vm.display.colorScheme },attrs:{\"id\":+idx === _vm.display.colorScheme ? 'scheme-active' : 'scheme-' + idx,\"title\":scheme.description},on:{\"click\":function($event){_vm.display.colorScheme = +idx}}},[_c('strong',[_vm._v(_vm._s(scheme.name))]),_c('div',{staticClass:\"row flex-nowrap no-gutters\"},_vm._l((scheme.colors),function(color){return _c('div',{key:color,staticClass:\"col\",style:({\n                        'background-color': color,\n                        color: color\n                    })},[_vm._v(\" 1 \")])}),0)])}),0),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Palette \")]),_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},[(_vm.numColors())?_vm._l((_vm.courseColors()),function(pair,idx){return _c('li',{key:idx,staticClass:\"list-group-item py-1 px-2\"},[_c('div',{staticClass:\"row no-gutters justify-content-between w-100 my-1\"},[_c('div',{staticClass:\"col-sm-auto mr-auto\",staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\" \"+_vm._s(_vm.convertKey(pair[0]))+\" \")]),_c('div',{staticClass:\"col-sm-auto align-self-center\"},[_c('i',{staticClass:\"fas fa-times click-icon mr-2\",staticStyle:{\"font-size\":\"1.1rem\"},attrs:{\"title\":\"reset to default\"},on:{\"click\":function($event){return _vm.$delete(_vm.palette.savedColors, pair[0])}}}),_c('i',{staticClass:\"fas fa-sync-alt click-icon mr-1\",attrs:{\"title\":\"get a random color\"},on:{\"click\":function($event){return _vm.randColor(pair[0])}}}),_c('input',{staticStyle:{\"width\":\"30px\"},attrs:{\"type\":\"color\"},domProps:{\"value\":pair[1]},on:{\"change\":function($event){return _vm.set(pair[0], $event.target.value)}}})])])])}):_c('li',{staticClass:\"list-group-item\"},[_vm._v(\" You can only customize colors of things displayed in your schedule. Please select your classes and generate your schedules, then come back to change the color for them. \")])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module src/components/tabs\n */\n\n/**\n *\n */\nimport Schedule from '@/models/Schedule';\nimport Store from '@/store';\nimport randomColor from 'randomcolor';\nimport { Component } from 'vue-property-decorator';\nimport colorSchemes from '@/data/ColorSchemes';\n\n/**\n * the component for customizing colors of classes and events\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class Palette extends Store {\n    get colorSchemes() {\n        return colorSchemes;\n    }\n    mounted() {\n        document.getElementById('scheme-active')!.scrollIntoView();\n        document.getElementById('palette-nav')!.scroll(0, 0);\n    }\n    set(key: string, color: string) {\n        this.$set(this.palette.savedColors, key, color);\n    }\n    randColor(key: string) {\n        this.$set(this.palette.savedColors, key, randomColor({ luminosity: 'dark' }));\n    }\n\n    colorEntries() {\n        return Object.entries(this.palette.savedColors).filter(entry =>\n            this.schedule.currentSchedule.has(entry[0], true)\n        );\n    }\n    /**\n     * get the number of events and courses that have colors in total\n     */\n    numColors() {\n        return (\n            this.colorEntries().length +\n            this.schedule.currentSchedule.colorSlots.reduce((acc, x) => x.size + acc, 0)\n        );\n    }\n    /**\n     * @note colors must always be recomputed because `Schedule.savedColors` is not a reactive property\n     */\n    courseColors() {\n        const colors = Schedule.colors;\n        return this.colorEntries()\n            .concat(\n                this.schedule.currentSchedule.colorSlots.reduce<[string, string][]>(\n                    (arr, bucket, i) => {\n                        for (const key of bucket) {\n                            if (\n                                !(key in this.palette.savedColors) &&\n                                this.schedule.currentSchedule.has(key, true)\n                            ) {\n                                arr.push([key, colors[i]]);\n                            }\n                        }\n                        return arr;\n                    },\n                    []\n                )\n            )\n            .sort((a, b) => (a[0] === b[0] ? 0 : a[0] < b[0] ? -1 : 1));\n    }\n    convertKey(key: string) {\n        return window.catalog.convertKey(key, this.schedule.currentSchedule);\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./PaletteView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./PaletteView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PaletteView.vue?vue&type=template&id=73b95f5c&scoped=true&\"\nimport script from \"./PaletteView.ts?vue&type=script&lang=ts&\"\nexport * from \"./PaletteView.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./PaletteView.vue?vue&type=style&index=0&id=73b95f5c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73b95f5c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_vm._m(0),_c('div',{staticClass:\"input-group mt-2\"},[(_vm.realtime)?_c('input',{ref:\"classSearch\",staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"text\",\"placeholder\":\"Title/Topic/Prof./Desc.\",\"disabled\":!_vm.workerLoaded},on:{\"input\":function($event){return _vm.onInput($event.target.value)},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getClass($event.target.value)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.closeClassList()}}}):_c('input',{ref:\"classSearch\",staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"text\",\"placeholder\":\"Title/Topic/Prof./Desc.\",\"disabled\":!_vm.workerLoaded},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getClass($event.target.value)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.closeClassList()}}}),_c('div',{staticClass:\"input-group-append\"},[(_vm.loading)?_c('div',{staticClass:\"spinner-border my-auto text-primary mx-1\",staticStyle:{\"width\":\"1.4rem\",\"height\":\"1.4rem\"},attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]):_c('span',{staticClass:\"input-group-text px-2 click-icon\"},[_c('i',{staticClass:\"fas fa-search\"})])])]),(_vm.inputCourses.length)?_c('div',{ref:\"classList\",staticClass:\"card card-body p-1\"},[_c('ClassList',{ref:\"enteringClassList\",attrs:{\"courses\":_vm.inputCourses,\"matches\":_vm.inputMatches,\"schedule\":_vm.schedule.currentSchedule,\"is-entering\":true,\"show-classlist-title\":_vm.display.showClasslistTitle,\"expand-on-entering\":_vm.display.expandOnEntering},on:{\"update-course\":_vm.updateCourse,\"course-modal\":function($event){return _vm.modal.showCourseModal($event.crs, $event.match)},\"close\":function($event){return _vm.closeClassList()}}})],1):_c('div',{staticClass:\"mx-3 my-2\"},[_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(1),_c('div',[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.realtime),expression:\"realtime\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"realtime\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.realtime)?_vm._i(_vm.realtime,null)>-1:(_vm.realtime)},on:{\"change\":function($event){var $$a=_vm.realtime,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.realtime=$$a.concat([$$v]))}else{$$i>-1&&(_vm.realtime=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.realtime=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"realtime\"}})])])]),_vm._m(2)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-info nav-btn\"},[_vm._v(\" Fuzzy Search \"),_c('span',{staticClass:\"badge badge-secondary\"},[_vm._v(\"Beta\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"realtime\"}},[_c('small',[_vm._v(\"Real Time\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',{staticClass:\"pl-2\"},[_c('li',{staticClass:\"mb-2 pl-1\"},[_vm._v(\" You should use fuzzy search only when you want do an \"),_c('b',[_vm._v(\"approximate\")]),_vm._v(\" match to your query. If you know exactly what your target course's course number/title/etc., please use the ordinary search instead. \")]),_c('li',{staticClass:\"mb-2 pl-1\"},[_vm._v(\" Searching for course numbers (e.g. CS 2102) is not supported. \")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components/tabs\n */\n\n/**\n *\n */\nimport { SearchMatch } from '@/models/Catalog';\nimport Course from '@/models/Course';\nimport Store from '@/store';\nimport { Component, Vue } from 'vue-property-decorator';\nimport ClassList from '../ClassList.vue';\n\n/**\n * component for performing fuzzy-search against the catalog of courses\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component({\n    components: {\n        ClassList\n    }\n})\nexport default class FuzzyView extends Store {\n    inputCourses: Course[] = [];\n    inputMatches: SearchMatch[] = [];\n\n    /**\n     * represent the current state of the fuzzy search component.\n     * disable the input box if true\n     */\n    loading = false;\n\n    workerLoaded = !!window.catalog.worker;\n\n    realtime = true;\n\n    /**\n     * initialize catalog's search worker if it is not yet initialized\n     */\n    async initWorker() {\n        if (!window.catalog.worker) {\n            this.loading = true;\n            this.noti.info('Gathering data for fuzzy search...');\n            await window.catalog.initWorker();\n            this.noti.success('Successfully initialized fuzzy search!', 2.5);\n            this.loading = false;\n            this.workerLoaded = true;\n        }\n    }\n\n    mounted() {\n        if (!this.workerLoaded) this.initWorker();\n    }\n\n    destroyed() {\n        if (this.workerLoaded) this.disposeWorker();\n    }\n\n    onInput(query: string) {\n        if (this.realtime) this.getClass(query);\n        else if (!query) this.getClass('');\n    }\n\n    disposeWorker() {\n        window.catalog.disposeWorker();\n        this.workerLoaded = false;\n    }\n\n    /**\n     * get classes that match the input query.\n     * clear search results on falsy parameter.\n     *\n     * if a generated schedule is displayed, switch to proposed schedule,\n     * because we're adding stuff to the proposed schedule\n     *\n     * @see Catalog.search\n     */\n    async getClass(query: string) {\n        if (!query) {\n            this.inputCourses = [];\n            this.inputMatches = [];\n            return;\n        }\n        this.loading = true;\n        if (this.schedule.generated) this.schedule.switchSchedule(false);\n        window.catalog.initWorker();\n\n        console.time('query');\n        try {\n            [this.inputCourses, this.inputMatches] = await window.catalog.fuzzySearch(query);\n        } catch (err) {\n            this.noti.error(err.message);\n            console.error(err);\n        } finally {\n            this.loading = false;\n            console.timeEnd('query');\n        }\n    }\n\n    closeClassList() {\n        (this.$refs.classSearch as HTMLInputElement).value = '';\n        this.getClass('');\n    }\n\n    /**\n     * @see Schedule.update\n     */\n    updateCourse(key: string, section: number, group = 0, remove = false) {\n        this.schedule.currentSchedule.update(key, section, group, remove);\n\n        // note: adding a course to schedule.All cannot be detected by Vue.\n        // Must use forceUpdate to re-render component\n        const classList = this.$refs.enteringClassList;\n        if (classList instanceof Vue) (classList as Vue).$forceUpdate();\n        this.saveStatus();\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./FuzzyView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./FuzzyView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FuzzyView.vue?vue&type=template&id=9ab6afb6&\"\nimport script from \"./FuzzyView.ts?vue&type=script&lang=ts&\"\nexport * from \"./FuzzyView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\" Log History \")]),_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},_vm._l((_vm.noti.history),function(item,idx){return _c('li',{key:idx,staticClass:\"list-group-item pt-1 pb-2 px-2 my-0\"},[_c('span',{class:(\"text-\" + (item.cls)),domProps:{\"innerHTML\":_vm._s(item.msg)}}),_vm._v(\" \"),_c('br'),_c('small',{staticClass:\"text-muted\"},[_c('span',{staticClass:\"px-2 py-1\",class:(\"bg-\" + (item.cls)),staticStyle:{\"color\":\"white\"}},[_vm._v(_vm._s(item.cls === 'danger' ? 'error' : item.cls))]),_vm._v(\" \"+_vm._s(item.stamp)+\" \")])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module src/components/tabs\n */\n\n/**\n *\n */\nimport Store from '@/store';\nimport { Component } from 'vue-property-decorator';\n\n/**\n * component for displaying log history\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class LogView extends Store {}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./LogView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./LogView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LogView.vue?vue&type=template&id=e1bd2eb8&\"\nimport script from \"./LogView.ts?vue&type=script&lang=ts&\"\nexport * from \"./LogView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn-group\",attrs:{\"role\":\"group\"}},[_vm._l((_vm.curSchedule.dateSeparators.length - 1),function(idx){return _c('button',{key:idx,staticClass:\"btn btn-outline-primary\",on:{\"click\":function($event){return _vm.selectInterval(idx)}}},[_vm._v(\" \"+_vm._s(_vm.convDate(_vm.curSchedule.dateSeparators[+idx - 1]))+\" - \"+_vm._s(_vm.convDate(_vm.curSchedule.dateSeparators[+idx], -1))+\" \"),(_vm.curSchedule.dateSelector === idx)?_c('i',{staticClass:\"fas fa-check\"}):_vm._e()])}),_c('button',{staticClass:\"btn btn-outline-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.selectInterval(-1)}}},[_vm._v(\" Show All Classes \"),(_vm.curSchedule.dateSelector === -1)?_c('i',{staticClass:\"fas fa-check\"}):_vm._e()])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * @module src/components\r\n */\r\n\r\n/**\r\n * @author Kaiying Cat\r\n * @noInheritDoc\r\n */\r\nimport Schedule from '@/models/Schedule';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport default class DateSeparator extends Vue {\r\n    @Prop(Object) curSchedule!: Schedule;\r\n    public selectInterval(idx: number) {\r\n        this.curSchedule.dateSelector = idx;\r\n        this.curSchedule.computeSchedule();\r\n    }\r\n\r\n    public convDate(n: number, offset = 0) {\r\n        const date = new Date(n + offset * 24 * 60 * 60 * 1000);\r\n        return (\r\n            (date.getMonth() + 1).toString().padStart(2, '0') +\r\n            '/' +\r\n            date\r\n                .getDate()\r\n                .toString()\r\n                .padStart(2, '0')\r\n        );\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./DateSeparator.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./DateSeparator.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DateSeparator.vue?vue&type=template&id=7aa2bc04&\"\nimport script from \"./DateSeparator.ts?vue&type=script&lang=ts&\"\nexport * from \"./DateSeparator.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',[_c('ul',{staticClass:\"pagination justify-content-center\",staticStyle:{\"margin-bottom\":\"0\"}},[_c('li',{staticClass:\"input-group\",staticStyle:{\"width\":\"80px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.goto),expression:\"goto\",modifiers:{\"number\":true}}],staticClass:\"form-control\",staticStyle:{\"border-radius\":\"4px 0px 0px 4px !important\"},attrs:{\"type\":\"number\",\"min\":\"1\",\"step\":\"1\",\"placeholder\":\"Go to\"},domProps:{\"value\":(_vm.goto)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }_vm.goto = 1},\"input\":function($event){if($event.target.composing){ return; }_vm.goto=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('li',{staticClass:\"page-item\",class:{ disabled: _vm.start <= 0 && _vm.idx <= _vm.start }},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.switchPage(_vm.idx - 1)}}},[_vm._v(\"\")])]),_vm._l((_vm.length),function(index){return _c('li',{key:index,staticClass:\"page-item\",class:{ active: _vm.idx === index + _vm.start - 1 }},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.switchPage(index + _vm.start - 1)}}},[_vm._v(\" \"+_vm._s(index + _vm.start)+\" \")])])}),_c('li',{staticClass:\"page-item\",class:{ disabled: _vm.idx >= _vm.scheduleLength - 1 }},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.switchPage(_vm.idx + 1)}}},[_vm._v(\"\")])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport { Component, Watch } from 'vue-property-decorator';\nimport Store from '../store';\n\n/**\n * The component for showing a list of pages, used for switching between generated schedules\n * @author Kaiying Cat, Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class Pagination extends Store {\n    get curIdx() {\n        return this.schedule.currentScheduleIndex;\n    }\n    get scheduleLength() {\n        return this.schedule.numGenerated;\n    }\n\n    get length() {\n        if (window.screen.width < 900) {\n            return this.scheduleLength < 3 ? this.scheduleLength : 3;\n        } else {\n            return this.scheduleLength < 10 ? this.scheduleLength : 10;\n        }\n    }\n\n    /**\n     * zero based schedule index\n     */\n    idx = 0;\n    /**\n     * zero based offset\n     */\n    start = 0;\n    goto: number | null = null;\n\n    @Watch('goto')\n    gotoWatch() {\n        this.switchPage((this.goto || 1) - 1);\n    }\n\n    updateStart() {\n        if (this.idx < this.start) {\n            this.start = this.idx;\n        } else if (this.idx >= this.start + this.length) {\n            this.start = this.idx - this.length + 1;\n        }\n        if (this.start < 0) this.start = 0;\n    }\n\n    switchPage(idx: number) {\n        idx = isNaN(idx) ? 0 : +idx;\n        if (idx >= this.scheduleLength) {\n            this.idx = this.scheduleLength - 1;\n        } else if (idx < 0) {\n            this.idx = 0;\n        } else {\n            this.idx = idx;\n        }\n        this.updateStart();\n        this.schedule.switchPage(this.idx);\n    }\n\n    @Watch('curIdx', { immediate: true })\n    autoSwitch() {\n        this.switchPage(this.curIdx);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./Pagination.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./Pagination.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=9bd05dec&\"\nimport script from \"./Pagination.ts?vue&type=script&lang=ts&\"\nexport * from \"./Pagination.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"course-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[(_vm.course)?_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",domProps:{\"innerHTML\":_vm._s(\n                        _vm.highlightMatch(_vm.course.displayName, 'key', _vm.match[0]) + ' ' + _vm.course.title\n                    )}}),_vm._m(0)]),_c('div',{staticClass:\"modal-body\"},[_c('h6',{domProps:{\"innerHTML\":_vm._s(_vm.highlightMatch(_vm.course.title, 'title', _vm.match[0]))}}),_c('div',{staticStyle:{\"width\":\"100%\",\"overflow-x\":\"auto\"}},[_c('table',{staticClass:\"m-color w-100\",attrs:{\"id\":\"sec-table\"}},[_c('tbody',_vm._l((_vm.course.sections),function(section){return _c('tr',{key:section.section},[_c('td',[_vm._v(_vm._s(section.id))]),_c('td',[_vm._v(_vm._s(section.section))]),_c('td',{domProps:{\"innerHTML\":_vm._s(\n                                        _vm.highlightMatch(\n                                            section.topic,\n                                            'topic',\n                                            _vm.match[1].get(section.id)\n                                        )\n                                    )}}),_c('td',{domProps:{\"innerHTML\":_vm._s(\n                                        _vm.highlightMatch(\n                                            section.instructors.join(', '),\n                                            'instructors',\n                                            _vm.match[1].get(section.id)\n                                        )\n                                    )}}),_c('td',[_vm._v(\" \"+_vm._s(section.dates)+\" \")]),_c('td',[_vm._l((section.meetings),function(meeting,idx){return [_vm._v(_vm._s(meeting.days)+\" \"),_c('br',{key:idx})]})],2),_c('td',[_vm._l((section.meetings),function(meeting,idx){return [_vm._v(_vm._s(meeting.room)+\" \"),_c('br',{key:idx})]})],2),_c('td',[_vm._v(_vm._s(section.status))]),_c('td',[_vm._v(\" \"+_vm._s(((section.enrollment) + \"/\" + (section.enrollment_limit) + \"/\" + (section.wait_list)))+\" \")])])}),0)])]),_c('p',{staticClass:\"mt-2\",domProps:{\"innerHTML\":_vm._s(_vm.highlightMatch(_vm.course.description, 'description', _vm.match[0]))}}),_c('hr',{staticClass:\"mb-2\"}),_c('h6',[_vm._v(\"External Links:\")]),(_vm.semester)?_c('div',_vm._l((_vm.links),function(item){return _c('button',{key:item.name,staticClass:\"btn btn-outline-info mr-2 mb-2\",on:{\"click\":function($event){return item.action(_vm.semester, _vm.course)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0):_vm._e()])]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport { modalLinks } from '@/config';\nimport { SearchMatch, SemesterJSON } from '@/models/Catalog';\nimport Course from '@/models/Course';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n/**\n * component for displaying detailed information of a Course along with all sections contained in it\n * @author Kaiying Shan, Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class CourseModal extends Vue {\n    get links() {\n        return modalLinks.course;\n    }\n    @Prop(Course) readonly course!: Course;\n    @Prop({ type: Array, default: [] }) readonly match!: SearchMatch;\n    @Prop(Object) readonly semester!: SemesterJSON;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./CourseModal.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./CourseModal.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CourseModal.vue?vue&type=template&id=9f64b4e8&scoped=true&\"\nimport script from \"./CourseModal.ts?vue&type=script&lang=ts&\"\nexport * from \"./CourseModal.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./CourseModal.vue?vue&type=style&index=0&id=9f64b4e8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9f64b4e8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"section-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[(_vm.section)?_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.section.displayName)+\" \"+_vm._s(_vm.section.id))]),_vm._m(0)]),_c('div',{staticClass:\"modal-body\"},[_c('h6',{domProps:{\"innerHTML\":_vm._s(_vm.section.title)}}),(_vm.section.topic)?_c('div',{staticClass:\"m-color\"},[_vm._v(_vm._s(_vm.section.topic))]):_vm._e(),_c('div',{staticClass:\"m-color\"},[_vm._v(_vm._s(_vm.section.type)+\" | \"+_vm._s(_vm.section.units)+\" units\")]),_c('div',{staticClass:\"m-color\"},[_vm._v(_vm._s(_vm.section.instructors.join(', ')))]),_c('div',{staticClass:\"m-color\"},[_vm._v(_vm._s(_vm.section.dates))]),_vm._l((_vm.section.meetings),function(meeting,idx){return _c('div',{key:idx,staticClass:\"m-color\"},[_vm._v(\" \"+_vm._s(meeting.days)+\" @ \"+_vm._s(meeting.room)+\" \")])}),_c('div',{staticClass:\"m-color\"},[_vm._v(\" Status: \"+_vm._s(_vm.section.status)+\" | Enrolled: \"+_vm._s(_vm.section.enrollment)+\" | Capacity: \"+_vm._s(_vm.section.enrollment_limit)+\" | Wait List: \"+_vm._s(_vm.section.wait_list)+\" \")]),_c('br'),_c('div',[_vm._v(_vm._s(_vm.section.description))]),_c('hr'),_c('h6',[_vm._v(\"External Links:\")]),(_vm.semester)?_c('div',{staticClass:\"mt-2\"},_vm._l((_vm.links),function(item){return _c('button',{key:item.name,staticClass:\"btn btn-outline-info mr-2 mb-2\",on:{\"click\":function($event){return item.action(_vm.semester, _vm.section)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0):_vm._e()],2)]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport { modalLinks } from '@/config';\nimport { SemesterJSON } from '@/models/Catalog';\nimport Section from '@/models/Section';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n/**\n * Component for displaying detailed information of a single Section\n * @author Kaiying Shan, Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class SectionModal extends Vue {\n    get links() {\n        return modalLinks.section;\n    }\n    @Prop(Section) readonly section!: Section;\n    @Prop(Object) readonly semester!: SemesterJSON;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./SectionModal.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./SectionModal.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SectionModal.vue?vue&type=template&id=732d59cc&\"\nimport script from \"./SectionModal.ts?vue&type=script&lang=ts&\"\nexport * from \"./SectionModal.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./SectionModal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"url-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(0),_c('div',{staticClass:\"modal-body\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.url),expression:\"url\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"url-text\",\"rows\":\"10\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value}}}),_c('button',{staticClass:\"btn btn-primary px-3 mt-3\",attrs:{\"id\":\"copy-url-btn\",\"data-toggle\":\"popover\",\"data-content\":\"success\"},on:{\"click\":function($event){return _vm.copy()}}},[_vm._v(\" Copy \")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h4',{staticClass:\"modal-title\"},[_vm._v(\"URL Sharing\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport 'bootstrap';\nimport $ from 'jquery';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n/**\n * component for displaying and copying URL created by [[ExportView]]\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class URLModal extends Vue {\n    @Prop(String) readonly url!: string;\n\n    handler = -1;\n\n    copy() {\n        const box = document.getElementById('url-text') as HTMLTextAreaElement;\n        const pop = $('#copy-url-btn');\n        box.focus();\n        box.select();\n        const succ = document.execCommand('copy');\n\n        if (!succ) console.error('unsuccessful copy');\n        else pop.popover('show');\n\n        window.clearTimeout(this.handler);\n        this.handler = window.setTimeout(() => pop.popover('dispose'), 2000);\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./URLModal.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./URLModal.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./URLModal.vue?vue&type=template&id=ae47dd88&\"\nimport script from \"./URLModal.ts?vue&type=script&lang=ts&\"\nexport * from \"./URLModal.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"versionModal\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\" Welcome to release v\"+_vm._s(_vm.version)+\" \")]),_vm._m(0)]),_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":require(\"../../assets/cover.jpg\"),\"alt\":\"cover.jpg\"}}),_c('div',{staticClass:\"mx-4 my-4\",attrs:{\"id\":\"release-note-body\"}},[_vm._v(\" Loading release note... \")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module src/components\n */\n\n/**\n *\n */\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n/**\n * component for displaying version information\n * @author Kaiying Shan\n * @noInheritDoc\n */\n@Component\nexport default class VersionModal extends Vue {\n    @Prop(String) readonly version!: string;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./VersionModal.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./VersionModal.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./VersionModal.vue?vue&type=template&id=2ec078b3&\"\nimport script from \"./VersionModal.ts?vue&type=script&lang=ts&\"\nexport * from \"./VersionModal.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * Script for loading building list and distance (time) matrix\n * @author Hanzhi Zhou\n * @module src/data\n */\n\n/**\n *\n */\nimport Expirable from './Expirable';\nimport { fallback, loadFromCache } from './Loader';\nimport { FastSearcher } from '@/algorithm/Searcher';\nimport { dataend } from '@/config';\n\nexport interface TimeMatrixJSON extends Expirable {\n    timeMatrix: number[];\n}\n\nexport interface BuildingListJSON extends Expirable {\n    buildingList: string[];\n}\n\n/**\n * Try to load the walking time matrix between buildings from localStorage.\n * If it expires or does not exist,\n * load a fresh one from the data backend and store it in localStorage.\n *\n * storage key: \"timeMatrix\"\n */\nexport function loadTimeMatrix(force = false) {\n    return fallback(\n        loadFromCache<Int32Array, TimeMatrixJSON>(\n            'timeMatrix',\n            dataend.distances,\n            x => Int32Array.from(x.timeMatrix),\n            {\n                expireTime: 1000 * 86400,\n                force,\n                store(x) {\n                    localStorage.setItem(\n                        'timeMatrix',\n                        JSON.stringify({\n                            modified: new Date(),\n                            timeMatrix: Array.from(x)\n                        })\n                    );\n                    return x;\n                }\n            }\n        ),\n        {\n            succMsg: 'Walking distance matrix loaded',\n            warnMsg: x => `Failed to load walking distance matrix: ${x}. Old data is used instead`,\n            errMsg: x => `Failed to load walking distance matrix: ${x}. `,\n            timeoutTime: 10000\n        }\n    );\n}\n\n/**\n * Try to load the array of the names of buildings from localStorage.\n * If it expires or does not exist,\n * load a fresh one from the data backend and store it in localStorage.\n *\n * Then, construct and return a building searcher\n * storage key: \"buildingList\"\n */\nexport function loadBuildingSearcher(force = false) {\n    return fallback(\n        loadFromCache<FastSearcher<string>, BuildingListJSON>(\n            'buildingList',\n            dataend.buildings,\n            x => new FastSearcher(x.buildingList),\n            {\n                expireTime: 1000 * 86400,\n                force\n            }\n        ),\n        {\n            succMsg: 'Building list loaded',\n            warnMsg: x => `Failed to load building list: ${x}. Old data is used instead`,\n            errMsg: x => `Failed to load building list: ${x}. `,\n            timeoutTime: 10000\n        }\n    );\n}\n","/**\n * the \"view\" of this project; the root Vue component that contains almost all of the child components and DOM\n * elements of the main webpage.\n * @module src/App\n * @author Hanzhi Zhou, Kaiying Shan, Elena Long, Zichao Hu\n */\n\n/**\n *\n */\nimport { Component } from 'vue-property-decorator';\nimport MainContent from './components/MainContent.vue';\n\n// tab components\nimport ClassView from './components/tabs/ClassView.vue';\nimport CompareView from './components/tabs/CompareView.vue';\nimport DisplayView from './components/tabs/DisplayView.vue';\nimport EventView from './components/tabs/EventView.vue';\nimport ExportView from './components/tabs/ExportView.vue';\nimport External from './components/tabs/External.vue';\nimport FilterView from './components/tabs/FilterView.vue';\nimport PaletteView from './components/tabs/PaletteView.vue';\nimport FuzzyView from './components/tabs/FuzzyView.vue';\nimport LogView from './components/tabs/LogView.vue';\n\n// other components\nimport DateSeparator from './components/DateSeparator.vue';\nimport GridSchedule from './components/GridSchedule.vue';\nimport Pagination from './components/Pagination.vue';\n\n// modals\nimport CourseModal from './components/modals/CourseModal.vue';\nimport SectionModal from './components/modals/SectionModal.vue';\nimport URLModal from './components/modals/URLModal.vue';\nimport VersionModal from './components/modals/VersionModal.vue';\n\nimport randomColor from 'randomcolor';\nimport { loadBuildingSearcher, loadTimeMatrix } from './data/BuildingLoader';\nimport Store, { parseFromURL } from './store';\nimport GeneratedSchedule from './models/GeneratedSchedule';\nimport { backend, runningOnElectron, version } from './config';\n\n/** whether the version stored in localStorage matches the current version */\nconst match = localStorage.getItem('version') === version;\n// then, override localStorage with the current version\nlocalStorage.setItem('version', version);\n\n@Component({\n    components: {\n        MainContent,\n        ClassView,\n        EventView,\n        DisplayView,\n        FilterView,\n        PaletteView,\n        ExportView,\n        CompareView,\n        External,\n        FuzzyView,\n        LogView,\n        // use dynamic component for this one because it is relatively large in size\n        Information: () => import('./components/tabs/Information.vue'),\n\n        Pagination,\n        GridSchedule,\n        DateSeparator,\n\n        SectionModal,\n        CourseModal,\n        URLModal,\n        VersionModal\n    }\n})\nexport default class App extends Store {\n    get sideBar() {\n        return this.status.sideBar;\n    }\n\n    get version() {\n        return version;\n    }\n\n    get showInformation() {\n        return !runningOnElectron;\n    }\n\n    async loadConfigFromURL(search: URLSearchParams) {\n        const encoded = search.get('config');\n\n        if (encoded) {\n            try {\n                this.profile.addProfile(JSON.stringify(await parseFromURL(encoded)), 'url loaded');\n                await this.loadProfile(undefined, !match);\n                this.noti.success('Configuration loaded from URL!', 3, true);\n                return true;\n            } catch (err) {\n                console.error(err);\n                this.noti.error(err.message + ': Parsing error');\n            }\n        }\n        return false;\n    }\n\n    async created() {\n        (window as any).vue = this;\n        this.status.loading = true;\n        const search = new URLSearchParams(window.location.search);\n\n        if (search.get('auth') === backend.name) {\n            return this.profile.loginBackend();\n        }\n        if (search.get('error')) {\n            // failed to get auth code\n            this.noti.error(`Failed to login: ${search.get('error_description')}`);\n        }\n        if (!match) this.modal.showReleaseNoteModal();\n\n        // clear url after obtained url params\n        history.replaceState(history.state, 'current', '/');\n\n        // note: these can be executed in parallel, i.e. they are not inter-dependent\n        // eslint-disable-next-line prefer-const\n        let [pay1, pay2, pay3, pay4, auth_result] = await Promise.all([\n            loadTimeMatrix(),\n            loadBuildingSearcher(),\n            this.semester.loadSemesters(),\n            this.profile.syncProfiles(),\n            this.profile.getBackendToken(search.get('code'))\n        ]);\n\n        // check if auth is successful. If success, sync profiles immediately.\n        if (auth_result) {\n            this.profile.loadToken();\n            pay4 = await this.profile.syncProfiles();\n        }\n\n        if (pay4.level !== 'warn') this.noti.notify(pay4);\n\n        this.noti.notify(pay1);\n        if (pay1.payload) window.timeMatrix = pay1.payload;\n\n        this.noti.notify(pay2);\n        if (pay2.payload) window.buildingSearcher = pay2.payload;\n\n        this.noti.notify(pay3);\n        if (pay3.payload) {\n            this.semester.semesters = pay3.payload;\n\n            const urlResult = await this.loadConfigFromURL(search);\n            if (!urlResult) {\n                this.profile.initProfiles(this.semester.semesters);\n                // if version mismatch, force-update semester data\n                await this.loadProfile(this.profile.current, !match);\n            }\n        }\n        this.status.loading = false;\n    }\n    /**\n     * @returns return the index of current schedule in compares array.\n     *          return -1 if current schedule is not in compares.\n     */\n    indexOfCompare() {\n        return this.compare.findIndex(c => c.schedule.equals(this.schedule.currentSchedule));\n    }\n\n    /**\n     * @note compare button will be shown iff in generated mode, so currentSchedule must be a GeneratedSchedule\n     */\n    addToCompare() {\n        const idx = this.indexOfCompare();\n        if (idx !== -1) {\n            this.compare.splice(idx, 1);\n        } else {\n            const color = randomColor({ luminosity: 'dark' });\n            this.compare.push({\n                schedule: this.schedule.currentSchedule as GeneratedSchedule,\n                profileName: this.profile.current,\n                index: this.schedule.currentScheduleIndex,\n                color,\n                pIdx: this.schedule.cpIndex\n            });\n        }\n    }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/eslint-loader/index.js??ref--13-0!./App.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/eslint-loader/index.js??ref--13-0!./App.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2275c5bc&\"\nimport script from \"./App.ts?vue&type=script&lang=ts&\"\nexport * from \"./App.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * the entry point of our project\n * @module src/main\n * @author Hanzhi Zhou\n */\n\n/**\n *\n */\nimport Vue from 'vue';\nimport ScheduleEvaluator from './algorithm/ScheduleEvaluator';\nimport Catalog from './models/Catalog';\nimport { highlightMatch } from './utils';\nimport { FastSearcher } from './algorithm/Searcher';\nimport App from './App.vue';\nimport axios from 'axios';\nimport WatchFactory from './store/watch';\n\naxios.defaults.xsrfHeaderName = 'X-CSRFTOKEN';\naxios.defaults.xsrfCookieName = 'csrftoken';\n\ndeclare global {\n    interface Window {\n        scheduleEvaluator: ScheduleEvaluator;\n        catalog: Readonly<Catalog>;\n        timeMatrix: Readonly<Int32Array>;\n        buildingSearcher: FastSearcher<string>;\n        watchers: WatchFactory;\n    }\n\n    // copied from https://www.typescriptlang.org/docs/handbook/advanced-types.html\n    type NonFunctionPropertyNames<T> = {\n        [K in keyof T]: T[K] extends (...x: any[]) => any ? never : K;\n    }[keyof T];\n    type NonFunctionProperties<T> = Pick<T, NonFunctionPropertyNames<T>>;\n}\n\ndeclare module 'vue/types/vue' {\n    // Declare augmentation for Vue\n    interface Vue {\n        highlightMatch: typeof highlightMatch;\n    }\n}\n\nVue.directive('top', {\n    // When the bound element is inserted into the DOM...\n    inserted() {\n        // scroll to top\n        window.scrollTo(0, 0);\n    }\n});\n\nVue.config.productionTip = false;\nVue.config.devtools = true;\nVue.prototype.highlightMatch = highlightMatch;\n\nnew Vue({\n    data: {\n        currentRoute: window.location.pathname\n    },\n    render(h) {\n        // const matchingView = routes[this.currentRoute];\n        // const component = matchingView ? matchingView : HomePage;\n        return h(App);\n    }\n}).$mount('#app');\n\n(window as any).axios = axios;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainContent.vue?vue&type=style&index=0&id=7b9bb0fd&scoped=true&lang=css&\""],"sourceRoot":""}