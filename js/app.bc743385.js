(function(e){function t(t){for(var i,o,n=t[0],l=t[1],c=t[2],u=0,d=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);h&&h(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],i=!0,o=1;o<s.length;o++){var n=s[o];0!==a[n]&&(i=!1)}i&&(r.splice(t--,1),e=l(l.s=s[0]))}return e}var i={},o={app:0},a={app:0},r=[];function n(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-51c446b3":"45922e0a"}[e]+".js"}function l(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(e){var t=[],s={"chunk-51c446b3":1};o[e]?t.push(o[e]):0!==o[e]&&s[e]&&t.push(o[e]=new Promise((function(t,s){for(var i="css/"+({}[e]||e)+"."+{"chunk-51c446b3":"281424c0"}[e]+".css",a=l.p+i,r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var c=r[n],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===i||u===a))return t()}var d=document.getElementsByTagName("style");for(n=0;n<d.length;n++){c=d[n],u=c.getAttribute("data-href");if(u===i||u===a)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var i=t&&t.target&&t.target.src||a,r=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=i,delete o[e],h.parentNode.removeChild(h),s(r)},h.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){o[e]=0})));var i=a[e];if(0!==i)if(i)t.push(i[2]);else{var r=new Promise((function(t,s){i=a[e]=[t,s]}));t.push(i[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=n(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(h);var s=a[e];if(0!==s){if(s){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",d.name="ChunkLoadError",d.type=i,d.request=o,s[1](d)}a[e]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=i,l.d=function(e,t,s){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(s,i,function(t){return e[t]}.bind(null,i));return s},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var h=u;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("cd49")},"034f":function(e,t,s){"use strict";s("85ec")},"07f3":function(e,t,s){},"1ad4":function(e,t,s){"use strict";s("6cbc")},2552:function(e,t,s){},"289a":function(e,t){e.exports=vuedraggable},"4ad5":function(e,t){e.exports=bootstrap},"502b":function(e,t,s){"use strict";s("d01c")},"52b0":function(e,t,s){},6989:function(e,t,s){"use strict";s("52b0")},"6cbc":function(e,t,s){},"76ec":function(e,t,s){"use strict";s("aaf2")},"7a6d":function(e,t,s){"use strict";s("7b26")},"7b26":function(e,t,s){},"7e5e":function(e,t,s){"use strict";s("a690")},"85ec":function(e,t,s){},"8d6c":function(e,t,s){},"90ab":function(e,t,s){e.exports=s.p+"img/placeholder.f3a872b4.jpg"},9224:function(e){e.exports=JSON.parse('{"name":"plannable","version":"9.6.0","private":true,"description":"A website that helps UVa students schedule their classes more efficiently.","author":{"email":"","name":"Plannable","url":"https://github.com/awesome-schedule/plannable"},"contributors":[{"email":"hz2zz@virginia.edu","name":"Hanzhi Zhou","url":"https://github.com/hanzhi713"},{"email":"ks5qug@virginia.edu","name":"Kaiying Shan","url":"https://github.com/kaiyingshan"},{"email":"zh2wc@virginia.edu","name":"Zichao Hu","url":"https://github.com/OAHC2022"},{"email":"ml6vq@virginia.edu","name":"Minjun Long","url":"https://github.com/Elena6918"}],"scripts":{"serve":"vue-cli-service serve --port 8081","build":"vue-cli-service build --modern --report","lint":"vue-cli-service lint","exec":"ts-node -r tsconfig-paths/register -O {\\\\\\"module\\\\\\":\\\\\\"commonjs\\\\\\"}","fix":"eslint . --fix","test":"vue-cli-service test:unit","tsdoc":"typedoc --options typedoc.json ./src","updatedata":"rm -rf scripts/data && git clone https://github.com/awesome-schedule/data scripts/data","data":"cd scripts && http-server --cors -p 8000 -c-1","getdep":"cd src/algorithm; git clone https://github.com/greg7mdp/parallel-hashmap; make glpk","getwasm":"./scripts/get_wasm.sh","wasm":"./scripts/build_wasm.sh"},"main":"electron_main.js","backend":{"name":"Hoosmyprofessor","up":"https://match.msnatuva.org/courses/api/save_plannable_profile/","down":"https://match.msnatuva.org/courses/api/get_plannable_profile/","edit":"https://match.msnatuva.org/courses/api/edit_plannable_profile/","code":"https://match.msnatuva.org/oauth/authorize/","token":"https://match.msnatuva.org/oauth/api/token/","client_id":"56e1ed98f4e740ef883cc7190cf9488c","oauth_on_electron":true,"oauth_electron_redirect_uri":"http://localhost:8081"},"dependencies":{"axios":"^0.21.1","bootstrap":"^4.5.3","core-js":"^3.6.5","dexie":"^2.0.4","electron-prompt":"^1.6.0","file-saver":"^2.0.5","jquery":"^3.5.1","lz-string":"^1.4.4","papaparse":"^5.3.0","quickselect":"^2.0.0","randomcolor":"^0.5.4","resize-observer-polyfill":"^1.5.1","ua-parser-js":"^0.7.23","vue":"^2.6.12","vue-class-component":"^7.2.3","vue-mathjax":"0.0.10","vue-property-decorator":"^9.1.2","vuedraggable":"^2.24.3"},"devDependencies":{"@types/bootstrap":"^4.5.1","@types/cheerio":"^0.22.23","@types/file-saver":"^2.0.1","@types/jest":"^24.0.19","@types/jquery":"^3.5.5","@types/lz-string":"^1.3.34","@types/node":"^14.14.22","@types/papaparse":"^5.2.4","@types/randomcolor":"^0.5.5","@types/ua-parser-js":"^0.7.35","@typescript-eslint/eslint-plugin":"^2.33.0","@typescript-eslint/parser":"^2.33.0","@vue/cli-plugin-babel":"~4.5.0","@vue/cli-plugin-eslint":"~4.5.0","@vue/cli-plugin-typescript":"~4.5.0","@vue/cli-plugin-unit-jest":"~4.5.0","@vue/cli-service":"~4.5.0","@vue/eslint-config-prettier":"^6.0.0","@vue/eslint-config-typescript":"^5.0.2","@vue/test-utils":"^1.0.3","babel-plugin-transform-remove-console":"^6.9.4","cheerio":"^1.0.0-rc.5","circular-dependency-plugin":"^5.2.2","electron":"^18.1.0","electron-builder":"^23.0.3","eslint":"^6.7.2","eslint-plugin-prettier":"^3.1.3","eslint-plugin-vue":"^6.2.2","http-server":"^0.12.3","prettier":"^1.19.1","ts-node":"^9.1.1","typedoc":"^0.19.2","typedoc-plugin-external-module-name":"^4.0.6","typedoc-plugin-no-inherit":"1.2.2","typescript":"~3.9.3","vue-template-compiler":"^2.6.11"},"build":{"appId":"org.plannable","artifactName":"${productName}-${version}-${os}-${arch}.${ext}","win":{"target":"portable","icon":"src/assets/logo-800x800.png"},"mac":{"target":"dmg","icon":"src/assets/logo-800x800.png"},"linux":{"target":[{"target":"AppImage","arch":["x64","arm64","armv7l"]},{"target":"snap","arch":["x64"]}],"category":"productivity","icon":"src/assets/logo-800x800.png"},"files":["dist","node_modules","electron_main.js"],"directories":{"output":"dist-electron"},"publish":{"provider":"github"},"snap":{"publish":{"provider":"github"}}},"repository":"https://github.com/awesome-schedule/plannable"}')},"92b2":function(e,t,s){},9331:function(e,t){e.exports=Papa},9956:function(e,t,s){e.exports=s.p+"img/cover.f46abc3a.jpg"},"9a31":function(e,t,s){"use strict";s("92b2")},"9aeb":function(e,t,s){"use strict";s("e7e6")},"9d29":function(e,t,s){"use strict";s("8d6c")},a271:function(e,t,s){},a690:function(e,t,s){},aaf2:function(e,t,s){},ac9e:function(e,t,s){"use strict";s("07f3")},c5e1:function(e,t){e.exports=jQuery},c75a:function(e,t,s){"use strict";s("eef9")},cd49:function(e,t,s){"use strict";s.r(t);var i=s("2b0e");function o(e){const t=e.split(":"),s=+t[0];return 12===s?e+"PM":0===s?`12:${t[1]}AM`:s<12?e+"AM":`${s-12}:${t[1]}PM`}function a(e){const t=e.substring(0,e.length-2),[s,i]=t.split(":"),o=+s,a=e.substring(e.length-2);return"AM"===a||"am"==a?12===o?"00:"+i:t:12===o?t:`${(o+12).toString().padStart(2,"0")}:${i}`}function r(e){const t=e.split(":");return 60*+t[0]+ +t[1]}function n(e){return r(a(e))}function l(e){const[t,s,,i]=e.split(" ");if(t&&s&&i){const e=[];for(let s=0;s<t.length;s+=2)e.push(t.substr(s,2));return[e,[n(s),n(i)]]}return null}function c(e){if("string"!==typeof e)return;const[t,s]=e.split(" - ");if(!t||!s)return;const[i,o,a]=t.split("/"),r=Date.UTC(+a,+i-1,+o),[n,l,c]=s.split("/"),u=Date.UTC(+c,+n-1,+l);return[r,u]}function u(e,t,s,i){return s>t||e>i?-1:Math.min(t,i)-Math.max(e,s)}function d(e){return`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`}s("d9e2");var h=s("bc3a"),p=s.n(h),m=s("21a6");function f(e,t,s){if(!s||!s.length)return e;let i="",o=0;for(const{match:a,start:r,end:n}of s)a===t&&(i+=`${e.substring(o,r)}<span class="bg-warning">${e.substring(r,n)}</span>`,o=n);return i+e.substring(o)}function g(e){let t=2166136261;for(let s=0;s<e.length;s++)t^=e.charCodeAt(s),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}function v(e){let t;const s=new Promise((s,i)=>{e.then(e=>s(e)).catch(e=>i(e)),t=e=>i(e)});return s.cancel=t,s}function y(e,t,s="Time out fetching data. Please try again later"){if(t>0){const i=v(e);return setTimeout(()=>i.cancel(s),t),i}return e}function b(e,t){Object(m["saveAs"])(new Blob([e],{type:"text/plain;charset=utf-8"}),t)}function w(e){let t="";return"string"===typeof e?t+=e:e.response?t+="request rejected by the server":e.request?t+="No internet":t+=e.message,t}function S(e){return Array.isArray(e)&&"number"===typeof e[0]}async function C(){try{const e=await p.a.get("https://api.github.com/repos/awesome-schedule/plannable/releases"),t=[],s=[];for(let i=0;i<Math.min(3,e.data.length);i++)t.push(p.a.post("https://api.github.com/markdown",{text:e.data[i].body,mode:"gfm",context:"github/gollum"}));return await Promise.all(t).then(t=>{for(let i=0;i<t.length;i++)s.push('<div class="card"> <div class="card-body"> <div class="card-title"> <h6 style="list-style:none; padding-left: 0">'+e.data[i].name+"</h6> <hr> </div>"+t[i].data+"</div> </div>")}),s.join("<br>")}catch(e){return console.error(e),"Failed to obtain release note. See https://github.com/awesome-schedule/plannable/releases instead."}}class x extends Error{constructor(e){super(e),this.name="GeneratedError"}}const _=Object.freeze({Mo:0,Tu:1,We:2,Th:3,Fr:4,Sa:5,Su:6}),k=["Mo","Tu","We","Th","Fr","Sa","Su"];function O(e){return e.getUTCFullYear()+(e.getUTCMonth()+1).toString().padStart(2,"0")+e.getUTCDate().toString().padStart(2,"0")+"T"+e.getUTCHours().toString().padStart(2,"0")+e.getUTCMinutes().toString().padStart(2,"0")+e.getUTCSeconds().toString().padStart(2,"0")}function $(e,t){const s=(_[t]+7-e.getDay())%7;return new Date(e.getTime()+1e3*s*60*60*24)}function T(e,t,s,i,o,a,r){const[l,c,,u]=e.days.split(" "),d=n(c),h=n(u),p=[];for(let n=0;n<l.length;n+=2)p.push(l.substr(n,2));s=$(s,p[0]);const m="";let f="BEGIN:VEVENT\r\n";return f+=`UID:${t}\r\n`,f+=`DTSTAMP${m}:${O(new Date)}\r\n`,f+=`DTSTART${m}:${O(new Date(s.getTime()+60*d*1e3))}\r\n`,f+=`DTEND${m}:${O(new Date(s.getTime()+60*h*1e3))}\r\n`,f+=`SUMMARY:${o}\r\n`,f+=`RRULE:FREQ=WEEKLY;INTERVAL=1;BYDAY=${p.join(",").toUpperCase()};UNTIL=${O(i)}\r\n`,f+=`DURATION=${h-d}\r\n`,f+=`DESCRIPTION:${a}\r\n`,f+=`LOCATION:${r}\r\n`,f+="END:VEVENT\r\n",f}function I(e){var t,s,i;let o,a,r="BEGIN:VCALENDAR\r\nVERSION:2.0\r\nPRODID:plannable\r\n";for(const{dateArray:l}of window.catalog.sections)if(l){o=new Date(l[0]),a=new Date(l[1]+864e5);break}for(const[l]of e.current.ids){const e=parseInt(l);if(isNaN(e))continue;const t=window.catalog.getSectionById(e);if(t.dateArray){o=new Date(t.dateArray[0]),a=new Date(t.dateArray[1]+864e5);for(const e of t.meetings)try{r+=T(e,"class-number-"+l,o,a,t.displayName,t.title,e.room)}catch(n){console.warn(n)}}}for(const l of e.events)r+=T(l,"event-"+l.key,o,a,null!==(t=l.title)&&void 0!==t?t:"no title",null!==(s=l.description)&&void 0!==s?s:"no description",null!==(i=l.room)&&void 0!==i?i:"no room");return r+="END:VCALENDAR",r}var A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"w-100",attrs:{id:"app"},on:{change:function(t){return e.saveStatus()}}},[s("version-modal",{attrs:{version:e.version}}),s("course-modal",{attrs:{course:e.modal.course,match:e.modal.match,semester:e.semester.current}}),s("section-modal",{attrs:{semester:e.semester.current,section:e.modal.section}}),s("URL-modal",{attrs:{url:e.modal.url}}),s("nav",{staticClass:"tab-bar bg-light thin-scroll"},[s("div",{staticClass:"tab-icon pt-4",class:{"tab-icon-active":e.sideBar.showSelectClass},attrs:{title:"Select Classes"},on:{click:function(t){return e.status.switchSideBar("showSelectClass")}}},[s("i",{staticClass:"far fa-calendar-alt"})]),s("div",{staticClass:"tab-icon pt-4",class:{"tab-icon-active":e.sideBar.showFuzzy},attrs:{title:"Fuzzy Search"},on:{click:function(t){return e.status.switchSideBar("showFuzzy")}}},[s("i",{staticClass:"fas fa-search"})]),s("div",{staticClass:"tab-icon pt-4",class:{"tab-icon-active":e.sideBar.showEvent},attrs:{title:"Edit Events"},on:{click:function(t){return e.status.switchSideBar("showEvent")}}},[s("i",{staticClass:"fab fa-elementor"})]),s("div",{staticClass:"tab-icon pt-4",class:{"tab-icon-active":e.sideBar.showFilter},attrs:{title:"Filters"},on:{click:function(t){return e.status.switchSideBar("showFilter")}}},[s("i",{staticClass:"fas fa-filter"})]),s("div",{staticClass:"tab-icon pt-4",class:{"tab-icon-active":e.sideBar.showSetting},attrs:{title:"Display Settings"},on:{click:function(t){return e.status.switchSideBar("showSetting")}}},[s("i",{staticClass:"fas fa-cog"})]),s("div",{staticClass:"tab-icon pt-4",class:{"tab-icon-active":e.sideBar.showSelectColor},attrs:{title:"Customize Colors"},on:{click:function(t){return e.status.switchSideBar("showSelectColor")}}},[s("i",{staticClass:"fas fa-palette"})]),s("div",{staticClass:"tab-icon pt-4",class:{"tab-icon-active":e.sideBar.showExport},attrs:{title:"Import/Export Schedule"},on:{click:function(t){return e.status.switchSideBar("showExport")}}},[s("i",{staticClass:"fas fa-download"}),!e.profile.tokenType&&e.profile.profiles.some((function(e){return e.remote}))?s("div",{staticClass:"badge text-warning",staticStyle:{position:"absolute",top:"0.75rem",right:"0px","font-size":"14px"},attrs:{title:"Some profiles are marked as synced, but you've been logged out."}},[s("i",{staticClass:"fas fa-exclamation-triangle"})]):e._e()]),s("div",{staticClass:"tab-icon pt-4",class:{"tab-icon-active":e.sideBar.showCompare},attrs:{title:"Compare"},on:{click:function(t){return e.status.switchSideBar("showCompare")}}},[s("i",{staticClass:"fas fa-balance-scale"})]),e.display.enableLog?s("div",{staticClass:"tab-icon pt-4",class:{"tab-icon-active":e.sideBar.showLog},attrs:{title:"Show logs"},on:{click:function(t){return e.status.switchSideBar("showLog")}}},[s("i",{staticClass:"fas fa-stream"})]):e._e(),e.showInformation?s("div",{staticClass:"tab-icon pt-4",class:{"tab-icon-active":e.sideBar.showInfo},attrs:{title:"Website guide and miscellaneous information"},on:{click:function(t){return e.status.switchSideBar("showInfo")}}},[s("i",{staticClass:"fas fa-info-circle"})]):e._e(),s("div",{staticClass:"tab-icon pt-4",class:{"tab-icon-active":e.sideBar.showExternal},attrs:{title:"Blank Page"},on:{click:function(t){return e.status.switchSideBar("showExternal")}}},[s("i",{staticClass:"fas fa-bullhorn"})])]),e.sideBar.showSelectClass?s("class-view"):e.sideBar.showFuzzy?s("fuzzy-view"):e.sideBar.showEvent?s("event-view"):e.sideBar.showFilter?s("filter-view"):e.sideBar.showSetting?s("display-view"):e.sideBar.showExport?s("export-view"):e.sideBar.showSelectColor?s("palette-view"):e.sideBar.showCompare?s("compare-view"):e.sideBar.showInfo?s("information"):e.sideBar.showExternal?s("external"):e.sideBar.showLog?s("log-view"):e._e(),e.sideBar.showInfo||e.sideBar.showExternal||e.sideBar.showCompare?e._e():s("main-content",[s("div",{staticClass:"w-100 mb-2 row justify-content-center mt-1",attrs:{id:"pg"}},[e.schedule.generated?s("div",{staticClass:"col-sm-auto text-center"},[s("Pagination")],1):e._e(),s("date-separator",{staticClass:"col-sm-auto text-center",attrs:{"cur-schedule":e.schedule.currentSchedule},on:{"update-select":function(t){return e.schedule.currentSchedule.computeSchedule()}}}),e.schedule.generated?s("div",{staticClass:"col-sm-auto text-center align-self-center"},[s("button",{staticClass:"btn btn-outline-primary",on:{click:function(t){return e.addToCompare()}}},[s("i",{staticClass:"fas fa-balance-scale"}),e._v(" Compare "),-1!==e.indexOfCompare()?s("i",{staticClass:"fas fa-check"}):e._e()])]):e._e()],1),s("grid-schedule",{attrs:{"schedule-days":e.schedule.currentSchedule.days}})],1)],1)},N=[],E=s("9ab4"),M=s("1b40"),P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"schedule mt-2",style:{width:e.scheduleWidth+"vw","margin-left":(e.status.isMobile?11:e.scheduleLeft)+"vw"}},[s("transition",{attrs:{name:"fade"}},[e.noti.msg.length>0?s("div",{directives:[{name:"top",rawName:"v-top"}],staticClass:"alert my-1 mx-auto",class:"alert-"+e.noti.cls,staticStyle:{width:"85%"},attrs:{id:"noti"}},[s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"col-md-11",domProps:{innerHTML:e._s(e.noti.msg)}}),s("div",{staticClass:"col-md-1"},[s("button",{staticClass:"close",staticStyle:{align:"center"},attrs:{type:"button"},on:{click:function(t){return e.noti.clear()}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])])]):e._e()]),e._t("default"),e._m(0),s("div",{attrs:{id:"footer-org"}},[e._v(" ©2019-2021 — "),s("strong",[e._v("Plannable v"+e._s(e.version))]),s("a",{staticClass:"ml-4",attrs:{href:"javascript:void"},on:{click:function(t){return e.modal.showReleaseNoteModal()}}},[e._v(" View release note ")])])],2)},L=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"footer-link"}},[s("div",{staticClass:"row justify-content-between w-100"},[s("div",{staticClass:"col-xs-auto pl-3 align-self-center",staticStyle:{"font-size":"1.1rem"}},[e._v(" Follow us on GitHub, submit a bug report by opening an issue or filling the google form. ")]),s("div",{staticClass:"col-xs-auto align-self-center"},[s("a",{staticClass:"mr-5 link-btn",attrs:{target:"_blank",title:"Checkout our GitHub site to watch/star/fork",href:"https://github.com/awesome-schedule/plannable/"}},[s("i",{staticClass:"fab fa-github"})]),s("a",{staticClass:"ml-4 mr-5 link-btn",attrs:{target:"_blank",title:"Submit a bug report",href:"https://forms.gle/z8pNs8JtYbZ9dveC8"}},[s("i",{staticClass:"fas fa-exclamation-circle"})])])])])}],j=(s("907a"),s("3c5d"),s("9331")),B=s("b383");function D(e,t){const s=t.length+1,i=e._malloc(s);return e.stringToUTF8(t,i,s),i}function F(e,t,s){return t.length<s?-1:D(e,t)}class R{constructor(e,t=(e=>e),s=""){this.data=s,this.originals=[];const i=window.NativeModule,o=i._malloc(4*e.length);for(let a=0;a<e.length;a++){const s=t(e[a]);this.originals.push(s),i.HEAPU32[o/4+a]=D(i,s.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g," ").toLowerCase())}this.ptr=i._getSearcher(o,e.length)}sWSearch(e,t,s=2,i=.1){const o=window.NativeModule,a=F(o,e,s),r=[];if(-1===a)return r;const n=o._sWSearch(this.ptr,a,t,s,i)/4,l=Math.min(t,this.originals.length),c=o.HEAP32.subarray(n,n+l);for(let u=0;u<l;u++){const e=c[u],t=o._getMatches(this.ptr,e)/4;r.push({score:o._getScore(this.ptr,e),index:e,data:this.data,matches:o.HEAP32.subarray(t,t+2*o._getMatchSize(this.ptr,e))})}return r}findBestMatch(e){const t=window.NativeModule,s=F(t,e,2);if(-1===s)return[0,0];const i=t._findBestMatch(this.ptr,s);return[i,t._getScore(this.ptr,i)]}toJSON(){return this.originals}}window.FastSearcher=R;const z=new Map;function W(e){const t=[];for(const{data:s,matches:i}of e)for(let e=0;e<i.length;e+=2)t.push({match:s,start:i[e],end:i[e+1]});return t}class J{constructor(e,t,s){this.semester=e,this.modified=s,[this.courseDict,this.courses,this.sections]=t,this.sectionMap=new Map;for(const i of this.sections)this.sectionMap.set(i.id,i);this.titleSearcher=new R(this.courses,e=>e.title,"title"),this.descriptionSearcher=new R(this.courses,e=>e.description,"description"),this.topicSearcher=new R(this.sections,e=>e.topic,"topic"),this.instrSearcher=new R(this.sections,e=>e.instructors,"instructors"),this.roomSearcher=new R(this.sections,e=>e.rooms,"rooms")}data(){return[this.courseDict,this.courses,this.sections]}getCourse(e,t){const s=this.courseDict[e];return t&&-1!==t?t instanceof Array?s.getCourse(t):s.getCourse([...t]):s}getSectionById(e){const t=this.sectionMap.get(e);if(!t)throw new Error("Non-existent id "+e);return t}convertKey(e,t){const s=this.courseDict[e];if(s)return s.displayName;if(t){const s=t.events.find(t=>t.key===e);return s?""===s.title?e:s.title:e}}processCourseResults(e,t){for(const s of e){const{key:e}=this.courses[s.index],i=s.score*t,o=z.get(e);o?(o.courseScore+=i,o.courseResults.push(s)):z.set(e,{courseScore:i,courseResults:[s],sectionScore:0,sectionMap:new Map})}}processSectionResults(e,t){for(const s of e){const{key:e,id:i}=this.sections[s.index],o=s.score*t,a=z.get(e);if(a){a.sectionScore+=o;const e=a.sectionMap.get(i);e?e.push(s):a.sectionMap.set(i,[s])}else z.set(e,{courseScore:0,courseResults:[],sectionScore:o,sectionMap:(new Map).set(i,[s])})}}prepQuery(e){e=e.trim().toLowerCase();const t=e.split(/\s+/);let s;e=t.join(" ");let i="";if(e.startsWith(":")){i=t[0].substring(1);const o=t.slice(1);s=o.join(""),e=o.join(" ")}else s=t.join("");return[e,i,s]}fuzzySearch(e){const[t,s]=this.prepQuery(e);s&&!s.startsWith("title")||this.processCourseResults(this.titleSearcher.sWSearch(t,100),1),s&&!s.startsWith("desc")||this.processCourseResults(this.descriptionSearcher.sWSearch(t,100),.5),s&&!s.startsWith("topic")||this.processSectionResults(this.topicSearcher.sWSearch(t,100),1),s&&!s.startsWith("prof")||this.processSectionResults(this.instrSearcher.sWSearch(t,100),.5),s.startsWith("room")&&this.processSectionResults(this.roomSearcher.sWSearch(t,100),1);const i=Array.from(z).map(([e,t])=>[e,t.courseScore+(t.sectionMap.size&&t.sectionScore/t.sectionMap.size)]).sort((e,t)=>t[1]-e[1]).slice(0,12).filter(e=>e[1]>.001),o=[],a=[];for(const[r]of i){const e=z.get(r),t=new Map;for(const[s,i]of e.sectionMap)t.set(s,W(i));e.courseResults.length?(o.push(this.getCourse(r,-1)),a.push([W(e.courseResults),t])):(o.push(this.getCourse(r,[...t.keys()])),a.push([[],t]))}return z.clear(),[o,a]}search(e,t=6){const[s,i,o]=this.prepQuery(e),a=[],r=[],n=this.courses,l=n.length;if(!i||"num"===i||"key"===i)for(let c=0;c<l;c++)if(this.searchKey(o,n[c],a,r),a.length>=t)return[a,r];if(!i||i.startsWith("title"))for(let c=0;c<l;c++)if(this.searchField(s,"title",n[c],a,r),a.length>=t)return[a,r];if(!i||i.startsWith("topic"))for(let c=0;c<l;c++)if(this.searchSectionField(s,"topic",n[c],a,r),a.length>=t)return[a,r];if(!i||i.startsWith("prof"))for(let c=0;c<l;c++)if(this.searchSectionField(s,"instructors",n[c],a,r),a.length>=t)return[a,r];if(!i||i.startsWith("desc"))for(let c=0;c<l;c++)if(this.searchField(s,"description",n[c],a,r),a.length>=t)return[a,r];if(!i||i.startsWith("room"))for(let c=0;c<l;c++)if(this.searchSectionField(s,"rooms",n[c],a,r),a.length>=t)return[a,r];return[a,r]}searchKey(e,t,s,i){const o=t.key,a=o.indexOf(e);if(-1!==a){const o=t.department.length,r=a+e.length;s.push(t),i.push([[{match:"key",start:a+ +(a>=o),end:r+ +(r>o)}],new Map])}}searchField(e,t,s,i,o){const a=s[t].toLowerCase(),r=s.key,n=a.indexOf(e);if(-1!==n){const a=i.findIndex(e=>e.key===r),l={match:t,start:n,end:n+e.length};-1!==a?o[a][0].push(l):(i.push(s),o.push([[l],new Map]))}}searchSectionField(e,t,s,i,o){const a=new Map;for(const r of s.sections){const s=r[t].toLowerCase().indexOf(e);-1!==s&&a.set(r.id,[{match:t,start:s,end:s+e.length}])}a.size&&this.appendToResult(s,a,i,o)}appendToResult(e,t,s,i){const o=s.findIndex(t=>t.key===e.key);if(-1!==o){s[o]=e.getCourse([...new Set(e.ids.concat([...t.keys()]))]);const a=i[o][1];for(const[e,s]of t){const t=a.get(e);t?t.push(...s):a.set(e,s)}}else s.push(e.getCourse([...t.keys()])),i.push([[],t])}}class U{constructor(e,t){this.ids=t,this.key=e.key,this.department=e.department,this.number=e.number,this.type=e.type,this.units=e.units,this.title=e.title,this.description=e.description,this.sections=t.map(t=>{const s=e.sections.find(e=>e.id===t);if(!s)throw new Error("Non-existent id "+t);return s})}get displayName(){return`${this.department} ${this.number} ${this.type}`}get displayNameNoType(){return`${this.department} ${this.number}`}getCourse(e){return new U(this,e)}getSectionById(e){const t=this.sections.find(t=>t.id===e);if(!t)throw new Error("Non-existent id "+e);return t}allSameTime(){const e=this.sections;for(let t=0;t<e.length-1;t++)if(!e[t].sameTimeAs(e[t+1]))return!1;return!0}getCombined(){const e={};for(const t of this.sections){const s=t.combinedTime();e[s]?e[s].push(t):e[s]=[t]}return e}hash(){return g(this.key)}equals(e){return e instanceof U&&(this.key===e.key&&this.ids.toString()===e.ids.toString())}has(e){return this.key===e.key&&this.ids.includes(e.id)}}function V(e,t){const s=[];for(const i of e)for(const e of i[t].split(", "))s.includes(e)||s.push(e);return s}s("13d5");class H{get department(){return this.course.department}get number(){return this.course.number}get type(){return this.course.type}get units(){return this.course.units}get title(){return this.course.title}get description(){return this.course.description}get displayName(){return`${this.department} ${this.number}-${this.section} ${this.type}`}get displayNameNoType(){return`${this.department} ${this.number}-${this.section}`}get validMsg(){let e=1,t="",s=1,i=0;for(let o=1;o<H.Validity.length;o++){if(this.valid&e){const[e,a]=H.Validity[o];i=Math.max(i,e),t+=`${s++}. ${a} \n`}e<<=1}return[["","text-warning","text-danger"][i],t]}sameTimeAs(e){const t=this.meetings.length;return t===e.meetings.length&&this.meetings.every((t,s)=>t.days===e.meetings[s].days)}combinedTime(){return this.meetings.reduce((e,t)=>e+"|"+t.days,this.dates)}hash(){return g(this.key)}isTBD(){for(const e of this.meetings){const t=e.days;if(!t)continue;const[s,i,,o]=t.split(" ");if(!s||!i||!o)return!0}return!1}getTimeRoom(){const e=[[],[],[],[],[],[],[]],t=window.buildingSearcher;for(const s of this.meetings){const i=s.days;if(!i)continue;const o=l(i);if(null===o)return e;const[a,r]=o;for(const n of a){const i=e[_[n]];i.push(...r);const[o,a]=t.findBestMatch(s.room);a>=.4?i.push(o):(console.warn(s.room,"match not found!"),i.push(-1))}}return e}has(e){return this===e}}H.Validity=[[0,"Valid"],[1,"Warning: Some meetings have incomplete instructor or room information (e.g. TBA/TBD). This won't affect schedule generation."],[2,"Fatal: This section has several different meeting dates. Plannable currently cannot handle these type of meetings correctly"],[1,"Warning: Some meetings have invalid (TBA/TBD) start or end time. They will not be rendered on the schedule."],[2,"Fatal: This section has unknown start and end date."]];const q=s("9224").version,G=window.navigator.userAgent.toLowerCase().includes("electron");const Y={sideBarWidth:19,sideMargin:3,tabBarWidthMobile:10,tabBarWidth:3},K=864e5,Q=72e5,Z=Object.freeze({"-1":"",0:"Clinical",1:"Discussion",2:"Drill",3:"Independent Study",4:"Laboratory",5:"Lecture",6:"Practicum",7:"Seminar",8:"Studio",9:"Workshop"}),X=Object.freeze({"":-1,Clinical:0,CLN:0,Discussion:1,DIS:1,Drill:2,DRL:2,"Independent Study":3,IND:3,Laboratory:4,LAB:4,Lecture:5,LEC:5,Practicum:6,PRA:6,Seminar:7,SEM:7,Studio:8,STO:8,Workshop:9,WKS:9}),ee=q,te=G,se=s("9224").backend,ie={buildings:be,distances:ye,semesters:Ce,courses:we},oe={section:[{name:"Course Evaluations",action:me},{name:"Grade Distribution",action:pe},{name:"More Details (Lou's List)",action:function(e,t){window.open(`https://louslist.org/sectiontip.php?Semester=${e.id}&ClassNumber=${t.id}`,"_blank","width=650,height=700,scrollbars=yes")}},{name:"Reviews (theCourseForum)",action:ge},{name:"Reviews (Hoosmyprofessor, Chinese)",action:fe}],course:[{name:"Course Evaluations",action:me},{name:"Grade Distribution",action:pe},{name:"Reviews (theCourseForum)",action:ge},{name:"Reviews (Hoosmyprofessor, Chinese)",action:fe}]};function ae(e){const t=e.toLowerCase();return t.startsWith("tba")||t.startsWith("tbd")||t.startsWith("web")?"":`https://www.google.com/maps/search/?api=1&query=${window.encodeURIComponent(e)},Charlottesville,VA`}const re=Y,ne=K,le=Q,ce=Z,ue=X,de=!0,he=/([a-z]{1,5})([0-9]{1,5})([0-9])$/i;function pe(e,t){window.open(`https://vagrades.com/uva/${t.department.toUpperCase()}${t.number}`,"_blank")}function me(e,t){window.open(`https://evals.itc.virginia.edu/course-selectionguide/pages/SGMain.jsp?cmp=${t.department},${t.number}`,"_blank")}function fe(e,t){window.open(`https://match.msnatuva.org/courses/v2/${t.key}/`,"_blank")}function ge(e,t){window.open(`https://thecourseforum.com/course/${t.department.toUpperCase()}/${t.number}`,"_blank")}function ve(){return-1!==window.location.host.indexOf("localhost")||-1!==window.location.host.indexOf("127.0.0.1")?"http://localhost:8000":"file:"===window.location.protocol||"dev.plannable.org"===window.location.host?"https://plannable.org/":`${window.location.protocol}//${window.location.host}`}async function ye(){const{data:e}=await p.a.get(ve()+"/data/Distance/Time_Matrix.json"),t=e.length,s=new Int32Array(t**2);for(let i=0;i<t;i++)s.set(e[i],i*t);return s}async function be(){const e=await p.a.get(ve()+"/data/Distance/Building_Array.json");return e.data}async function we(e){const t=await("plannable.org"===location.host||"file:"===location.protocol?p.a.post("https://louslist.org/deliverData.php",Object(B["stringify"])({Semester:e.id,Group:"CS",Description:"Yes",submit:"Submit Data Request",Extended:"Yes"})):p.a.get(`${ve()}/data/Semester%20Data/CS${e.id}Data.csv?time=${Math.random()}`));return new J(e,Se(Object(j["parse"])(t.data,{skipEmptyLines:!0,header:!1}).data),Date.now())}function Se(e){const t=Object.create(null),s=[];for(let o=1;o<e.length;o++){const i=e[o],a=ue[i[4]],r=(i[1]+i[2]+a).toLowerCase(),n=[];let l=i[9],u=0;for(let e=0;e<4;e++){const t=6+4*e,s=i[t],o=i[t+1],a=i[t+2];if(s||o||a){const e=i[t+3];if(l||(l=e),e&&e!==l&&(u|=2),s&&a&&"TBA"!==s&&"TBA"!==a&&"TBD"!==s&&"TBD"!==a||(u|=1),o&&"TBA"!==o&&"TBD"!==o){const[,e,,t]=o.split(" ");e===t&&(u|=4)}else u|=4;let r=0;for(;r<n.length;r++)if(o<n[r].days)break;n.splice(r,0,{instructor:s,days:o,room:a})}}l&&"TBD"!==l&&"TBA"!==l||(u|=8),"string"!==typeof l&&(l="");let d=t[r];d||(d=t[r]=Object.create(U.prototype,{department:{value:i[1],enumerable:!0},number:{value:+i[2],enumerable:!0},type:{value:i[4],enumerable:!0},key:{value:r,enumerable:!0},units:{value:i[5],enumerable:!0},title:{value:i[22],enumerable:!0},description:{value:i[28],enumerable:!0},sections:{value:[]},ids:{value:[],enumerable:!0}}));const h=Object.create(H.prototype,{course:{value:d},key:{value:r,enumerable:!0},id:{value:+i[0],enumerable:!0},section:{value:i[3],enumerable:!0},topic:{value:i[23],enumerable:!0},status:{value:i[24],enumerable:!0},enrollment:{value:+i[25],enumerable:!0},enrollment_limit:{value:+i[26],enumerable:!0},wait_list:{value:+i[27],enumerable:!0},valid:{value:u,enumerable:!0},meetings:{value:n,enumerable:!0},instructors:{value:V(n,"instructor").join(", "),enumerable:!0},rooms:{value:V(n,"room").join(", "),enumerable:!0},dateArray:{value:c(l),enumerable:!0},dates:{value:l,enumerable:!0}});d.ids.push(+i[0]),d.sections.push(h),s.push(h)}const i=Object.values(t);return[t,i,s]}async function Ce(){const e=await("plannable.org"===location.host||"file:"===location.protocol?p.a.get("https://louslist.org/index.php?time="+Math.random()):p.a.get(`${ve()}/data/Semester Data/index.html?time=${Math.random()}`)),t=document.createElement("html");t.innerHTML=e.data;const s=t.getElementsByTagName("option"),i=[];for(let o=0;o<s.length;o++){const e=s[o],t=e.getAttribute("value");if(t){const s=t.substr(-4),o=e.innerHTML;i.push({id:s,name:o.split(" ").splice(0,2).join(" ")})}}return i}var xe=s("eb11"),_e=s.n(xe);class ke{constructor(e,t,s,i,o){this.days=e,this.title=s,this.description=i,this.room=o,this.key=e,this.display=Boolean(t)}static fromJSONShort(e){return new ke(...e)}hash(){return g(this.days)}copy(){return new ke(this.days,this.display,this.title,this.description,this.room)}toTimeArray(){const e=[[],[],[],[],[],[],[]],[t,s,,i]=this.days.split(" ");if(t&&s&&i){const o=n(s),a=n(i);for(let s=0;s<t.length;s+=2)e[_[t.substr(s,2)]].push(o,a)}return e}toJSONShort(){const e=[this.days,+this.display];return this.title&&(e[2]=this.title),this.description&&(e[3]=this.description),this.room&&(e[4]=this.room),e}has(e){return!1}}class Oe{constructor(e,t,s,i,o,a){this.background=e,this.startMin=t,this.endMin=s,this.section=i,this.meeting=o,this.dateArray=a,this.left=-1,this.width=-1,this.strong=!1}}var $e=[{name:"dark-11",description:"",colors:["#f7867e","#ffa000","#82677E","#2C577C","#6D838A","#00a0a0","#355dff","#7790ff","#9B5656","#CC9393","#993D5F"]},{name:"Sky",description:"",colors:["#68443c","#b67b66","#d8b29a","#dbbeaa","#cd9886","#8b4d3e","#4c423d","#5a5550","#943a4d","#d6afa6","#d9e1dd","#8fabc9","#4d6aa8"]},{name:"Velvet I",description:"",colors:["#8ab5ba","#a8c4c1","#eadbc0","#4c423d","#b7ac9d","#928a7e","#3e6f42","#7fa25a","#becbb7","#91afa1","#406e58","#8f3a43","#b67b66"]},{name:"Velvet II",description:"",colors:["#9b3738","#b6c6ce","#8fabc9","#4d6aa8","#c4d39b","#7fa25a","#3e6f42","#becbb7","#91afa1","#406e58","#eacfb9","#dc8d67","#d46c40"]},{name:"Masonry I",description:"",colors:["#8ab5ba","#a8c4c1","#eadbc0","#4c423d","#b7ac9d","#928a7e","#3e6f42","#7fa25a","#becbb7","#91afa1","#406e58","#8f3a43","#b67b66"]},{name:"Masonry II",description:"",colors:["#9b3738","#4d6aa8","#d9e1dd","#8fabc9","#929494","#5e6061","#e2cbb5","#c4d39b","#abc17a","#a8c4c1","#679dae","#3e6e90","#68443c"]},{name:"Sand I",description:"",colors:["#5e6061","#929494","#d9e1dd","#abbdc8","#4d6aa8","#4c423d","#b7a392","#406e58","#91afa1","#becbb7","#c4d39b","#7fa25a","#3e6f42"]},{name:"Sand II",description:"",colors:["#5a5550","#b7ac9d","#eadbc0","#c6d5cc","#a8c4c1","#8ab5ba","#9b3738","#8fabc9","#3e6e90","#943a4d","#d46c40","#cd9886","#d6afa6"]},{name:"Scenery",description:"",colors:["#68443c","#b67b66","#d8b29a","#8b4d3e","#cd9886","#dbbeaa","#e6cdbf","#eadbc0","#9b3738","#d6afa6","#943a4d","#8f3a43","#929494"]},{name:"Checkered III",description:"",colors:["#68443c","#b67b66","#d8b29a","#406e58","#cd9886","#dbbeaa","#e6cdbf","#eadbc0","#9b3738","#d6afa6","#7fa25a","#8f3a43","#929494"]},{name:"light-13",description:"",colors:["#7ef7f3","#bdfc8f","#749afc","#f49ffc","#acd7f9","#b5fcff","#f4af9c","#ff8ca7","#aef495","#74c9e0","#ffe396"]}];const Te={isTolerance:0,ISMethod:1,applyDFS:!1,tolerance:0,LPIters:50,LPModel:1,showFixed:!1,MILP:!1,tFactor:.1};function Ie(e){const t=window.NativeModule;t._setOptions(Te.isTolerance,Te.ISMethod,+Te.applyDFS,Te.tolerance,Te.LPIters,Te.LPModel,+Te.MILP,Te.tFactor);let s=0,i=0,o=0;for(const a of e){const e=a.length;if(0===e)continue;const r=t._malloc(4*e),n=new Int16Array(t.HEAPU8.buffer,r,2*e);for(let t=0;t<e;t++)n[2*t]=a[t].startMin,n[2*t+1]=a[t].endMin;const l=t._compute(r,e);0===l&&(alert("Out of memory!"),console.error("Out of memory!"));const c=new Float64Array(t.HEAPU8.buffer,l,8*e);for(let t=0;t<e;t++)a[t].left=c[8*t+3],a[t].width=c[8*t+4];if(e>s&&(s=e,i=t._getSum(),o=t._getSumSq()),Te.showFixed){const s=new Uint8Array(t.HEAPU8.buffer,l,64*e);for(let t=0;t<e;t++)s[64*t]&&(a[t].background="#000")}}}class Ae{constructor(e={},t=[]){this.events=t,this.All={},this.days=[[],[],[],[],[],[],[]],this.totalCredit=0,this.current={courses:[],ids:[]},this.colorSlots=Array.from({length:Ae.colors.length},()=>new Set),this.dateSelector=-1,this._preview=null,this.pendingCompute=0,this.dateSeparators=[],this.All=e,this.empty()||(this.constructDateSeparator(),this.computeSchedule())}static compressJSON(e){const{All:t,events:s}=e,i={};for(const o in t){const e=t[o];i[o]=-1===e?e:e.map(e=>e.map(({id:e})=>e))}return[i,...s.map(e=>ke.prototype.toJSONShort.call(e))]}static decompressJSON(e){const t={},[s,...i]=e;for(const o in s){const e=s[o];t[o]=e instanceof Array?e.map(e=>e.map(e=>({id:e}))):e}return{All:t,events:i.map(e=>ke.fromJSONShort(e))}}_copy(){const e={};for(const t in this.All){const s=this.All[t];e[t]=s instanceof Array?s.map(e=>new Set(e)):s}return e}getColor(e){const t=Ae.savedColors[e.key];if(t)return t;const s=Ae.colors,i=e.hash()%s.length;return this.colorSlots[i].add(e.key),s[i]}preview(e){this._preview=e,this.computeSchedule(!1)}removePreview(){this._preview=null,this.computeSchedule(!1)}hover(e,t=!0){for(const s of this.days)for(const i of s)i.section.key===e&&(i.strong=t)}unhover(e){this.hover(e,!1)}cancelCompute(){window.clearTimeout(this.pendingCompute)}computeSchedule(e=!0,t=100){this.cancelCompute(),e?this._computeSchedule():this.pendingCompute=window.setTimeout(()=>{this._computeSchedule()},t)}_computeSchedule(){const e=window.catalog;if(!e)return;this.cleanSchedule(!1);const t=[[],[],[],[],[],[],[]],s=[];for(const o in this.All){const i=this.All[o],a=e.getCourse(o),r=parseFloat(a.units),n=isNaN(r)?0:r,l=-1===i?(this.totalCredit+=n,-1):i.reduce((e,t)=>(t.size&&(t.forEach(t=>e.add(t)),this.totalCredit+=n),e),new Set),c=e.getCourse(o,l);if(c.sections.length){if(-1===l)s.push([a,[" - "]]),this.place(c,t);else if(1===l.size){const e=c.sections[0];s.push([a,[e.id.toString()]]),this.place(e,t)}else if(l.size>0){if(Ae.multiSelect){const s=Object.values(c.getCombined()).map(t=>e.getCourse(c.key,t.map(e=>e.id)));for(const e of s)this.place(e,t)}else this.place(c,t);s.push([a,c.sections.map(e=>e.id.toString())])}}else s.push([a,[" - "]])}if(this._preview){const e=this._preview;let s=!1;for(const i of t)for(const t of i)t.section.has(e)&&(s=t.strong=!0);s||this.place(e,t)}s.sort((e,t)=>-(e[0].key<t[0].key)),this.current.courses=s.map(e=>e[0]),this.current.ids=s.map(e=>e[1]);for(const o of this.events)o.display&&this.place(o,t);Ie(t);const i=t.reduce((e,t)=>e+t.length,0);i<200?this.days=t:i<17500?this.days=Object.seal(t):(this.days=[[],[],[],[],[],[],[]],console.warn("not rendered!"))}constructDateSeparator(){const e=[];for(const t in this.All){const s=this.All[t],i=s instanceof Array?s.reduce((e,t)=>{for(const s of t)e.add(s);return e},new Set):-1,o=window.catalog.getCourse(t,i);for(const t of o.sections)t.dateArray&&0===(4&t.valid)&&e.push(t.dateArray)}this.constructDateSeparatorFromDateList(e)}constructDateSeparatorFromDateList(e){const t=new Set;for(const s of e)t.add(s[0]).add(s[1]+864e5);this.dateSeparators=[...t].sort((e,t)=>e-t),this.dateSelector>=this.dateSeparators.length&&(this.dateSelector=-1)}checkDate(e){if(!e)return!0;const[t,s]=e;return!(-1!==this.dateSelector&&u(this.dateSeparators[this.dateSelector],this.dateSeparators[this.dateSelector+1],t,s)<=0)}place(e,t){if(e instanceof H){if(!this.checkDate(e.dateArray))return;const s=this.getColor(e);for(const i of e.meetings)this.placeHelper(s,t,e,i,e.dateArray)}else if(e instanceof ke)e.display&&this.placeHelper(this.getColor(e),t,e,void 0);else{if(!e.allSameTime())return;const s=e.sections,i=s[0];if(!this.checkDate(i.dateArray))return;if(1===s.length){const e=this.getColor(i);for(const s of i.meetings)this.placeHelper(e,t,i,s,i.dateArray)}else if(Ae.combineSections){const s=this.getColor(e);for(const o of i.meetings)this.placeHelper(s,t,e,o,i.dateArray)}else for(const e of s){const s=this.getColor(e);for(const i of e.meetings)this.placeHelper(s,t,e,i,e.dateArray)}}}placeHelper(e,t,s,i,o){const a=s instanceof ke?s.days:i.days,[r,l,,c]=a.split(" ");if(r&&l&&c){const a=n(l),u=n(c);if(a===u)return void console.warn("start time equals end time:",s,l,c);for(let n=0;n<r.length;n+=2)t[_[r.substr(n,2)]].push(new Oe(e,a,u,s,i,o))}}cleanSchedule(e=!0){e&&(this.days=[[],[],[],[],[],[],[]]),this.colorSlots=Array.from({length:Ae.colors.length},()=>new Set),this.totalCredit=0,this.current.ids=[],this.current.courses=[]}toJSON(){const e={},t=window.catalog;for(const s in this.All){const i=this.All[s];e[s]=i instanceof Array?i.map(e=>{const s=[];for(const i of e){const{id:e,section:o}=t.getSectionById(i);s.push({id:e,section:o})}return s}):i}return{All:e,events:this.events}}has(e,t=!0){return t?this.events.some(t=>t.days===e)||this.days.some(t=>t.some(t=>t.section.key===e)):e in this.All||this.events.some(t=>t.days===e)}hasSection(e,t){const s=this.All[e];return s instanceof Array&&-1!==s.findIndex(e=>e.has(t))}isCourseEmpty(e){const t=this.All[e];return t instanceof Array&&t.every(e=>0===e.size)}isSomeTBD(e){const t=this.All[e];if(!(t instanceof Array))return!1;if(0===t.length)return!1;const s=new Set(t[0]);for(let i=1;i<t.length;i++)for(const e of t[i])s.add(e);return window.catalog.getCourse(e,s).sections.some(e=>e.isTBD())}isAnySection(e){return-1===this.All[e]}getSectionGroup(e,t){const s=this.All[e];return-1!==s&&s instanceof Array?s.findIndex(e=>e.has(t)):-1}isGroup(e){const t=this.All[e];return t instanceof Array&&t.length>1}ungroup(e){const t=this.All[e];if(t instanceof Array&&t.length>1){const e=t[0];for(let s=1;s<t.length;s++)for(const i of t[s])e.add(i);t.splice(1),this.constructDateSeparator(),this.computeSchedule()}}clean(){this.cleanSchedule(),this.All={},this._preview=null,this.events=[],this.constructDateSeparator()}empty(){return 0===Object.keys(this.All).length&&0===this.events.length}equals(e){const t=this.events.map(e=>e.days).sort(),s=e.events.map(e=>e.days).sort();if(t.length!==s.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==s[i])return!1;return this.allEquals(e.All)}allEquals(e){const t=this.All,s=Object.keys(t);if(s.length!==Object.keys(e).length)return!1;for(const i of s){const s=t[i],o=e[i];if(!o)return!1;if(-1===s||-1===o){if(s!==o)return!1}else{if(s.length!==o.length)return!1;for(let e=0;e<s.length;e++){let t=!1;for(let i=0;i<o.length;i++){const a=s[e],r=o[i];let n=!0;for(const e of a)if(!r.has(e)){n=!1;break}if(n){t=!0;break}}if(!t)return!1}}}return!0}}function Ne(e){return"object"===typeof e[0]&&"number"===typeof e[0].id}function Ee(e){return e[0]instanceof Array&&Ne(e[0])}function Me(e,t,s,i){const o=new Set;for(const a of e){const e="undefined"===typeof a.section?t.find(e=>e.id===a.id):t.find(e=>e.id===a.id&&e.section===a.section);e?o.add(e.id):s.push(`Section ${a.section} of ${i} does not exist anymore! It probably has been removed!`)}return o}Ae.combineSections=!0,Ae.multiSelect=!0,Ae.savedColors={},Ae.colors=$e[0].colors;class Pe extends Ae{constructor(e={},t=[]){super(e,t)}update(e,t,s=0,i=!0,o=!0){if(-1===t)-1===this.All[e]?i?delete this.All[e]:this.All[e]=[]:this.All[e]=-1;else{let o=this.All[e];if(o instanceof Array){const a=o.find(e=>e.has(t));s<0&&(s=0);const r=o[s]||new Set;a===r?r.delete(t)?i&&this.isCourseEmpty(e)&&delete this.All[e]:r.add(t):(void 0===a||a.delete(t),r.add(t)),o[s]=r}else this.All[e]=o=[(new Set).add(t)];for(let e=o.length-1;e>=0&&0===o[e].size;e--)o.pop();for(let e=0;e<o.length;e++)o[e]instanceof Set||(o[e]=new Set)}o&&(this.constructDateSeparator(),this.computeSchedule())}addEvent(e,t,s,i,o){for(const r of this.events)if(r.days===e)throw new Error(`Your new event's time is identical to ${r.title}. Please consider merging these two events.`);const a=new ke(e,t,s,o,i);return this.events.push(a),this.computeSchedule(),a}deleteEvent(e){for(let t=0;t<this.events.length;t++)if(this.events[t].days===e){this.events.splice(t,1);break}this.computeSchedule()}static fromJSON(e){if(!e)return{level:"error",msg:"Invalid object"};const t=new Pe;e.events&&(t.events=e.events.map(e=>Object.freeze(e instanceof ke?e:Object.setPrototypeOf(e,ke.prototype))));const s=Object.keys(e.All).map(e=>e.toLowerCase());if(0===s.length)return{level:"success",msg:"Empty schedule",payload:t};const i=[],o=window.catalog;for(const a of s){const s=e.All[a],r=o.getCourse(a);let n=a;if(de){const e=a.match(he);e&&4===e.length&&(e[3]=ce[+e[3]],e[1]=e[1].toUpperCase(),n=e.slice(1).join(" "))}if(!r){i.push(n+" does not exist anymore! It probably has been removed!");continue}const l=r.sections;s instanceof Array?s.length?S(s)?t.All[a]=[new Set(s.filter(e=>(e>=l.length&&i.push(`Invalid section id ${e} for ${n}. It probably has been removed!`),e<l.length)).map(e=>l[e].id))]:Ne(s)?t.All[a]=[Me(s,l,i,n)]:Ee(s)?t.All[a]=s.map(e=>Me(e,l,i,n)):t.All[a]=[new Set]:t.All[a]=[]:t.All[a]=s}return i.length?{level:"warn",payload:t,msg:i.join("<br>")}:{level:"success",payload:t,msg:"Success"}}copy(e=!0){const t=this._copy();return new Pe(t,e?this.events.map(e=>e.copy()):this.events)}randEvents(e=20,t=240,s=20){for(let i=0;i<e;i++){let e="";for(let t=0;t<7;t++)Math.random()<.5&&(e+=k[t]);if(!e){i--;continue}const a=Math.floor(Math.random()*(1440-t)),r=a+s+Math.floor(Math.random()*(t-s));r>=1440||(e+=" "+o(d(a))+" - "+o(d(r)),this.events.push(new ke(e,!0,"rand "+i)))}this.computeSchedule(),window.saveStatus()}addAllClasses(){const e=window.catalog;for(const t of e.courses)if("IND"!=t.type){const e=[new Set(t.sections.filter(e=>e.meetings.every(e=>-1===e.room.indexOf("Web-Based"))).map(e=>e.id))];e[0].size&&(this.All[t.key]=e)}this.constructDateSeparator(),this.computeSchedule()}remove(e){delete this.All[e],this.constructDateSeparator(),this.computeSchedule()}}const Le='You are editing a generated schedule, please edit the proposed schedule instead. If you want to keep this particular generated schedule, click "copy" to do so.';class je extends Ae{constructor(e=[],t=[]){const s={};for(const[i,o]of e){const e=s[i];e?e.push(new Set(o)):s[i]=[new Set(o)]}super(s,t),this.All=s}update(){throw new x(Le)}remove(){throw new x(Le)}copy(e=!0){const t=this._copy();return new Pe(t,e?this.events.map(e=>e.copy()):this.events)}}var Be;(function(e){e[e["fallback"]=0]="fallback",e[e["combined"]=1]="combined"})(Be||(Be={}));class De{constructor(e={sortBy:[],mode:0},t=[],s=[],i=[],o={},a){this.options=e,this.events=t,this.classList=s,this.secLens=i,this.Module=a,this.refSchedule=o}get size(){return this.Module?this.Module._size():0}get refSchedule(){return this._refSchedule}set refSchedule(e){if(this._refSchedule=e,!this.Module||0===Object.keys(e).length)return;const t=this.secLens.length-1,s=this.Module._malloc(2*t),i=this.Module.HEAPU16.subarray(s/2,s/2+t).fill(65535);for(const o in e){const s=e[o].reduce((e,t)=>{for(const s of t)e.push(s);return e},[]);for(let e=0;e<t;e++)for(let t=this.secLens[e];t<this.secLens[e+1];t++){const a=this.classList[t];if(a[0]===o&&s.some(e=>a[1].includes(e))){i[e]=t;break}}}this.Module._setRefSchedule(s)}sort({newOptions:e}={}){if(this.Module){e&&(this.options=e),this.Module._setSortMode(this.options.mode);for(let e=0;e<this.options.sortBy.length;e++){const t=this.options.sortBy[e];this.Module._setSortOption(e,+t.enabled,+t.reverse,t.idx,t.weight||0)}this.Module._sort()}}getSchedule(e){const t=this.Module,s=t._getSchedule(e)/2;return new je(Array.from(t.HEAPU16.subarray(s,s+this.secLens.length-1)).map(e=>this.classList[e]),this.events)}empty(){return 0===this.size}getRange(e){return this.Module?"IamFeelingLucky"==e.name?1:this.Module._getRange(e.idx):1}}var Fe=De;function Re(e,t,s=2,i=2){for(let o=0;o<7;o++){const a=e[o],r=t[o];if(r.length)for(let e=0;e<a.length;e+=s){const t=a[e],s=a[e+1];for(let e=0;e<r.length;e+=i)if(u(t,s,r[e],r[e+1])>0)return!0}}return!1}function ze(e,t){const s=t.length,i=8*s;let o=i;for(const n of t)for(const e of n)o+=e.length;const a=e._malloc(2*o),r=e.HEAPU16.subarray(a/2);o=0;for(let n=0;n<s;n++){for(let e=0;e<7;e++){r[8*n+e]=o;const s=t[n][e];r.set(s,o+i),o+=s.length}r[8*n+7]=o}return a}function We(e,t,s){const i=e.length;for(let o=0;o<i;o++)for(let a=o+1;a<i;a++)s[o*i+a]=s[a*i+o]=+(Re(e[o],e[a],3,3)&&-1!==u(t[o][0],t[o][1],t[a][0],t[a][1]))}class Je{constructor(e,t,s){this.catalog=e,this.timeMatrix=t,this.options=s}getSchedules(e,t={}){const s=e.events.map(e=>e.toTimeArray());for(const g of this.options.timeSlots)s.push(g.toTimeArray());const i=[],o=[],a=[],r=[0],n=e.All,l=[];for(const g in n){const e=n[g],t=-1===e?[-1]:e;let c=!0;for(let n=0;n<t.length;n++){const e=t[n];if(e instanceof Set&&0===e.size)continue;const u=this.catalog.getCourse(g,e),[d,h,p,m]=this.filterSections(u,s);c=!1,0===d.length?l.push({level:"warn",msg:`Not scheduled: ${u.displayName}${0===n||-1===e?"":" belonging to group "+n}. Reason: No sections satisfy your filters and do not conflict with your events`}):(r.push(d.length),i.push(...d),o.push(...h),a.push(...p)),m&&l.push({level:"warn",msg:`Warning: No sections of ${u.displayName}${0===n||-1===e?"":" belonging to group "+n} have valid meeting times (e.g. All TBA/TBD/Online Asynchronous). It will not be shown on the schedule grid.`})}if(c)return{level:"error",msg:`No sections of ${this.catalog.getCourse(g,-1).displayName} are selected!`}}if(0===i.length)return{level:"error",msg:"Given your filter, we cannot generate schedules without overlapping classes"};for(let g=1;g<r.length;g++)r[g]+=r[g-1];const c=window.NativeModule,u=c._malloc(4*r.length);c.HEAP32.set(r,u/4);const d=i.length**2,h=c._malloc(d);We(o,a,c.HEAPU8.subarray(h,h+d));const p=c._generate(r.length-1,this.options.maxNumSchedules,u,h,ze(c,o));if(p<0)return{level:"error",msg:"Out of memory! Please try to reduce the max number of schedules"};if(0===p)return{level:"error",msg:"Given your filter, we cannot generate schedules without overlapping classes"};const m=new Fe(this.options.sortOptions,e.events,i,r,t,window.NativeModule);m.sort();let f="";for(const g of l)f+=g.msg+"<br>";return{level:l.length>0?"warn":"success",msg:`${f}${p} Schedules Generated!`,payload:m}}filterSections(e,t){const s=[],i=[],o=[],a=this.options.combineSections?Object.values(e.getCombined()):e.sections.map(e=>[e]);let r=!0;e:for(const n of a){const a=c(n[0].dates);if(!a)continue;const l=n[0].getTimeRoom();if(l.some(e=>e.length>0)){r=!1;for(const e of t)if(Re(e,l,2,3))continue e}const u=[];for(const e of n)this.options.status.includes(e.status)||u.push(e.id);u.length&&(s.push([e.key,u]),i.push(l),o.push(a))}return[s,i,o,r]}}var Ue=Je;function Ve(e,t,s){return Math.min(Math.max(t,e),s)}class He{constructor(){this.showTime=!1,this.showRoom=!0,this.showInstructor=!0,this.showClasslistTitle=!0,this.showSuffix=!0,this.standard=!1,this.multiSelect=!0,this.combineSections=!0,this.expandOnEntering=!1,this.enableLog=!0,this.showWeekend=!1,this._fullHeight=40,this._partialHeight=30,this._maxNumSchedules=2e5,this._numSearchResults=6,this._earliest="08:00",this._latest="19:00",this._width=100,this._colorScheme=0}static compressJSON(e){const t=Object.keys(e).sort(),s=[0];let i=0,o=1;for(const a of t)!0===e[a]?(i|=o,o<<=1):!1===e[a]?o<<=1:s.push(e[a]);return s[0]=i,s}static decompressJSON(e){const t=new He,s=Object.keys(t).sort();let i=1,o=1;const a=e[0];for(const r of s)r.startsWith("_")?t[r]=e[i++]:(t[r]=Boolean(a&o),o<<=1);return t}get fullHeight(){return this._fullHeight}set fullHeight(e){this._fullHeight=Ve(e,1,100)}get partialHeight(){return this._partialHeight}set partialHeight(e){this._partialHeight=Ve(e,1,100)}get numSearchResults(){return this._numSearchResults}set numSearchResults(e){this._numSearchResults=Ve(e,1,20)}get maxNumSchedules(){return this._maxNumSchedules}set maxNumSchedules(e){this._maxNumSchedules=Ve(e,1e3,5e6)}get earliest(){return this._earliest}set earliest(e){this._earliest=d(Ve(r(e||"8:00"),0,719))}get latest(){return this._latest}set latest(e){this._latest=d(Ve(r(e||"22:00"),720,1439))}get width(){return this._width}set width(e){this._width=Ve(e,10,1e4)}get colorScheme(){return this._colorScheme}set colorScheme(e){this._colorScheme=e}fromJSON(e){const t=this.getDefault();for(const s in t){const i=e[s],o=t[s];this[s]=typeof i===typeof o?i:o}}toJSON(){return this}getDefault(){return new He}}var qe=new He;const Ge=Object.freeze({info:"info",error:"danger",warn:"warning",success:"success"}),Ye=(Object.freeze({info:"info",danger:"error",success:"info",warning:"warn"}),Object.freeze({info:0,success:1,warning:2,danger:3}));class Ke{constructor(){this.msg="",this.cls="",this.history=[],this.job=null}notify(e,t="info",s=5,i=!1){"string"!==typeof e&&(t=Ge[e.level],e=e.msg),this.history.unshift({msg:e,cls:t,stamp:(new Date).toLocaleTimeString()}),(!this.cls||Ye[t]>=Ye[this.cls]||i)&&(this.job&&window.clearTimeout(this.job),this.msg=e,this.cls=t,this.clear(s))}empty(){return!this.msg&&!this.cls}clear(e=0){e<=0?(this.msg="",this.cls="",this.job=null):this.job=window.setTimeout(()=>this.clear(0),1e3*e)}clearHistory(){this.history=[]}warn(e,t=5,s=!1){this.notify(e,"warning",t,s)}error(e,t=5,s=!1){this.notify(e,"danger",t,s)}success(e,t=5,s=!1){this.notify(e,"success",t,s)}info(e,t=5,s=!1){this.notify(e,"info",t,s)}}var Qe=new Ke;const Ze={sortBy:[{name:"distance",enabled:!0,reverse:!1,idx:0,weight:1,exclusive:["IamFeelingLucky"],title:"Walking Distance",description:"Avoid long distance walking between classes"},{name:"variance",enabled:!0,reverse:!1,idx:1,weight:1,exclusive:["IamFeelingLucky"],title:"Variance",description:"Balance the class time each day"},{name:"compactness",enabled:!1,reverse:!1,idx:2,weight:1,exclusive:["IamFeelingLucky"],title:"Vertical compactness",description:"Make classes back-to-back"},{name:"lunchTime",enabled:!1,reverse:!1,idx:3,weight:1,exclusive:["IamFeelingLucky"],title:"Lunch Time",description:"Leave spaces for lunch"},{name:"noEarly",enabled:!1,reverse:!1,idx:4,weight:1,exclusive:["IamFeelingLucky"],title:"No Early",description:"Start my day as late as possible"},{name:"similarity",enabled:!1,reverse:!1,idx:5,weight:1,exclusive:["IamFeelingLucky"],title:"Similarity",description:"Similar to a selected schedule"},{name:"IamFeelingLucky",enabled:!1,reverse:!1,idx:6,weight:1,exclusive:["variance","compactness","lunchTime","noEarly","distance"],title:"I'm Feeling Lucky",description:"Sort randomly"}],mode:Be.combined,toJSON(){return{sortBy:this.sortBy.map(e=>({name:e.name,enabled:e.enabled,reverse:e.reverse,idx:e.idx,weight:e.weight})),mode:this.mode}},fromJSON(e){if(e&&void 0!==e.mode&&e.sortBy){this.mode=e.mode;for(const t of e.sortBy)for(const e of this.sortBy)if(e.name===t.name){e.enabled=t.enabled,e.reverse=t.reverse,e.weight=t.weight||1;break}}return this}};function Xe(){const e=Object.assign({},Ze);return e.sortBy=e.sortBy.map(e=>Object.assign({},e)),e}window.scheduleEvaluator=new Fe;class et{constructor(){this.timeSlots=[],this.allowWaitlist=!0,this.allowClosed=!0,this.sortOptions=Xe(),this.refSchedule={},this.sortModes=[{mode:Be.combined,title:"Combined",description:"Combine all sorting options enabled and given them equal weight"},{mode:Be.fallback,title:"Fallback",description:"Sort using the options on top first. If compare equal, sort using the next option. You can drag the sorting options to change their order."}]}static compressJSON(e){let t=0;e.allowClosed&&(t+=1),e.allowWaitlist&&(t+=2),1===e.sortOptions.mode&&(t+=4);let s=1,i=0;const o=[],a=[];for(const c of e.sortOptions.sortBy)o.push(c.name.charCodeAt(0)),c.enabled&&(i|=s),s<<=1,c.reverse&&(i|=s),s<<=1,a.push(c.weight);const{payload:r,level:n,msg:l}=Pe.fromJSON({All:e.refSchedule,events:[]});return"warn"===n&&Qe.warn("Warning: Reference schedule used in sort by similarity is removed because <br>"+l),[t,i,o,a,e.timeSlots.map(e=>{let t=1,s=0;for(let i=0;i<7;i++)e[i]&&(s|=t),t<<=1;return[s,e[7],e[8]]}),r&&"warn"!==n?Ae.compressJSON(r.toJSON())[0]:{}]}static decompressJSON(e){const t=new et,[s,i,o,a,r,n]=e;t.allowClosed=Boolean(1&s),t.allowWaitlist=Boolean(2&s),t.sortOptions.mode=+Boolean(4&s),t.timeSlots=r.map(e=>{const t=[!1,!1,!1,!1,!1,!1,!1,e[1],e[2]],s=e[0];let i=1;for(let o=0;o<7;o++)t[o]=Boolean(i&s),i<<=1;return t});const l=t.sortOptions.sortBy,c=[];let u=1;for(let p=0;p<o.length;p++){const e=o[p],t=l.find(t=>t.name.charCodeAt(0)===e);t.enabled=Boolean(i&u),u<<=1,t.reverse=Boolean(i&u),u<<=1,t.weight=a[p],c.push(t)}t.sortOptions.sortBy=c;const{payload:d,level:h}=Pe.fromJSON(Ae.decompressJSON([n]));return d&&"warn"!==h&&(t.refSchedule=d.All),t.toJSON()}get similarityEnabled(){return 0!==Object.keys(this.refSchedule).length}addTimeSlot(){this.timeSlots.push([!1,!1,!1,!1,!1,!1,!1,"",""])}removeTimeSlot(e){this.timeSlots.splice(e,1)}computeFilter(){const e=[];if(!this.timeSlots.length)return{msg:"no filters",level:"success",payload:e};for(const t of this.timeSlots){let s="";for(let e=0;e<7;e++)t[e]&&(s+=k[e]);if(!s)continue;const i=t[7].split(":"),a=t[8].split(":");if(isNaN(+i[0])||isNaN(+i[1])||isNaN(+a[0])||isNaN(+a[1]))return{msg:"Invalid time input! Please check your filters.",level:"error"};s+=" "+o(t[7])+" - "+o(t[8]),e.push(new ke(s,!1))}return e.length?{msg:"success",level:"success",payload:e}:{msg:"You need to select at least one day! Please check your filters.",level:"error"}}fromJSON(e){const t=this.getDefault();this.timeSlots=e.timeSlots instanceof Array?e.timeSlots:t.timeSlots,this.allowClosed="boolean"===typeof e.allowClosed?e.allowClosed:t.allowClosed,this.allowWaitlist="boolean"===typeof e.allowWaitlist?e.allowWaitlist:t.allowWaitlist,this.sortOptions=t.sortOptions.fromJSON(e.sortOptions);const{payload:s,level:i,msg:o}=Pe.fromJSON({All:e.refSchedule||{},events:[]});"warn"===i&&Qe.warn("Warning: Reference schedule used in sort by similarity is removed because <br>"+o),this.refSchedule=s&&"warn"!==i?s.All:t.refSchedule}toJSON(){const e=this,{sortModes:t,refSchedule:s}=e,i=Object(E["b"])(e,["sortModes","refSchedule"]),o=new Pe(s).toJSON().All;return Object.assign({refSchedule:o},i)}getDefault(){return new et}}var tt=new et,st=(s("4ad5"),s("c5e1")),it=s.n(st);class ot{constructor(){this.section=null,this.course=null,this.url="",this.match=[[],new Map]}showSectionModal(e){this.section=e,it()("#section-modal").modal()}showCourseModal(e,t){this.course=e,this.match=t||[[],new Map],it()("#course-modal").modal()}showURLModal(e){this.url=e,it()("#url-modal").modal()}async showReleaseNoteModal(){const e=await C();it()("#release-note-body").html(e),it()("#versionModal").modal()}}var at=new ot;class rt{constructor(){this.savedColors={}}static compressJSON(e){return e.savedColors}static decompressJSON(e){return{savedColors:e}}fromJSON(e){this.savedColors=e.savedColors||{}}getDefault(){return new rt}toJSON(){return this}}var nt=new rt;class lt{constructor(){this.current=localStorage.getItem("currentProfile")||"";const e=JSON.parse(localStorage.getItem("profiles")||"[]")||[];0===e.length?this.profiles=e:"string"===typeof e[0]?this.profiles=e.map(e=>this.createProfile(e)):"object"===typeof e[0]?this.profiles=e:(console.error("unknown profile format"),this.profiles=[]),this.loadToken()}loadToken(){this.tokenType=localStorage.getItem("token_type")||"",this.accessToken=localStorage.getItem("access_token")||""}initProfiles(e){if(!e.length)return;const t=localStorage.getItem("currentProfile"),s=[];if(!t){for(const o of e.concat().reverse()){const e=localStorage.getItem(o.id);if(e){let t=null;try{t=JSON.parse(e)}catch(i){console.error(i)}t&&(t.name=o.name,localStorage.removeItem(o.id),localStorage.setItem(o.name,JSON.stringify(t)),s.push(o.name))}}const t=e[0].name;s.includes(t)||s.push(t),this.current=t,this.profiles=s.map(e=>this.createProfile(e))}}createProfile(e){return{name:e,remote:!1,versions:[],currentVersion:-1}}async sha256(e){const t=(new TextEncoder).encode(e),s=await crypto.subtle.digest("SHA-256",t),i=Array.from(new Uint8Array(s)),o=i.map(e=>("00"+e.toString(16)).slice(-2)).join("");return o}getRedirectURL(){return te?se.oauth_electron_redirect_uri:window.location.origin}async loginBackend(){const e=Math.random().toString(),t=Math.random().toString();localStorage.setItem("auth_state",t),localStorage.setItem("auth_code_verifier",e),window.location.href=`${se.code}?${Object(B["stringify"])({client_id:se.client_id,state:t,redirect_uri:this.getRedirectURL(),code_challenge:await this.sha256(e),code_challenge_method:"S256"})}`}async getBackendToken(e){if(e){const t=await p.a.post(se.token,{client_id:se.client_id,code:e,grant_type:"authorization_code",code_verifier:localStorage.getItem("auth_code_verifier"),redirect_uri:this.getRedirectURL()});localStorage.removeItem("auth_state"),localStorage.removeItem("auth_code_verifier");const s=t.data;if(s["access_token"])return localStorage.setItem("access_token",s["access_token"]),localStorage.setItem("token_type",s["token_type"]),!0}return!1}async renameProfile(e,t,s,i){t===this.current&&(this.current=s);const o=JSON.parse(i);o.name=s,localStorage.removeItem(t);const a=JSON.stringify(o);if(localStorage.setItem(s,a),this.profiles[e].name=s,this.tokenType&&this.profiles[e].remote){const i=await this.requestBackend(se.edit,{action:"rename",oldName:t,newName:s,profile:a});if(!i.success)return this.logout(),{msg:`Failed to communicate with ${se.name}: ${i.message}. Please try to re-login from ${se.name}.`,level:"error"};this.profiles[e].versions=i.versions.sort((e,t)=>t.version-e.version),this.profiles[e].currentVersion=i.versions[0].version}}async deleteRemote(e){const t={msg:"",level:"success"},s=await this.requestBackend(se.edit,{action:"delete",name:e});return s.success||("Profile doesn't exist"===s.message?(t.level="warn",t.msg=`Profile ${e} is already deleted from ${se.name}! The deletion was probably requested by another device.`):(this.logout(),t.level="error",t.msg=`Failed to communicate with ${se.name}: ${s.message}. Please try to re-login from ${se.name}.`)),t}async deleteProfile(e,t,s=!0){let i={msg:"",level:"success"};return this.tokenType&&this.profiles[t].remote&&s&&(i=await this.deleteRemote(e)),this.profiles.splice(t,1),localStorage.removeItem(e),e===this.current&&(t===this.profiles.length?i.payload=this.current=this.profiles[t-1].name:i.payload=this.current=this.profiles[t].name),i}async addProfile(e,t="Untitled",s=""){e.modified=(new Date).toJSON(),e.name=e.name||t;let i=this.profiles.find(t=>t.name===e.name);if(i){if(!confirm(s||`A profile named ${e.name} already exists! Click confirm to overwrite, click cancel to keep both.`)){let t=2;while(this.profiles.find(s=>s.name===`${e.name} (${t})`))t++;e.name=`${e.name} (${t})`,localStorage.setItem(e.name,JSON.stringify(e)),this.profiles.push(i=this.createProfile(e.name))}}else this.profiles.push(i=this.createProfile(e.name));const o=JSON.stringify(e);if(localStorage.setItem(e.name,o),this.current=e.name,this.tokenType&&i.remote){const t=await this.uploadProfile([{profile:o,name:e.name,new:!0}]);if(t)return t}}isLatest(e){const t=this.profiles[e];return!t.remote||t.currentVersion===t.versions[0].version}async requestBackend(e,t){try{return(await y(p.a.post(e,t,{headers:{Authorization:this.tokenType+" "+this.accessToken}}),6e3,"Timed out")).data}catch(s){return{success:!1,message:s.message||s}}}async getRemoteProfile(e,t){const s=await this.requestBackend(se.down,{name:e,version:t}),i={level:"success",msg:""};return s.success?i.payload=s.profiles[0]:(i.level="error",i.msg=`Failed to communicate with ${se.name}: ${s.message}. Please try to re-login from ${se.name}.`,this.logout()),i}async uploadProfile(e){const t=await this.requestBackend(se.up,{profiles:e});if(!t.success)return this.logout(),{msg:`Failed to communicate with ${se.name}: ${t.message}. Please try to re-login from ${se.name}.`,level:"error"};for(let s=0;s<e.length;s++){const i=e[s].name,o=t.versions[s].sort((e,t)=>t.version-e.version),a=this.profiles.find(e=>e.name===i);a.versions=o,a.currentVersion=o[0].version}}async syncProfiles(){if(!this.tokenType)return{msg:"No backend exists. Abort syncing profiles",level:"warn"};const e=await this.requestBackend(se.down,{});if(!e.success)return this.logout(),{msg:`Failed to communicate with ${se.name}: ${e.message}. Please try to re-login from ${se.name}.`,level:"error"};const t=new Map(e.profiles.map(e=>{const t=JSON.parse(e.profile);return[t.name,{versions:e.versions.sort((e,t)=>t.version-e.version),profile:t}]}));this.profiles.concat().forEach(e=>{e.remote&&!t.has(e.name)&&this.deleteProfile(e.name,this.profiles.findIndex(t=>t.name===e.name),!1)});const s=[],i=[];for(const[a,{profile:r,versions:n}]of t){const e=this.profiles.find(e=>e.name===a);if(e&&e.remote){const t=localStorage.getItem(a),o=JSON.parse(t),l=new Date(o.modified).getTime(),c=new Date(r.modified).getTime();l<c?(localStorage.setItem(a,JSON.stringify(r)),e.versions=n,e.currentVersion=n[0].version,i.push(a)):l>c?s.push({name:a,profile:t,new:!0}):(e.versions=n,e.currentVersion=n[0].version)}else if(e&&!e.remote){const t=localStorage.getItem(a),o=JSON.parse(t);if(o.schedule.proposedSchedules.length>1||1===o.schedule.proposedSchedules.length&&(Object.keys(o.schedule.proposedSchedules[0].All).length>0||o.schedule.proposedSchedules[0].events.length>0)){const l=new Date(o.modified).getTime(),c=new Date(r.modified).getTime();l<=c?(localStorage.setItem(a,JSON.stringify(r)),e.remote=!0,e.versions=n,e.currentVersion=n[0].version,i.push(a)):confirm(`On the cloud (${se.name}) there exists a profile called "${a}", but locally you have a non-synchronized profile of the same name and is newer. Do you want to turn on synchronization for this profile? If you turned on synchronization, a new version of "${a}" will be created on ${se.name}. You will still be able to retrieve the original version on ${se.name} by viewing the version history.`)&&(e.remote=!0,s.push({name:a,profile:t,new:!0}))}else localStorage.setItem(a,JSON.stringify(r)),e.versions=n,e.currentVersion=n[0].version,e.remote=!0,i.push(a)}else localStorage.setItem(a,JSON.stringify(r)),this.profiles.push({name:a,remote:!0,versions:n,currentVersion:n[0].version}),i.push(a)}const o=await this.uploadProfile(s);return o||{msg:`Successfully synchronized your profiles with Hoosmyprofessor. Uploaded ${s.map(e=>e.name).join(", ")||"none"}, downloaded ${i.join(", ")||"none"}.`,level:"success"}}logout(){localStorage.removeItem("token_type"),localStorage.removeItem("access_token"),this.tokenType="",this.accessToken=""}}var ct=new lt;class ut{static compressJSON(e){return[e.currentScheduleIndex,e.proposedScheduleIndex,e.cpIndex,+e.generated,e.proposedSchedules.map(e=>Ae.compressJSON(e))]}static decompressJSON(e){return{currentScheduleIndex:e[0],proposedScheduleIndex:e[1],cpIndex:e[2],generated:Boolean(e[3]),proposedSchedules:e[4].map(e=>Ae.decompressJSON(e))}}constructor(){Object.assign(this,this.getDefault())}get proposedSchedule(){return this.proposedSchedules[this.proposedScheduleIndex]}switchProposed(e){e<this.proposedSchedules.length&&e>=0&&(this.proposedScheduleIndex=e,this.switchSchedule(!1),window.saveStatus())}newProposed(){this.proposedSchedules.push(new Pe),this.switchProposed(this.proposedSchedules.length-1),window.saveStatus()}copyCurrent(){const e=this.proposedSchedules.length;if(this.currentSchedule instanceof Pe)this.proposedSchedules.push(this.proposedSchedule.copy());else{const e=new Pe(this.currentSchedule.All,this.currentSchedule.events);this.proposedSchedules.push(e)}this.switchProposed(e),window.saveStatus()}deleteProposed(){if(1===this.proposedSchedules.length)return;const e=this.proposedScheduleIndex;confirm(`Are you sure to delete schedule ${e+1}?`)&&(e===this.cpIndex&&(window.scheduleEvaluator=new Fe,this.numGenerated=0,this.cpIndex=-1),this.proposedSchedules.splice(e,1),e>=this.proposedSchedules.length?this.switchProposed(e-1):this.switchProposed(e),window.saveStatus())}switchSchedule(e){e?this.cpIndex===this.proposedScheduleIndex&&this.numGenerated&&(this.generated=!0,this.switchPage(this.currentScheduleIndex)):(this.generated=!1,this.currentSchedule=this.proposedSchedule),window.saveStatus()}switchPage(e){this.numGenerated<=0||(e<0?this.currentScheduleIndex=0:e>=this.numGenerated?this.currentScheduleIndex=this.numGenerated-1:this.currentScheduleIndex=e,this.currentSchedule=window.scheduleEvaluator.getSchedule(this.currentScheduleIndex),window.saveStatus())}clear(){this.proposedSchedule.clean(),this.cpIndex===this.proposedScheduleIndex&&(this.cpIndex=-1,window.scheduleEvaluator=new Fe,this.numGenerated=0),this.switchSchedule(!1),window.saveStatus()}recomputeAll(e,t=50){this.currentSchedule!==this.proposedSchedule&&(this.currentSchedule.constructDateSeparator(),this.currentSchedule.computeSchedule(e,t)),this.proposedSchedules.forEach(s=>{s.constructDateSeparator(),s.computeSchedule(e,t)})}cancelComputeAll(){this.currentSchedule!==this.proposedSchedule&&this.currentSchedule.cancelCompute(),this.proposedSchedules.forEach(e=>e.cancelCompute())}fromJSON(e){const t=this.getDefault(),s=e.proposedSchedules;this.proposedSchedules=s instanceof Array?s.map(e=>{const t=Pe.fromJSON(e),s=t.payload;return s?("warn"===t.level&&Qe.notify(t),s):new Pe}):t.proposedSchedules,this.currentScheduleIndex="number"===typeof e.currentScheduleIndex?e.currentScheduleIndex:t.currentScheduleIndex,this.proposedScheduleIndex="number"===typeof e.proposedScheduleIndex?e.proposedScheduleIndex:t.proposedScheduleIndex,this.cpIndex="number"===typeof e.cpIndex?e.cpIndex:t.cpIndex,this.generated="boolean"===typeof e.generated?e.generated:t.generated,this.numGenerated=0,window.saveStatus()}toJSON(){const e=this,{numGenerated:t,currentSchedule:s}=e,i=Object(E["b"])(e,["numGenerated","currentSchedule"]);return i}getDefault(){const e=new Pe;return{currentScheduleIndex:0,currentSchedule:e,proposedSchedules:[e],proposedScheduleIndex:0,cpIndex:-1,generated:!1,numGenerated:0}}}var dt=new ut;function ht(e){return!!e&&!!e.modified}function pt(e,t,s,{expireTime:i=1/0,parse:o=(e=>e?JSON.parse(e):null),store:a=(t=>(localStorage.setItem(e,JSON.stringify({modified:new Date,[e]:t})),t)),validator:r=ht,force:n=!1}){const l=localStorage.getItem(e),c=o(l);if(!r(c))return{new:v(t().then(a))};if(!((new Date).getTime()-new Date(c.modified).getTime()>i||n))return{new:v(Promise.resolve(s(c)))};{const e=v(t().then(a));try{return{new:e,old:s(c)}}catch(u){return console.error(u),{new:e}}}}async function mt(e,{succMsg:t="",warnMsg:s=(e=>e),errMsg:i=(e=>e),timeoutTime:o=5e3}={}){try{const s=await y(e.new,o);return{payload:s,msg:t,level:"success"}}catch(a){return e.old?{payload:e.old,msg:s(w(a)),level:"warn"}:{msg:i(w(a)),level:"error"}}}function ft(){return mt(pt("semesters",()=>ie.semesters(),e=>e.semesters,{expireTime:ne,validator(e){return!!e&&!!e.modified&&!!e.semesters}}),{succMsg:"Semester list loaded",errMsg:e=>"Failed to fetch semester list: "+e,warnMsg:e=>`Failed to fetch semester list: ${e}. Old data is used`,timeoutTime:1e4})}var gt=s("74ce");class vt extends gt["a"]{constructor(e){super("db_"+e.id),this.version(1).stores({courses:"key",sections:"id",meta:"id"}),this.courses=this.table("courses"),this.sections=this.table("sections"),this.meta=this.table("meta")}async empty(){const[e,t]=await Promise.all([this.courses.count(),this.sections.count()]);return 0===e||0===t}async timestamp(){return(await this.meta.get(0)).time}async saveTimeStamp(){await this.meta.put({id:0,time:Date.now()})}}function yt(e,t){return Promise.all([t.courses.clear(),t.sections.clear()]).then(()=>Promise.all([t.courses.bulkAdd(e.courses),t.sections.bulkAdd(e.sections)])).then(()=>{t.saveTimeStamp()}),e}async function bt(e){const t={},[s,i]=await Promise.all([e.courses.toArray(),e.sections.toArray(e=>{const t=new Map;for(const s of e)t.set(s.id,s);return t})]),o=[];for(const a of s){const e=[],s=Object.setPrototypeOf(a,U.prototype);Object.defineProperty(s,"sections",{value:e});for(const t of a.ids){const a=i.get(t);if(!a)continue;const r=Object.setPrototypeOf(a,H.prototype);Object.defineProperty(r,"course",{value:s}),e.push(r),o.push(r)}t[a.key]=s}return[t,Object.values(t),o]}async function wt(e,t=!1){const s=new vt(e);if(await s.empty())return{new:v(ie.courses(e).then(e=>yt(e,s)))};{const i=await s.timestamp();if(t||Date.now()-i>le){const t=v(ie.courses(e).then(e=>yt(e,s)));return{new:t,old:new J(e,await bt(s),i)}}return{new:v(bt(s).then(t=>new J(e,t,i)))}}}class St{constructor(){this.semesters=[],this.current=null,this.lastUpdate="",this.pendingPromise=null}async loadSemesters(){const e=await ft();return this.semesters=e.payload||[],e}cancel(){const e=this.pendingPromise;e&&e.cancel("Canceled")}async selectSemester(e,t=!1){const s=await wt(e,t);s.old&&(this.pendingPromise=s.new);const{name:i}=e,o=await mt(s,{errMsg:e=>`Failed to fetch ${i} data: ${e}`,warnMsg:e=>`Failed to fetch ${i} data: ${e}. Old data is used`,succMsg:`Successfully loaded ${i} data!`,timeoutTime:15e5});return o.payload?(window.catalog=o.payload,this.current=e,this.lastUpdate=new Date(window.catalog.modified).toLocaleString()):(this.current=null,this.lastUpdate=""),this.pendingPromise=null,o}}var Ct=new St;class xt{constructor(){this.sideBar={showSelectClass:window.screen.width/window.screen.height>1,showFuzzy:!1,showEvent:!1,showFilter:!1,showSetting:!1,showExport:!1,showSelectColor:!1,showInfo:!1,showExternal:!1,showLog:!1,showCompare:!1},this.loading=!1,this.eventToEdit=null,this.isMobile=window.screen.width<600}get sideBarActive(){for(const e in this.sideBar)if(this.sideBar[e])return!0;return!1}foldView(){this.isMobile&&this.foldAllSideBar()}switchSideBar(e){for(const t in this.sideBar)t!==e&&(this.sideBar[t]=!1);this.sideBar[e]=!this.sideBar[e]}foldAllSideBar(){for(const e in this.sideBar)this.sideBar[e]=!1}}var _t=new xt;function kt(e){return!!e.currentSchedule&&!!e.proposedSchedule}function Ot(e){return!!e.currentSchedule&&!!e.proposedSchedules}let $t=0;function Tt(){const e=Ct.current;if(!e)return;const t=ct.current,s=ct.profiles.findIndex(e=>e.name===t);if(ct.tokenType&&ct.profiles[s].remote&&-1!==s&&!ct.isLatest(s))return;const i={name:t,modified:(new Date).toJSON(),currentSemester:e,display:qe,filter:tt.toJSON(),schedule:dt.toJSON(),palette:nt},o=JSON.stringify(i);localStorage.setItem(t,o),ct.tokenType&&ct.profiles[s].remote&&ct.uploadProfile([{name:t,profile:o}]).then(e=>{e&&Qe.notify(e)}),$t=-1}function It(){-1!==$t&&window.clearTimeout($t),$t=window.setTimeout(Tt,100)}const At=[];let Nt=class extends M["c"]{constructor(){super(...arguments),this.filter=tt,this.display=qe,this.status=_t,this.modal=at,this.schedule=dt,this.semester=Ct,this.palette=nt,this.noti=Qe,this.profile=ct,this.compare=At}saveStatus(){It()}async loadProfile(e=!1){if(!this.semester.semesters.length)return void this.noti.error("No semester data! Please refresh this page");window.scheduleEvaluator=new Fe;let t={};const s=localStorage.getItem(this.profile.current);if(s)try{t=JSON.parse(s)}catch(i){console.error(i)}if(t.currentSemester&&this.semester.current&&t.currentSemester.id===this.semester.current.id&&!e)console.warn("Semester data loading aborted");else{const s=t.currentSemester||this.semester.semesters[0];e&&this.noti.info(`Updating ${s.name} data...`,3600,!0),this.schedule.cancelComputeAll();const i=await this.semester.selectSemester(s,e);if(this.noti.notify(i),!i.payload)return}if(kt(t)){const e=t||{},s=e;s.proposedScheduleIndex=0,s.proposedSchedules=[s.proposedSchedule],this.display.fromJSON(s),this.filter.fromJSON(s),this.schedule.fromJSON(s),this.palette.fromJSON(s.currentSchedule||{savedColors:{}})}else if(Ot(t))this.display.fromJSON(t.display||{}),this.filter.fromJSON(t),this.schedule.fromJSON(t),this.palette.fromJSON(t.currentSchedule||{savedColors:{}});else{const e=t;this.display.fromJSON(e.display||{}),this.filter.fromJSON(e.filter||{}),this.schedule.fromJSON(e.schedule||{}),this.palette.fromJSON(e.palette||{})}this.compare.splice(0,this.compare.length),Ae.colors=$e[this.display.colorScheme].colors,Ae.combineSections=this.display.combineSections,Ae.multiSelect=this.display.multiSelect,this.schedule.generated?this.generateSchedules():this.schedule.switchSchedule(!1),this.schedule.recomputeAll(!0)}validateSortOptions(){const e=this.filter.sortOptions.sortBy.find(e=>"similarity"===e.name);return this.filter.sortOptions.sortBy.some(e=>e.enabled)?!this.filter.sortOptions.sortBy.some(e=>"distance"===e.name&&e.enabled)||window.buildingSearcher&&window.timeMatrix?(e.enabled&&!this.filter.similarityEnabled&&(this.noti.warn("Similarity sorting is enabled, but there is no reference schedule. It will be disabled automatically."),e.enabled=!1),!0):(this.noti.error('Filter: Building list fails to load. Please disable "walking distance"'),!1):(this.noti.error("Filter: You must have at least one sort option!"),!1)}getGeneratorOptions(){const e=[];this.filter.allowWaitlist||e.push("Wait List"),this.filter.allowClosed||e.push("Closed");const t=this.filter.computeFilter(),s=t.payload;return s?this.validateSortOptions()?{timeSlots:s,status:e,sortOptions:this.filter.sortOptions,combineSections:this.display.combineSections,maxNumSchedules:this.display.maxNumSchedules}:void 0:this.noti.notify(t)}generateSchedules(){if(this.status.foldView(),this.schedule.proposedSchedule.empty())return this.noti.warn("There are no classes in your schedule!");const e=this.getGeneratorOptions();if(!e)return;const t=new Ue(window.catalog,window.timeMatrix,e),s=t.getSchedules(this.schedule.proposedSchedule,this.filter.refSchedule);this.noti.notify(s,"info",5,!0);const i=s.payload;return i?(window.scheduleEvaluator=i,this.schedule.numGenerated=i.size,this.schedule.cpIndex=this.schedule.proposedScheduleIndex,this.schedule.switchSchedule(!0)):(window.scheduleEvaluator=new Fe,this.schedule.switchSchedule(!1),this.schedule.cpIndex=-1,this.schedule.numGenerated=0),i}async selectSemester(e){if(!this.semester.semesters.length)return void this.noti.error("No semester data! Please refresh this page");if(this.semester.current&&e&&e.id===this.semester.current.id)return;e=e||this.semester.semesters[0],this.status.loading=!0;const{profiles:t}=this.profile;let s={},i=-1/0;for(const{name:o}of t){const t=localStorage.getItem(o);if(t){const o=JSON.parse(t),{currentSemester:a,modified:r}=o;if(a&&a.id===e.id)if(r){const e=new Date(r).getTime();e>i&&(s=o,i=e)}else s.currentSemester||(s=o)}}s.currentSemester?this.profile.current=s.name:(s.currentSemester=e,await ct.addProfile(s,e.name,`You already have a profile named ${e.name}. However, it does not correspond to the ${e.name} semester. Click Ok to overwrite, click Cancel to keep both.`)),await this.loadProfile(),this.status.loading=!1}};Nt=Object(E["a"])([M["a"]],Nt);var Et=Nt;function Mt(e){const{name:t,modified:s,currentSemester:i,display:o,filter:a,schedule:r,palette:n}=JSON.parse(e);return[t,s,i.id,i.name,He.compressJSON(o),et.compressJSON(a),ut.compressJSON(r),rt.compressJSON(n)]}async function Pt(e){const t=JSON.parse(_e.a.decompressFromEncodedURIComponent(e.trim())),s={id:t[2],name:t[3]};return await Ct.selectSemester(s),{name:t[0],modified:t[1],currentSemester:s,display:He.decompressJSON(t[4]),filter:et.decompressJSON(t[5]),schedule:ut.decompressJSON(t[6]),palette:rt.decompressJSON(t[7])}}let Lt=class extends Et{get scheduleWidth(){return this.status.sideBarActive?100-re.sideBarWidth-re.tabBarWidth-re.sideMargin:100-re.tabBarWidth-re.sideMargin}get scheduleLeft(){return this.status.sideBarActive?re.sideBarWidth+re.tabBarWidth+1:re.tabBarWidth}get version(){return ee}};Lt=Object(E["a"])([M["a"]],Lt);var jt,Bt,Dt=Lt,Ft=Dt,Rt=(s("de4a"),s("2877")),zt=Object(Rt["a"])(Ft,P,L,!1,null,"7b9bb0fd",null),Wt=zt.exports,Jt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-info nav-btn mt-0",attrs:{id:"semester","data-toggle":"dropdown"}},[e.semester.pendingPromise?s("i",{staticClass:"fa fa-times click-icon mr-2",staticStyle:{"font-size":"16px"},attrs:{title:"Cancel loading"},on:{click:function(t){return e.semester.cancel()}}}):e._e(),e.status.loading||e.semester.pendingPromise?s("span",{staticClass:"spinner-border mr-1",staticStyle:{width:"1.2em",height:"1.2em","margin-bottom":"0.1em"}}):e._e(),e._v(" "+e._s(e.semester.current?e.semester.current.name:"Select Semester")+" "),s("i",{staticClass:"fas fa-caret-down ml-2",staticStyle:{"font-size":"20px"}})]),e.semester.semesters.length?s("div",{staticClass:"dropdown-menu w-100 thin-scroll",staticStyle:{"max-height":"25vh","overflow-y":"auto"}},e._l(e.semester.semesters,(function(t){return s("a",{key:t.id,staticClass:"dropdown-item w-100",on:{click:function(s){return e.selectSemester(t)}}},[e._v(e._s(t.name)+" ")])})),0):e._e()]),s("vue-typeahead-bootstrap",{staticClass:"mt-2",attrs:{data:e.queryTypes,minMatchingChars:1,size:"sm",placeholder:"Title/Topic/Prof./Desc."},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.closeClassList()}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}},[s("template",{slot:"append"},[s("span",{staticClass:"input-group-text px-2",class:{"click-icon":e.isEntering},on:{click:function(t){return e.closeClassList()}}},[e.isEntering?s("i",{staticClass:"fas fa-times"}):s("i",{staticClass:"fas fa-search"})])])],2),e.isEntering?s("ClassList",{ref:"enteringClassList",attrs:{courses:e.inputCourses,matches:e.inputMatches,schedule:e.schedule.currentSchedule,"is-entering":e.isEntering,"show-classlist-title":e.display.showClasslistTitle,"expand-on-entering":e.display.expandOnEntering},on:{"update-course":e.updateCourse,"course-modal":function(t){return e.modal.showCourseModal(t.crs,t.match)},close:function(t){return e.closeClassList()}}}):e._e(),s("button",{staticClass:"btn btn-info nav-btn mt-2",attrs:{title:e.schedule.generated?"Click to edit your schedule":"Click to view generated schedules"},on:{click:function(t){return e.schedule.switchSchedule(!e.schedule.generated)}}},[e._v(" "+e._s(e.schedule.generated?"View Schedule: "+(e.schedule.currentScheduleIndex+1):"Edit Classes")+" "),s("i",{staticClass:"fas fa-exchange-alt ml-4",staticStyle:{"font-size":"18px"}})]),s("div",{staticClass:"row no-gutters mx-3 align-items-center justify-content-between",staticStyle:{"font-size":"24px"}},[s("div",{staticClass:"col-auto"},[s("i",{staticClass:"fas fa-long-arrow-alt-left",class:e.schedule.proposedScheduleIndex>0?"click-icon":"icon-disabled",attrs:{title:"previous schedule"},on:{click:function(t){return e.schedule.switchProposed(e.schedule.proposedScheduleIndex-1)}}})]),s("div",{staticClass:"col-auto",staticStyle:{"font-size":"20px"},attrs:{title:"the index of the current schedule"}},[e._v(" "+e._s(e.schedule.proposedScheduleIndex+1)+" ")]),s("div",{staticClass:"col-auto"},[s("i",{staticClass:"fas fa-long-arrow-alt-right",class:e.schedule.proposedScheduleIndex<e.schedule.proposedSchedules.length-1?"click-icon":"icon-disabled",attrs:{title:"next schedule"},on:{click:function(t){return e.schedule.switchProposed(e.schedule.proposedScheduleIndex+1)}}})]),s("div",{staticClass:"col-auto"},[s("i",{staticClass:"far fa-calendar-plus click-icon",attrs:{title:"new schedule"},on:{click:function(t){return e.schedule.newProposed()}}})]),s("div",{staticClass:"col-auto"},[s("i",{staticClass:"far fa-copy click-icon",attrs:{title:"copy the current schedule to a new schedule"},on:{click:function(t){return e.schedule.copyCurrent()}}})]),s("div",{staticClass:"col-auto"},[s("i",{staticClass:"far fa-calendar-times",class:e.schedule.proposedSchedules.length>1?"click-icon":"icon-disabled",attrs:{title:"delete current schedule"},on:{click:function(t){return e.schedule.deleteProposed()}}})])]),s("ClassList",{ref:"selectedClassList",attrs:{courses:e.schedule.currentSchedule.current.courses,schedule:e.schedule.currentSchedule,"show-any":!e.schedule.generated,"show-classlist-title":e.display.showClasslistTitle},on:{"update-course":e.updateCourse,"remove-course":e.removeCourse,"course-modal":function(t){return e.modal.showCourseModal(t.crs,t.match)}}}),s("div",{staticClass:"btn-group mt-3 w-100"},[s("button",{staticClass:"btn btn-outline-info",attrs:{type:"button"},on:{click:function(t){return e.generateClick()}}},[e._v(" Generate ")]),s("button",{staticClass:"btn btn-outline-info",attrs:{title:"Remove all classes from the current schedule"},on:{click:function(t){return e.schedule.clear()}}},[e._v(" Clean ")])]),s("div",{staticClass:"custom-control custom-checkbox mt-2 mx-2",attrs:{title:"render all selected sections (except for 'any section')"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.display.multiSelect,expression:"display.multiSelect"}],staticClass:"custom-control-input",attrs:{id:"multiSelect",type:"checkbox"},domProps:{checked:Array.isArray(e.display.multiSelect)?e._i(e.display.multiSelect,null)>-1:e.display.multiSelect},on:{change:function(t){var s=e.display.multiSelect,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&e.$set(e.display,"multiSelect",s.concat([a])):r>-1&&e.$set(e.display,"multiSelect",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.display,"multiSelect",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"multiSelect"}},[e._v(" Show Multiple Sections ")])]),s("div",{staticClass:"btn bg-info nav-btn mt-2"},[e._v("Schedule Overview")]),s("ul",{staticClass:"list-group list-group-flush",staticStyle:{width:"99%"}},[s("li",{staticClass:"list-group-item p-2"},[e._v(" Total Credits: "+e._s(e.schedule.currentSchedule.totalCredit)+" "),e.schedule.currentSchedule.totalCredit>21?s("span",{staticClass:"ml-2",staticStyle:{"font-size":"1.2rem"},attrs:{title:"JUST DO IT"}},[e._v(" 😮 ")]):e._e()]),s("table",{staticClass:"ml-2 mr-0 mt-2 mb-2",attrs:{title:"You can use the 'add class by id' function of SIS to conveniently add classes to your SIS shopping cart"}},[e._m(0),e._l(e.current.ids.length,(function(t){return s("tr",{key:t},[s("td",[e._v(e._s(e.current.courses[t-1].displayName))]),s("td",[s("select",{staticClass:"custom-select custom-select-sm py-0"},e._l(e.current.ids[t-1],(function(t){return s("option",{key:t},[e._v(e._s(t))])})),0)])])}))],2)])],1)},Ut=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",[e._v("Course Name")]),s("th",[e._v("ID")])])])}],Vt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card-body p-1 w-100",attrs:{tabindex:"-1"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("close")}}},e._l(e.courses,(function(t,i){return s("div",{key:t.key,staticClass:"list-group list-group-flush w-100"},[s("div",{staticClass:"list-group-item py-1 px-0 w-100",on:{mouseenter:function(s){return e.schedule.hover(t.key)},mouseleave:function(s){return e.schedule.unhover(t.key)}}},[s("div",{staticClass:"row flex-nowrap no-gutters justify-content-between",staticStyle:{cursor:"pointer"},on:{click:function(s){return e.collapse(t.key)}}},[s("div",{staticClass:"col col-1 pl-1 align-self-center"},[s("i",{staticClass:"fas click-icon",class:e.expanded(t.key)?"fa-chevron-down":"fa-chevron-right"})]),s("div",{staticClass:"col-xs-auto mr-auto align-self-center my-0"},[s("h6",{staticClass:"mb-1"},[e.matches.length?s("span",{domProps:{innerHTML:e._s(e.highlightMatch(t.displayName,"key",e.matches[i][0]))}}):s("span",[e._v(e._s(t.displayName))]),e.schedule.isCourseEmpty(t.key)?s("span",{staticClass:"ml-1 text-danger",attrs:{title:"No sections are selected! You won't be able to generate schedules. If you want to remove this course, click x"}},[s("i",{staticClass:"fas fa-exclamation-triangle"})]):e._e(),e.schedule.isSomeTBD(t.key)?s("span",{staticClass:"ml-1 text-warning",attrs:{title:"All sections selected have invalid (e.g. TBA/TBD) meeting time. They will not appear on the schedule."}},[s("i",{staticClass:"fas fa-exclamation-triangle"})]):e._e()]),e.showClasslistTitle||e.isEntering?[e.matches.length?s("p",{staticStyle:{"font-size":"0.85rem",margin:"0"},domProps:{innerHTML:e._s(e.highlightMatch(t.title,"title",e.matches[i][0]))}}):s("p",{staticStyle:{"font-size":"0.85rem",margin:"0"}},[e._v(" "+e._s(t.title)+" ")])]:e._e()],2),s("div",{staticClass:"col align-self-center",class:{"text-center":e.showClasslistTitle,"text-right":!e.showClasslistTitle,"col-1":e.showClasslistTitle,"col-xs-auto":!e.showClasslistTitle}},[s("i",{staticClass:"fas fa-info-circle click-icon",class:{"pr-2":!e.showClasslistTitle},attrs:{title:"View class description"},on:{click:function(s){return s.stopPropagation(),e.$emit("course-modal",{crs:t,match:e.matches[i]})}}}),e.showClasslistTitle?s("br"):e._e(),e.isEntering?e._e():s("i",{staticClass:"fas fa-times click-icon",class:{"pr-1":!e.showClasslistTitle},attrs:{title:"Remove this class and all its sections from your schedule"},on:{click:function(s){return s.stopPropagation(),e.$emit("remove-course",t.key)}}})])])]),s("Expand",[e.expanded(t.key)?s("div",{staticClass:"trans"},[e.showAny?s("div",{staticClass:"row no-gutters flex-nowrap justify-content-between",staticStyle:{"font-size":"0.90rem"}},[s("div",{staticClass:"col col-7",staticStyle:{"border-right":"thin solid #eeeeee"},on:{click:function(s){return e.select(t.key,-1)}}},[s("div",{staticClass:"list-group-item list-group-item-action px-3",class:{active:e.schedule.isAnySection(t.key)}},[s("div",{staticClass:"row no-gutters flex-nowrap justify-content-between"},[s("div",{staticClass:"col-xs-auto mr-auto"},[e._v("Any Section")]),s("div",{staticClass:"col-xs-auto align-self-center"},[e.schedule.isAnySection(t.key)?s("i",{staticClass:"far fa-check-square"}):s("i",{staticClass:"far fa-square"})])])])]),s("div",{staticClass:"col col-5",on:{click:function(s){e.schedule.ungroup(t.key),e.updateGroup(t.key)}}},[s("div",{staticClass:"list-group-item list-group-item-action pl-2 pr-3",class:{active:e.schedule.isGroup(t.key)||e.group[t.key]},attrs:{title:"Group selection mode: new feature of plannable v8.x. See Information for details."}},[s("div",{staticClass:"row no-gutters flex-nowrap justify-content-between"},[s("div",{staticClass:"col-xs-auto mr-auto"},[e._v("Groups")]),s("div",{staticClass:"col-xs-auto align-self-center"},[e.schedule.isGroup(t.key)||e.group[t.key]?s("i",{staticClass:"far fa-check-square"}):s("i",{staticClass:"far fa-square"})])])])])]):e._e(),e._l(e.separatedCourses[t.key],(function(o,a){return[Object.keys(e.separatedCourses[t.key]).length>1?s("li",{key:a,staticClass:"list-group-item list-group-item-action py-2 pl-3 pr-0",attrs:{title:"click to select all sections in this time period"},on:{click:function(t){return e.selectAll(o.key,o)}}},[s("div",{staticClass:"row no-gutters justify-content-between"},[s("div",{staticClass:"col-md-auto"},[s("strong",[e._v(e._s(a))])]),s("div",{staticClass:"col col-sm-1 align-self-center"},[e.allTimeSelected(t.key,a)?s("i",{staticClass:"far fa-check-square"}):s("i",{staticClass:"far fa-square"})])])]):e._e(),e._l(o.sections,(function(o){return s("div",{key:o.id,staticClass:"list-group-item list-group-item-action class-section",class:{active:e.schedule.hasSection(t.key,o.id)},attrs:{title:e.schedule.hasSection(t.key,o.id)?"click to unselect":"click to select"},on:{mouseenter:function(t){return e.schedule.preview(o)},mouseleave:function(t){return e.schedule.removePreview()},click:function(s){return e.select(t.key,o.id)}}},[s("div",{staticClass:"row no-gutters flex-nowrap justify-content-between"},[s("div",{staticClass:"col col-8 mr-auto"},[s("ul",{staticClass:"list-unstyled m-0",staticStyle:{"font-size":"0.75rem"}},[s("li",[e._v(" Section "+e._s(o.section)+" "),o.valid?s("i",{staticClass:"fas fa-exclamation-triangle",class:o.validMsg[0],attrs:{title:o.validMsg[1]}}):e._e()]),s("li",[e.matches.length?s("span",{domProps:{innerHTML:e._s(e.highlightMatch(o.topic,"topic",e.matches[i][1].get(o.id)))}}):s("span",[e._v(" "+e._s(o.topic))])]),e._l(o.meetings,(function(t,i){return s("li",{key:i},[e._v(" "+e._s(t.days)+" ")])})),e.matches.length?s("li",{domProps:{innerHTML:e._s(e.highlightMatch(o.instructors,"instructors",e.matches[i][1].get(o.id)))}}):s("li",[e._v(e._s(o.instructors))]),e.matches.length?s("li",{domProps:{innerHTML:e._s(e.highlightMatch(o.rooms,"rooms",e.matches[i][1].get(o.id)))}}):s("li",[e._v(e._s(o.rooms))])],2)]),s("div",{staticClass:"col col-sm-auto align-self-center"},[s("input",{directives:[{name:"show",rawName:"v-show",value:e.schedule.isGroup(t.key)||e.group[t.key],expression:"schedule.isGroup(crs.key) || group[crs.key]"}],staticClass:"form-control form-control-sm",staticStyle:{width:"45px"},attrs:{id:t.key+"-"+o.id,type:"number",disabled:!e.schedule.hasSection(t.key,o.id),min:"0",max:"8"},domProps:{value:e.schedule.getSectionGroup(t.key,o.id)},on:{change:function(s){return e.select(t.key,o.id)},click:function(e){e.stopPropagation()}}})]),s("div",{staticClass:"col col-1 ml-3 mr-2 align-self-center"},[e.schedule.hasSection(t.key,o.id)?s("i",{staticClass:"far fa-check-square"}):s("i",{staticClass:"far fa-square"})])])])}))]}))],2):e._e()])],1)})),0)},Ht=[],qt={name:"Expand",functional:!0,render(e,t){const s={props:{name:"expand"},on:{afterEnter(e){e.style.height="auto"},enter(e){const{width:t}=getComputedStyle(e);e.style.width=t,e.style.position="absolute",e.style.visibility="hidden",e.style.height="auto";const{height:s}=getComputedStyle(e);e.style.removeProperty("width"),e.style.removeProperty("position"),e.style.removeProperty("visibility"),e.style.height=0,getComputedStyle(e).height,setTimeout(()=>{e.style.height=s})},leave(e){const{height:t}=getComputedStyle(e);e.style.height=t,getComputedStyle(e).height,setTimeout(()=>{e.style.height=0})}}};return e("transition",s,t.children)}},Gt=qt,Yt=(s("1ad4"),s("7a6d"),Object(Rt["a"])(Gt,jt,Bt,!1,null,"e47a4968",null)),Kt=Yt.exports;let Qt=class extends M["c"]{constructor(){super(...arguments),this.collapsed={},this.group={}}select(e,t){const s=document.getElementById(e+"-"+t);-1===t?(this.schedule.isAnySection(e)||this.$set(this.group,e,!1),this.$emit("update-course",e,t,0,this.isEntering)):this.$emit("update-course",e,t,+s.value,this.isEntering)}updateGroup(e){this.group[e]?this.$set(this.group,e,!1):(this.$set(this.group,e,!0),this.schedule.isAnySection(e)&&this.$emit("update-course",e,-1,0,this.isEntering))}selectAll(e,t){let s=!1;for(const i of t.sections)this.schedule.hasSection(e,i.id)||(s=!0,this.select(e,i.id));if(!s)for(const i of t.sections)this.select(e,i.id)}allTimeSelected(e,t){return this.separatedCourses[e][t].sections.every(t=>this.schedule.hasSection(e,t.id))}get separatedCourses(){const e=Object.create(null);for(const t of this.courses){const s=Object.create(null),i=t.sections;for(const{dates:e,id:t}of i)s[e]?s[e].add(t):s[e]=(new Set).add(t);const o=Object.create(null),a=t.sections.length;for(const e in s)s[e].size===a?o[e]=t:o[e]=window.catalog.getCourse(t.key,s[e]);e[t.key]=o}return e}collapse(e){this.expanded(e)?this.$set(this.collapsed,e,!1):this.$set(this.collapsed,e,!0)}expanded(e){const t=this.collapsed[e];return void 0===t&&this.isEntering&&this.expandOnEntering||t}};Object(E["a"])([Object(M["b"])({type:Array,default:()=>[]})],Qt.prototype,"courses",void 0),Object(E["a"])([Object(M["b"])({type:Array,default:()=>[]})],Qt.prototype,"matches",void 0),Object(E["a"])([Object(M["b"])(Object)],Qt.prototype,"schedule",void 0),Object(E["a"])([Object(M["b"])({default:!1,type:Boolean})],Qt.prototype,"isEntering",void 0),Object(E["a"])([Object(M["b"])({default:!0,type:Boolean})],Qt.prototype,"showAny",void 0),Object(E["a"])([Object(M["b"])({default:!1,type:Boolean})],Qt.prototype,"expandOnEntering",void 0),Object(E["a"])([Object(M["b"])({default:!0,type:Boolean})],Qt.prototype,"showClasslistTitle",void 0),Qt=Object(E["a"])([Object(M["a"])({components:{Expand:Kt}})],Qt);var Zt=Qt,Xt=Zt,es=(s("76ec"),Object(Rt["a"])(Xt,Vt,Ht,!1,null,"7ddd6ddf",null)),ts=es.exports,ss=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"typeahead-"+e.id,role:"combobox","aria-haspopup":"listbox","aria-owns":"result-list-"+e.id,"aria-expanded":e.isFocused&&e.data.length>0?"true":"false"}},[s("div",{class:e.inputGroupClasses},[e.$slots.prepend||e.prepend?s("div",{ref:"prependDiv",staticClass:"input-group-prepend"},[e._t("prepend",(function(){return[s("span",{staticClass:"input-group-text"},[e._v(e._s(e.prepend))])]}))],2):e._e(),s("input",{ref:"input",class:"form-control "+e.inputClass,attrs:{id:"typeahead-input-"+e.id,type:"text",role:"searchbox","aria-labelledby":e.ariaLabelledBy,"aria-multiline":"false","aria-autocomplete":"list","aria-controls":"result-list-"+e.id,"aria-activedescendant":"selected-option-"+e.id,name:e.inputName,placeholder:e.placeholder,"aria-label":!e.ariaLabelledBy&&e.placeholder,disabled:e.disabled},domProps:{value:e.inputValue},on:{focus:function(t){e.isFocused=!0},blur:e.handleFocusOut,input:function(t){return e.handleInput(t.target.value)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.handleEsc(t.target.value)},keyup:function(t){return e.$emit("keyup",t)}}}),e.$slots.append||e.append?s("div",{staticClass:"input-group-append"},[e._t("append",(function(){return[s("span",{staticClass:"input-group-text"},[e._v(e._s(e.append))])]}))],2):e._e()]),s("vue-typeahead-bootstrap-list",{directives:[{name:"show",rawName:"v-show",value:e.isFocused&&e.data.length>0,expression:"isFocused && data.length > 0"}],ref:"list",staticClass:"vbt-autcomplete-list",attrs:{id:"result-list-"+e.id,query:e.inputValue,data:e.formattedData,"background-variant":e.backgroundVariant,"background-variant-resolver":e.backgroundVariantResolver,"text-variant":e.textVariant,maxMatches:e.maxMatches,minMatchingChars:e.minMatchingChars,disableSort:e.disableSort,showOnFocus:e.showOnFocus,showAllResults:e.showAllResults,highlightClass:e.highlightClass,disabledValues:e.disabledValues,vbtUniqueId:e.id,role:"listbox"},on:{hit:e.handleHit,listItemBlur:e.handleChildBlur},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,s){return{key:s,fn:function(t){var i=t.data,o=t.htmlText;return[e._t(s,null,null,{data:i,htmlText:o})]}}}))],null,!0)})],1)},is=[],os=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"suggestionList",staticClass:"list-group shadow"},e._l(e.matchedItems,(function(t,i){return s("vue-typeahead-bootstrap-list-item",e._g({key:i,attrs:{active:e.isListItemActive(i),id:!!e.isListItemActive(i)&&"selected-option-"+e.vbtUniqueId,data:t.data,"html-text":e.highlight(t.text),role:"option","aria-selected":e.isListItemActive(i)?"true":"false","screen-reader-text":t.screenReaderText?t.screenReaderText:t.text,disabled:e.isDisabledItem(t),"background-variant":e.backgroundVariant,"background-variant-resolver":e.backgroundVariantResolver,"text-variant":e.textVariant},nativeOn:{click:function(s){return e.handleHit(t,s)}},scopedSlots:e._u([{key:"suggestion",fn:function(t){var s=t.data,i=t.htmlText;return e.$scopedSlots.suggestion?[e._t("suggestion",null,null,{data:s,htmlText:i})]:void 0}}],null,!0)},e.$listeners))})),1)},as=[],rs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{class:e.textClasses+" "+(e.active?"active":""),attrs:{tabindex:"0",href:"#"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.$emit("listItemBlur")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.stopPropagation(),t.preventDefault(),e.$emit("listItemBlur"))},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault()},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.preventDefault()}],keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.$parent.selectNextListItem(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.$parent.selectPreviousListItem(t)}],blur:e.processFocusOut}},[s("div",{staticClass:"sr-only"},[e._v(e._s(e.screenReaderText))]),s("div",{attrs:{"aria-hidden":"true"}},[e._t("suggestion",(function(){return[s("span",{domProps:{innerHTML:e._s(e.htmlText)}})]}),null,{data:e.data,htmlText:e.htmlText})],2)])},ns=[],ls={name:"VueTypeaheadBootstrapListItem",props:{active:{type:Boolean},data:{},screenReaderText:{type:String},htmlText:{type:String},disabled:{type:Boolean},backgroundVariant:{type:String},backgroundVariantResolver:{type:Function,default:e=>null,validator:e=>e instanceof Function},textVariant:{type:String}},data:function(){return{baseTextClasses:["vbst-item","list-group-item","list-group-item-action"]}},computed:{textClasses(){const e=[...this.baseTextClasses],t=this.backgroundVariantResolver(this.data),s="string"===typeof t&&t.trim()||this.backgroundVariant;return s&&e.push("list-group-item-"+s),this.textVariant&&e.push("text-"+this.textVariant),this.disabled&&e.push("disabled"),e.join(" ")}},methods:{processFocusOut(e){const t=e.relatedTarget;t&&t.classList.contains("vbst-item")||this.$emit("listItemBlur")}}},cs=ls,us=(s("ac9e"),Object(Rt["a"])(cs,rs,ns,!1,null,"0d97cddd",null)),ds=us.exports,hs=s("b8ce"),ps=s.n(hs),ms=s("8a30"),fs=s.n(ms),gs=s("13ea"),vs=s.n(gs),ys=s("1d32"),bs=s.n(ys),ws=s("5128"),Ss=s.n(ws),Cs=s("51f5"),xs=s.n(Cs);const _s=-1;function ks(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Os(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var $s={name:"VueTypeaheadBootstrapList",components:{VueTypeaheadBootstrapListItem:ds},props:{data:{type:Array,required:!0,validator:e=>e instanceof Array},query:{type:String,default:""},vbtUniqueId:{type:Number,required:!0},backgroundVariant:{type:String},backgroundVariantResolver:{type:Function,default:e=>null,validator:e=>e instanceof Function},disableSort:{type:Boolean},textVariant:{type:String},maxMatches:{type:Number,default:10},minMatchingChars:{type:Number,default:2},disabledValues:{type:Array,default:()=>[]},showOnFocus:{type:Boolean,default:!1},showAllResults:{type:Boolean,default:!1},highlightClass:{type:String,default:"vbt-matched-text"}},created(){this.$parent.$on("input",this.resetActiveListItem),this.$parent.$on("keyup",this.handleParentInputKeyup)},data(){return{activeListItem:-1}},computed:{highlight(){return e=>{if(e=ks(e),0===this.query.length)return e;const t=new RegExp(this.escapedQuery,"gi");return e.replace(t,`<span class='${this.highlightClass}'>$&</span>`)}},escapedQuery(){return Os(ks(this.query))},actionableItems(){return bs()(this.matchedItems,e=>this.isDisabledItem(e))},matchedItems(){return!this.showOnFocus&&(vs()(this.query)||this.query.length<this.minMatchingChars)?[]:this.data.filter(e=>e.text.startsWith(this.escapedQuery)).slice(0,this.maxMatches)}},methods:{handleParentInputKeyup(e){switch(e.keyCode){case 40:this.selectNextListItem();break;case 38:this.selectPreviousListItem();break;case 13:this.hitActiveListItem();break}},handleHit(e,t){this.$emit("hit",e),t.preventDefault()},hitActiveListItem(){this.activeListItem<0&&this.selectNextListItem(),this.activeListItem>=0&&this.$emit("hit",this.matchedItems[this.activeListItem])},isDisabledItem(e){return fs()(this.disabledValues,e.text)},isListItemActive(e){return this.activeListItem===e},resetActiveListItem(){this.activeListItem=-1},findIndexForNextActiveItem(e,t){e||(e=this.matchedItems),void 0===t&&(t=this.activeListItem);let s=xs()(e,function(e){return!this.isDisabledItem(e)}.bind(this),t+1);return s===_s&&(s=xs()(e,function(e){return!this.isDisabledItem(e)}.bind(this))),s},selectNextListItem(){if(this.actionableItems.length<=0)return this.activeListItem=_s,!0;this.activeListItem=this.findIndexForNextActiveItem()},selectPreviousListItem(){if(this.actionableItems.length<=0)return this.activeListItem=_s,!0;0===this.activeListItem&&(this.activeListItem=_s);let e=Ss()(ps()(this.matchedItems)),t=this.matchedItems.length-1-this.activeListItem,s=this.findIndexForNextActiveItem(e,t);this.activeListItem=this.matchedItems.length-1-s}},watch:{activeListItem(e,t){if(this.$parent.autoClose||!1!==this.$parent.isFocused||(this.$parent.isFocused=!0),e>=0){const t=this.$refs.suggestionList,s=t.children[this.activeListItem],i=t.clientHeight,o=s.clientHeight,a=Math.floor(i/(o+20));t.scrollTop=e>=a?o*this.activeListItem:0}}}},Ts=$s,Is=Object(Rt["a"])(Ts,os,as,!1,null,null,null),As=Is.exports,Ns=s("6dd8"),Es={name:"VueTypeaheadBootstrap",components:{VueTypeaheadBootstrapList:As},props:{ariaLabelledBy:{type:String,default:null},size:{type:String,default:null,validator:e=>["lg","md","sm"].indexOf(e)>-1},value:{type:String},disabled:{type:Boolean,default:!1},data:{type:Array,required:!0,validator:e=>e instanceof Array},serializer:{type:Function,default:e=>e,validator:e=>e instanceof Function},screenReaderTextSerializer:{type:Function,validator:e=>e instanceof Function},backgroundVariant:String,backgroundVariantResolver:{type:Function,default:e=>e,validator:e=>e instanceof Function},disabledValues:{type:Array,default:()=>[]},textVariant:String,inputClass:{type:String,default:""},inputName:{type:String,default:void 0},maxMatches:{type:Number,default:10},minMatchingChars:{type:Number,default:2},disableSort:{type:Boolean,default:!1},showOnFocus:{type:Boolean,default:!1},showAllResults:{type:Boolean,default:!1},autoClose:{type:Boolean,default:!0},ieCloseFix:{type:Boolean,default:!0},placeholder:String,prepend:String,append:String,highlightClass:String},computed:{id(){return Math.floor(1e5*Math.random())},inputGroupClasses(){return this.size?"input-group input-group-"+this.size:"input-group"},formattedData(){return this.data instanceof Array?this.data.map((e,t)=>({id:t,data:e,screenReaderText:this._screenReaderTextSerializer(e),text:this.serializer(e)})):[]}},methods:{_screenReaderTextSerializer(e){return"object"!==typeof e||Array.isArray(e)||null===e?e:this.screenReaderTextSerializer?this.screenReaderTextSerializer(e):this.serializer(e)},resizeList(e){const t=e.getBoundingClientRect(),s=this.$refs.list.$el.style;if(s.width=t.width+"px",this.$refs.prependDiv){const e=this.$refs.prependDiv.getBoundingClientRect();s.marginLeft=e.width+"px"}},handleHit(e){"undefined"!==typeof this.value&&this.$emit("input",e.text),this.inputValue=e.text,this.$emit("hit",e.data),this.autoClose&&(this.isFocused=!1)},handleChildBlur(){this.$refs.input.focus(),this.isFocused=!1},runFocusOut(e){e&&e.classList.contains("vbst-item")||(this.isFocused=!1)},handleFocusOut(e){const t=e.relatedTarget;navigator.userAgent.match(/Trident.*rv:11\./)&&this.ieCloseFix?setTimeout(()=>{this.runFocusOut(t)},300):this.runFocusOut(t)},handleInput(e){this.isFocused=!0,this.inputValue=e,"undefined"!==typeof this.value&&this.$emit("input",e)},handleEsc(e){""===e?(this.$refs.input.blur(),this.isFocused=!1):this.inputValue=""}},data(){return{isFocused:!1,inputValue:this.value||""}},mounted(){this.$_ro=new Ns["a"](e=>{this.resizeList(this.$refs.input)}),this.$_ro.observe(this.$refs.input),this.$_ro.observe(this.$refs.list.$el)},beforeDestroy(){this.$_ro.disconnect()},watch:{value:function(e){this.inputValue=e}}},Ms=Es,Ps=(s("6989"),Object(Rt["a"])(Ms,ss,is,!1,null,"66b9c158",null)),Ls=Ps.exports;const js="You're editing the generated schedule! You should do 'change to proposed' if you want to add on this particular generated schedule.";let Bs=class extends Et{constructor(){super(...arguments),this.isEntering=!1,this.inputCourses=[],this.inputMatches=[],this.query="",this.queryTypes=[":title ",":num ",":topic ",":prof ",":desc ",":room "]}get current(){return this.schedule.currentSchedule.current}getClass(){if(!this.query)return this.isEntering=!1,this.inputCourses=[],void(this.inputMatches=[]);this.schedule.generated&&this.schedule.switchSchedule(!1),[this.inputCourses,this.inputMatches]=window.catalog.search(this.query,this.display.numSearchResults),this.isEntering=!0}closeClassList(){this.query=""}generateClick(){this.query="",this.generateSchedules()}updateCourse(e,t,s=0,i=!1){try{this.schedule.currentSchedule.update(e,t,s,i)}catch(a){this.noti.warn(a.message||js)}this.$refs.selectedClassList.$forceUpdate();const o=this.$refs.enteringClassList;o instanceof M["c"]&&o.$forceUpdate(),this.saveStatus()}removeCourse(e){try{this.schedule.currentSchedule.remove(e)}catch(t){this.noti.warn(t.message||js)}this.saveStatus()}};Object(E["a"])([Object(M["d"])("query")],Bs.prototype,"getClass",null),Bs=Object(E["a"])([Object(M["a"])({components:{ClassList:ts,VueTypeaheadBootstrap:Ls}})],Bs);var Ds=Bs,Fs=Ds,Rs=(s("9a31"),Object(Rt["a"])(Fs,Jt,Ut,!1,null,null,null)),zs=Rs.exports,Ws=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"btn bg-info nav-btn"},[e._v("Compare Schedules")]),e.compare.length>0?s("ul",{staticClass:"list-group list-group-flush mx-1"},e._l(e.compare,(function(t,i){return s("li",{key:i,staticClass:"list-group-item px-1",on:{mouseenter:function(t){return e.highlight(i)},mouseleave:function(t){return e.highlight(i)}}},[s("div",{staticClass:"row no-gutters justify-content-between"},[s("div",{staticClass:"col-sm-auto mr-auto",attrs:{title:e.getTitle(i)}},[e._v(" Schedule "+e._s(t.pIdx+1)+"/"+e._s(t.index+1)),s("br"),s("small",{staticClass:"text-muted"},[e._v('Profile "'+e._s(t.profileName)+'"')]),s("br")]),s("div",{staticClass:"col-sm-auto mr-1 align-self-center"},[s("button",{attrs:{title:"if you want your schedule to be as similar to this schedule as possible, click me"},on:{click:function(t){return e.similarity(i)}}},[e._v(" Ref "),e.isSimilarSchedule(i)?s("i",{staticClass:"far fa-check-square"}):s("i",{staticClass:"far fa-square"})])]),s("div",{staticClass:"col-sm-auto text-right align-self-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.color,expression:"cur.color"}],staticClass:"mr-1",staticStyle:{width:"25px"},attrs:{type:"color"},domProps:{value:t.color},on:{change:function(t){return e.renderSchedule(!1)},input:function(s){s.target.composing||e.$set(t,"color",s.target.value)}}}),s("i",{staticClass:"fas fa-sync-alt click-icon",attrs:{title:"get a random color"},on:{click:function(t){return e.randColor(i)}}}),s("i",{staticClass:"fa fa-times ml-2 click-icon",staticStyle:{"font-size":"16px"},attrs:{title:"delete this schedule"},on:{click:function(t){return e.deleteCompare(i)}}})])])])})),0):s("div",{staticClass:"mx-4 my-2"},[e._v(' You haven\'t selected any schedule to compare yet. Select one by clicking the "Compare" button at the top of the page when you have generated some schedules. You can also compare generated schedules across different profiles. ')]),s("div",{staticClass:"btn bg-info nav-btn"},[e._v("Sort by Similarity to Another Schedule")]),e.filter.similarityEnabled?s("div",{staticClass:"mx-2 my-2 text-center"},[s("pre",{staticClass:"mb-2 text-left mx-1"},[e._v(e._s(e.refSchedule))]),s("button",{staticClass:"btn btn-outline-info",attrs:{type:"button"},on:{click:function(t){return e.renderSimilarityRefSchedule()}}},[e._v(" "+e._s(e.similarityRefShown?"Hide":"Display")+" Reference Schedule ")])]):s("div",{staticClass:"mx-2 my-2 text-center"},[e._v(' Select "Ref" for any schedule in the compare list to enable sort by similarity with reference to the selected schedule. ')])]),s("main-content",[s("div",{staticClass:"w-100 mb-2 row justify-content-center mt-1",attrs:{id:"pg"}},[s("date-separator",{staticClass:"col-sm-auto text-center",attrs:{"cur-schedule":e.compareSchedule},on:{"update-select":function(t){return e.renderSchedule(!1)}}})],1),s("grid-schedule",{attrs:{"schedule-days":e.compareSchedule.days}})],1)],1)},Js=[],Us=s("fd9b"),Vs=s.n(Us),Hs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.curSchedule.dateSeparators.length>2?s("div",{staticClass:"btn-group ml-4",attrs:{role:"group"}},[e._l(e.curSchedule.dateSeparators.length-1,(function(t){return s("button",{key:t,staticClass:"btn btn-outline-primary flex-shrink-0",on:{click:function(s){return e.selectInterval(t-1)}}},[e._v(" "+e._s(e.convDate(e.curSchedule.dateSeparators[t-1]))+" - "+e._s(e.convDate(e.curSchedule.dateSeparators[t],-1))+" "),e.curSchedule.dateSelector===t-1?s("i",{staticClass:"fas fa-check"}):e._e()])})),s("button",{staticClass:"btn btn-outline-primary flex-shrink-0",attrs:{type:"button"},on:{click:function(t){return e.selectInterval(-1)}}},[e._v(" Show All Classes "),-1===e.curSchedule.dateSelector?s("i",{staticClass:"fas fa-check"}):e._e()])],2):e._e()},qs=[];let Gs=class extends M["c"]{selectInterval(e){this.curSchedule.dateSelector=e,this.$emit("update-select")}convDate(e,t=0){const s=new Date(e+24*t*60*60*1e3);return(s.getMonth()+1).toString().padStart(2,"0")+"/"+s.getDate().toString().padStart(2,"0")}};Object(E["a"])([Object(M["b"])(Object)],Gs.prototype,"curSchedule",void 0),Gs=Object(E["a"])([M["a"]],Gs);var Ys=Gs,Ks=Ys,Qs=Object(Rt["a"])(Ks,Hs,qs,!1,null,null,null),Zs=Qs.exports,Xs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row no-gutters justify-content-start px-1 mb-3",style:{width:e.display.width+"%"}},[s("div",{staticClass:"col-xs-auto mr-1 time"},e._l(e.hours,(function(t,i){return s("div",{key:t,style:"margin-top: "+(e.heights.sumHeights[i]-5)+"px"},[e._v(" "+e._s(t)+" ")])})),0),s("div",{staticClass:"col"},[s("div",{staticClass:"grid-container",style:{"grid-template-columns":(100/this.numCol+"% ").repeat(this.numCol),"grid-template-rows":e.heights.heights.join("px ")+"px"}},[e._l(e.days,(function(t){return s("div",{key:t,staticClass:"day-cell"},[e._v(" "+e._s(t)+" ")])})),e._l(e.numRow*e.numCol,(function(e){return s("div",{key:e,staticClass:"placeholder"})}))],2),e.status.isMobile?[e._l(e.days,(function(t,i){return e._l(e.scheduleDays[i],(function(o,a){return s("div",{key:t+a,staticClass:"course-block-mobile",class:o.strong?"block-strong":"",style:e.blockStyles[i][a],on:{click:function(t){return e.showModal(o.section)}}},[e._v(" "+e._s(e.blockContent[i][a].title)+" ")])}))}))]:[e._l(e.days,(function(t,i){return e._l(e.scheduleDays[i],(function(o,a){return s("div",{key:t+a,staticClass:"course-block",class:o.strong?"block-strong":"",style:e.blockStyles[i][a],on:{click:function(t){return e.showModal(o.section)}}},[s("div",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.blockContent[i][a].title))]),s("div",[e._v(e._s(e.blockContent[i][a].time))]),s("div",[e._v(e._s(e.blockContent[i][a].room))]),s("div",[e._v(e._s(e.blockContent[i][a].description))])])}))}))]],2)])},ei=[];let ti=class extends Et{constructor(){super(...arguments),this.df=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]}get days(){return this.status.isMobile?this.display.showWeekend?k:k.slice(0,5):this.display.showWeekend?this.df:this.df.slice(0,5)}get earliestBlock(){let e=48;for(const t of this.scheduleDays)for(const s of t){const t=Math.floor(s.startMin/30);t<e&&(e=t)}return e}get latestBlock(){let e=0;for(const t of this.scheduleDays)for(const s of t){const t=Math.floor(s.endMin/30);t>e&&(e=t)}return e}get absoluteEarliest(){return Math.min(this.earliestBlock,Math.floor(r(this.display.earliest)/30))}get absoluteLatest(){return Math.max(this.latestBlock,Math.floor(r(this.display.latest)/30))}get numRow(){return this.absoluteLatest+1-this.absoluteEarliest}get numCol(){return this.display.showWeekend?7:5}get hours(){const e=[],t=[],s=[];for(let i=this.absoluteEarliest;i<=this.absoluteLatest;i++){const a=`${Math.floor(i/2)}:${i%2?"30":"00"}`;e.push(a),t.push(o(a)),s.push(i%2!==0?"":(i/2).toString())}return window.screen.width>450?this.display.standard?t:e:s}get heights(){const e=new Uint16Array(this.numRow+1).fill(this.display.partialHeight);e[0]=44;const t=this.absoluteEarliest;for(const i of this.scheduleDays)for(const s of i){const i=Math.floor(s.startMin/30)+1,o=Math.floor(s.endMin/30)+1;for(let s=i;s<=o;s++)e[s-t]=this.display.fullHeight}const s=new Uint16Array(e);for(let i=1;i<s.length;i++)s[i]+=s[i-1];return{heights:e,sumHeights:s}}get blockStyles(){const e=[[],[],[],[],[],[],[]],t=this.heights.sumHeights,s=this.absoluteEarliest,i=this.display.fullHeight;for(let o=0;o<this.numCol;o++)for(const a of this.scheduleDays[o]){const{startMin:r,endMin:n,left:l,width:c,background:u}=a,d=100/this.numCol,h=t[Math.floor(r/30)-s]+r%30/30*i,p=t[Math.floor(n/30)-s]+n%30/30*i;e[o].push(`left: ${(o+l)*d}%; width: ${c*d}%; top: ${h}px; height: ${p-h}px; background-color: ${u}`)}return e}get blockContent(){const e=[[],[],[],[],[],[],[]],{showInstructor:t,showRoom:s,showTime:i,showSuffix:o}=this.display;for(let a=0;a<this.numCol;a++)for(const r of this.scheduleDays[a]){const n=r.section;if(n instanceof H)e[a].push({title:o?n.displayName:n.displayNameNoType,time:i?r.meeting.days:"",room:s?r.meeting.room:"",description:t?n.instructors:""});else if(n instanceof U){const l=n.sections[0],c=n.sections.length-1;e[a].push({title:`${o?l.displayName:l.displayNameNoType} and ${c} more`,time:i?r.meeting.days:"",room:s?`${r.meeting.room} and ${c} more`:"",description:t?`${l.instructors} and ${n.sections.length} more`:""})}else e[a].push({title:n.title||"",time:i?n.key:"",room:s&&n.room||"",description:""})}return e}showModal(e){e instanceof H?this.modal.showSectionModal(e):e instanceof U?this.modal.showCourseModal(e):e instanceof ke&&(this.status.sideBar.showEvent||this.status.switchSideBar("showEvent"),this.status.eventToEdit=e)}};Object(E["a"])([Object(M["b"])(Array)],ti.prototype,"scheduleDays",void 0),ti=Object(E["a"])([M["a"]],ti);var si=ti,ii=si,oi=(s("502b"),Object(Rt["a"])(ii,Xs,ei,!1,null,"237a807f",null)),ai=oi.exports;let ri=class extends Et{constructor(){super(...arguments),this.compareSchedule=new je,this.highlightIdx=-1,this.similarityRefShown=!1}created(){this.renderSchedule(!0)}get refSchedule(){return this.getDesc(this.filter.refSchedule)}async renderSchedule(e){if(e){const e=[];for(const{schedule:t}of this.compare)for(const s of t.days)for(const{dateArray:t}of s)t&&e.push(t);this.compareSchedule.constructDateSeparatorFromDateList(e)}const t=[[],[],[],[],[],[],[]];for(let s=0;s<this.compare.length;s++){const{schedule:e,color:i}=this.compare[s],o=this.highlightIdx===s;for(let s=0;s<7;s++)for(const a of e.days[s])if(this.compareSchedule.checkDate(a.dateArray)){const e=new Oe(i,a.startMin,a.endMin,a.section,a.meeting,a.dateArray);e.strong=o,t[s].push(e)}}await Ie(t),this.compareSchedule.days=t}randColor(e){this.compare[e].color=Vs()({luminosity:"dark"}),this.renderSchedule(!1)}deleteCompare(e){this.compare.splice(e,1),this.renderSchedule(!0)}getTitle(e){const{schedule:t,pIdx:s,index:i}=this.compare[e];return`Generated schedule ${i+1},\nCorresponds to proposed schedule ${s+1}\nTotal credits: ${t.totalCredit}\n${this.getDesc(t.All)}`}getDesc(e){const t=window.catalog;return Object.entries(e).map(e=>{const s=t.getCourse(e[0],e[1].reduce((e,t)=>{for(const s of t)e.add(s);return e},new Set));return`${s.department} ${s.number}-${s.sections.map(e=>e.section).reduce((e,t)=>e+"/"+t)} ${s.title}`}).reduce((e,t)=>e+"\n"+t)}highlight(e){e===this.highlightIdx?this.highlightIdx=-1:this.highlightIdx=e,this.renderSchedule(!1)}similarity(e){const t=window.scheduleEvaluator,s=t.options.sortBy.find(e=>"similarity"===e.name);this.compare[e].schedule.allEquals(t.refSchedule)?(this.filter.refSchedule=t.refSchedule={},s.enabled=!1):(this.filter.refSchedule=t.refSchedule=this.compare[e].schedule.All,s.enabled=!0),!t.empty()&&this.validateSortOptions()&&(t.sort(),this.schedule.generated?this.schedule.currentSchedule=t.getSchedule(this.schedule.currentScheduleIndex):this.schedule.switchSchedule(!0)),this.$forceUpdate()}isSimilarSchedule(e){return this.compare[e].schedule.allEquals(window.scheduleEvaluator.refSchedule)}renderSimilarityRefSchedule(){this.compareSchedule=new je,this.similarityRefShown||(this.compareSchedule.All=this.filter.refSchedule,this.compareSchedule.computeSchedule()),this.similarityRefShown=!this.similarityRefShown}};ri=Object(E["a"])([Object(M["a"])({components:{GridSchedule:ai,MainContent:Wt,DateSeparator:Zs}})],ri);var ni=ri,li=ni,ci=Object(Rt["a"])(li,Ws,Js,!1,null,null,null),ui=ci.exports,di=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"btn bg-info nav-btn"},[e._v("Schedule Settings")]),s("div",{staticClass:"form-group row no-gutters mt-2 mb-0 mx-2",attrs:{title:"Schedule grid earlier than this time won't be displayed if you don't have any class before that time"}},[s("label",{staticClass:"col-lg-6 pt-1 pb-0 col-form-label",attrs:{for:"schedule-start"}},[e._v(" Schedule Start ")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.display.earliest,expression:"display.earliest"}],staticClass:"form-control form-control-sm",attrs:{id:"schedule-start",type:"time",min:"0:00",max:"12:00"},domProps:{value:e.display.earliest},on:{input:function(t){t.target.composing||e.$set(e.display,"earliest",t.target.value)}}})])]),s("div",{staticClass:"form-group row no-gutters mb-0 mx-2",attrs:{title:"Schedule grid later than this time won't be displayed if you don't have any class before that time"}},[s("label",{staticClass:"col-lg-6 pt-1 pb-0 col-form-label",attrs:{for:"schedule-end"}},[e._v("Schedule End")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.display.latest,expression:"display.latest"}],staticClass:"form-control form-control-sm",attrs:{id:"schedule-end",type:"time",min:"12:00",max:"23:59"},domProps:{value:e.display.latest},on:{input:function(t){t.target.composing||e.$set(e.display,"latest",t.target.value)}}})])]),s("div",{staticClass:"form-group row no-gutters mb-0 mx-2",attrs:{title:"Height of the cells containing classes on the schedule grid"}},[s("label",{staticClass:"col-lg-6 pt-1 pb-0 col-form-label",attrs:{for:"class-height"}},[e._v("Class Height")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.display.fullHeight,expression:"display.fullHeight",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"class-height",min:"1",step:"1",max:"100",type:"number"},domProps:{value:e.display.fullHeight},on:{input:function(t){t.target.composing||e.$set(e.display,"fullHeight",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),s("div",{staticClass:"form-group row no-gutters mb-0 mx-2",attrs:{title:"height of an empty cell. You can specify a smaller value to compress empty space"}},[s("label",{staticClass:"col-lg-6 pt-1 pb-0 col-form-label",attrs:{for:"grid-height"}},[e._v("Grid Height")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.display.partialHeight,expression:"display.partialHeight",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"grid-height",min:"1",step:"1",max:"100",type:"number"},domProps:{value:e.display.partialHeight},on:{input:function(t){t.target.composing||e.$set(e.display,"partialHeight",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),s("div",{staticClass:"form-group row no-gutters mb-0 mx-2",attrs:{title:"Width of the schedule as a percentage relative to the parent container"}},[s("label",{staticClass:"col-lg-6 pt-1 pb-0 col-form-label",attrs:{for:"schedule-width"}},[e._v("Width")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.display.width,expression:"display.width",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"schedule-width",min:"10",step:"5",max:"1000",type:"number"},domProps:{value:e.display.width},on:{input:function(t){t.target.composing||e.$set(e.display,"width",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),s("div",{staticClass:"form-group row no-gutters mt-0 mb-1 mx-2"},[e._m(0),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"custom-control custom-checkbox ml-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.display.showWeekend,expression:"display.showWeekend"}],staticClass:"custom-control-input",attrs:{id:"displayWeekend",type:"checkbox"},domProps:{checked:Array.isArray(e.display.showWeekend)?e._i(e.display.showWeekend,null)>-1:e.display.showWeekend},on:{change:function(t){var s=e.display.showWeekend,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&e.$set(e.display,"showWeekend",s.concat([a])):r>-1&&e.$set(e.display,"showWeekend",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.display,"showWeekend",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"displayWeekend"}})])])]),s("div",{staticClass:"form-group row no-gutters mt-0 mb-1 mx-2"},[e._m(1),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"custom-control custom-checkbox ml-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.display.showTime,expression:"display.showTime"}],staticClass:"custom-control-input",attrs:{id:"displayTime",type:"checkbox"},domProps:{checked:Array.isArray(e.display.showTime)?e._i(e.display.showTime,null)>-1:e.display.showTime},on:{change:function(t){var s=e.display.showTime,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&e.$set(e.display,"showTime",s.concat([a])):r>-1&&e.$set(e.display,"showTime",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.display,"showTime",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"displayTime"}})])])]),s("div",{staticClass:"form-group row no-gutters mt-0 mb-1 mx-2"},[e._m(2),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"custom-control custom-checkbox ml-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.display.showRoom,expression:"display.showRoom"}],staticClass:"custom-control-input",attrs:{id:"displayRoom",type:"checkbox"},domProps:{checked:Array.isArray(e.display.showRoom)?e._i(e.display.showRoom,null)>-1:e.display.showRoom},on:{change:function(t){var s=e.display.showRoom,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&e.$set(e.display,"showRoom",s.concat([a])):r>-1&&e.$set(e.display,"showRoom",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.display,"showRoom",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"displayRoom"}})])])]),s("div",{staticClass:"form-group row no-gutters mt-0 mb-1 mx-2"},[e._m(3),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"custom-control custom-checkbox ml-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.display.showInstructor,expression:"display.showInstructor"}],staticClass:"custom-control-input",attrs:{id:"displayInstructor",type:"checkbox"},domProps:{checked:Array.isArray(e.display.showInstructor)?e._i(e.display.showInstructor,null)>-1:e.display.showInstructor},on:{change:function(t){var s=e.display.showInstructor,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&e.$set(e.display,"showInstructor",s.concat([a])):r>-1&&e.$set(e.display,"showInstructor",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.display,"showInstructor",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"displayInstructor"}})])])]),s("div",{staticClass:"form-group row no-gutters mt-0 mb-1 mx-2"},[e._m(4),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"custom-control custom-checkbox ml-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.display.showSuffix,expression:"display.showSuffix"}],staticClass:"custom-control-input",attrs:{id:"showSuffix",type:"checkbox"},domProps:{checked:Array.isArray(e.display.showSuffix)?e._i(e.display.showSuffix,null)>-1:e.display.showSuffix},on:{change:function(t){var s=e.display.showSuffix,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&e.$set(e.display,"showSuffix",s.concat([a])):r>-1&&e.$set(e.display,"showSuffix",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.display,"showSuffix",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"showSuffix"}})])])]),s("div",{staticClass:"form-group row no-gutters mt-0 mb-2 mx-2"},[e._m(5),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"custom-control custom-radio custom-control-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.display.standard,expression:"display.standard"}],staticClass:"custom-control-input",attrs:{id:"hr12",type:"radio"},domProps:{value:!0,checked:e._q(e.display.standard,!0)},on:{change:function(t){return e.$set(e.display,"standard",!0)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"hr12"}},[e._v("12")])]),s("div",{staticClass:"custom-control custom-radio custom-control-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.display.standard,expression:"display.standard"}],staticClass:"custom-control-input",attrs:{id:"hr24",type:"radio"},domProps:{value:!1,checked:e._q(e.display.standard,!1)},on:{change:function(t){return e.$set(e.display,"standard",!1)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"hr24"}},[e._v("24")])])])]),s("div",{staticClass:"btn bg-info nav-btn"},[e._v("Course Search")]),s("div",{staticClass:"mx-2 my-2"},[s("label",{attrs:{for:"num-search-results"}},[e._v(" Max number of search results ")]),s("div",{staticClass:"mb-2"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.display.numSearchResults,expression:"display.numSearchResults",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"num-search-results",type:"number",min:"1",step:"1",max:"20"},domProps:{value:e.display.numSearchResults},on:{input:function(t){t.target.composing||e.$set(e.display,"numSearchResults",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.display.expandOnEntering,expression:"display.expandOnEntering"}],staticClass:"custom-control-input",attrs:{id:"exp-on-entering",type:"checkbox"},domProps:{checked:Array.isArray(e.display.expandOnEntering)?e._i(e.display.expandOnEntering,null)>-1:e.display.expandOnEntering},on:{change:function(t){var s=e.display.expandOnEntering,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&e.$set(e.display,"expandOnEntering",s.concat([a])):r>-1&&e.$set(e.display,"expandOnEntering",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.display,"expandOnEntering",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"exp-on-entering"}},[e._v(" Expand all when searching ")])]),s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.display.showClasslistTitle,expression:"display.showClasslistTitle"}],staticClass:"custom-control-input",attrs:{id:"displayClasslistTitle",type:"checkbox"},domProps:{checked:Array.isArray(e.display.showClasslistTitle)?e._i(e.display.showClasslistTitle,null)>-1:e.display.showClasslistTitle},on:{change:function(t){var s=e.display.showClasslistTitle,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&e.$set(e.display,"showClasslistTitle",s.concat([a])):r>-1&&e.$set(e.display,"showClasslistTitle",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.display,"showClasslistTitle",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"displayClasslistTitle"}},[e._v(" Show description on class list ")])])]),s("div",{staticClass:"btn bg-info nav-btn"},[e._v("Advanced Features")]),s("ul",{staticClass:"list-group list-group-flush mx-1"},[s("li",{staticClass:"list-group-item pb-1 pt-0"},[s("div",{staticClass:"form-group my-1",attrs:{title:"If this number is too large, your browser may crash"}},[s("label",{attrs:{for:"num-schedule"}},[e._v("Max number of schedules")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.display.maxNumSchedules,expression:"display.maxNumSchedules",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"num-schedule",type:"number",min:"1000",step:"1",max:"5000000"},domProps:{value:e.display.maxNumSchedules},on:{input:function(t){t.target.composing||e.$set(e.display,"maxNumSchedules",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),s("div",{staticClass:"custom-control custom-checkbox",attrs:{title:"Combine sections ocurring at the same time"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.display.combineSections,expression:"display.combineSections"}],staticClass:"custom-control-input",attrs:{id:"comb-sec",type:"checkbox"},domProps:{checked:Array.isArray(e.display.combineSections)?e._i(e.display.combineSections,null)>-1:e.display.combineSections},on:{change:function(t){var s=e.display.combineSections,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&e.$set(e.display,"combineSections",s.concat([a])):r>-1&&e.$set(e.display,"combineSections",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.display,"combineSections",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"comb-sec"}},[e._v("Combine Sections")])]),s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.display.enableLog,expression:"display.enableLog"}],staticClass:"custom-control-input",attrs:{id:"enable-log",type:"checkbox"},domProps:{checked:Array.isArray(e.display.enableLog)?e._i(e.display.enableLog,null)>-1:e.display.enableLog},on:{change:function(t){var s=e.display.enableLog,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&e.$set(e.display,"enableLog",s.concat([a])):r>-1&&e.$set(e.display,"enableLog",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.display,"enableLog",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"enable-log"}},[e._v(" Enable Log History ")])])]),s("li",{staticClass:"list-group-item"},[s("button",{staticClass:"btn btn-outline-info mb-1 w-100",on:{click:function(t){return e.loadProfile(!0)}}},[e._v(" Update Semester Data ")]),s("small",{staticClass:"text-center form-text text-muted"},[e._v(" Last update: "+e._s(e.semester.lastUpdate)+" ")])]),s("li",{staticClass:"list-group-item"},[s("button",{staticClass:"btn btn-outline-danger w-100",on:{click:function(t){return e.clearCache()}}},[e._v(" Reset All and Clean ")])])]),e.showRenderingOptions?[s("div",{staticClass:"btn bg-info nav-btn mb-2"},[e._v("Advanced Rendering Features")]),s("div",{staticClass:"form-group row no-gutters my-1 mx-3"},[e._m(6),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"custom-control custom-checkbox ml-1"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.options.MILP,expression:"options.MILP",modifiers:{number:!0}}],staticClass:"custom-control-input",attrs:{id:"MILP",type:"checkbox"},domProps:{checked:Array.isArray(e.options.MILP)?e._i(e.options.MILP,null)>-1:e.options.MILP},on:{change:function(t){var s=e.options.MILP,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=e._n(null),r=e._i(s,a);i.checked?r<0&&e.$set(e.options,"MILP",s.concat([a])):r>-1&&e.$set(e.options,"MILP",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.options,"MILP",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"MILP"}})])])]),s("div",{staticClass:"form-group row no-gutters my-0 mx-3"},[s("label",{staticClass:"col-lg-6 pt-1 pb-0 col-form-label",attrs:{for:"ISMethod"}},[e._v("IS Method")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.options.ISMethod,expression:"options.ISMethod",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"ISMethod",min:"1",step:"1",max:"2",type:"number"},domProps:{value:e.options.ISMethod},on:{input:function(t){t.target.composing||e.$set(e.options,"ISMethod",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),s("div",{staticClass:"form-group row no-gutters my-0 mx-3"},[s("label",{staticClass:"col-lg-6 pt-1 pb-0 col-form-label",attrs:{for:"istolerance"}},[e._v(" IS Tolerance ")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.options.isTolerance,expression:"options.isTolerance",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"istolerance",min:"-1",step:"1",max:"100",type:"number"},domProps:{value:e.options.isTolerance},on:{input:function(t){t.target.composing||e.$set(e.options,"isTolerance",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),s("div",{staticClass:"form-group row no-gutters my-1 mx-3"},[e._m(7),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"custom-control custom-checkbox ml-1"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.options.applyDFS,expression:"options.applyDFS",modifiers:{number:!0}}],staticClass:"custom-control-input",attrs:{id:"applyDFS",type:"checkbox"},domProps:{checked:Array.isArray(e.options.applyDFS)?e._i(e.options.applyDFS,null)>-1:e.options.applyDFS},on:{change:function(t){var s=e.options.applyDFS,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=e._n(null),r=e._i(s,a);i.checked?r<0&&e.$set(e.options,"applyDFS",s.concat([a])):r>-1&&e.$set(e.options,"applyDFS",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.options,"applyDFS",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"applyDFS"}})])])]),s("div",{staticClass:"form-group row no-gutters my-0 mx-3"},[s("label",{staticClass:"col-lg-6 pt-1 pb-0 col-form-label",attrs:{for:"tolerance"}},[e._v("DFS Tolerance")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.options.tolerance,expression:"options.tolerance",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"tolerance",min:"-1",step:"1",max:"100",type:"number"},domProps:{value:e.options.tolerance},on:{input:function(t){t.target.composing||e.$set(e.options,"tolerance",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),s("div",{staticClass:"form-group row no-gutters my-0 mx-3"},[s("label",{staticClass:"col-lg-6 pt-1 pb-0 col-form-label",attrs:{for:"LPIters"}},[e._v("LP Max Iters")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.options.LPIters,expression:"options.LPIters",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"LPIters",min:"0",step:"1",max:"100",type:"number"},domProps:{value:e.options.LPIters},on:{input:function(t){t.target.composing||e.$set(e.options,"LPIters",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),s("div",{staticClass:"form-group row no-gutters my-0 mx-3"},[s("label",{staticClass:"col-lg-6 pt-1 pb-0 col-form-label",attrs:{for:"LPModel"}},[e._v("LP Model")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.options.LPModel,expression:"options.LPModel",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"LPModel",min:"1",step:"1",max:"3",type:"number"},domProps:{value:e.options.LPModel},on:{input:function(t){t.target.composing||e.$set(e.options,"LPModel",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),s("div",{staticClass:"form-group row no-gutters my-0 mx-3"},[s("label",{staticClass:"col-lg-6 pt-1 pb-0 col-form-label",attrs:{for:"tFactor"}},[e._v("t Factor")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.options.tFactor,expression:"options.tFactor",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"tFactor",min:"0",step:"0.1",max:"10",type:"number"},domProps:{value:e.options.tFactor},on:{input:function(t){t.target.composing||e.$set(e.options,"tFactor",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),s("div",{staticClass:"form-group row no-gutters my-1 mx-3"},[e._m(8),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"custom-control custom-checkbox ml-1"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.options.showFixed,expression:"options.showFixed",modifiers:{number:!0}}],staticClass:"custom-control-input",attrs:{id:"showFixed",type:"checkbox"},domProps:{checked:Array.isArray(e.options.showFixed)?e._i(e.options.showFixed,null)>-1:e.options.showFixed},on:{change:function(t){var s=e.options.showFixed,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=e._n(null),r=e._i(s,a);i.checked?r<0&&e.$set(e.options,"showFixed",s.concat([a])):r>-1&&e.$set(e.options,"showFixed",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.options,"showFixed",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"showFixed"}})])])])]:e._e()],2)},hi=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-6"},[s("label",{staticClass:"m-0",attrs:{for:"displayWeekend"}},[e._v("Show Weekends")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-6"},[s("label",{staticClass:"m-0",attrs:{for:"displayTime"}},[e._v("Show Time")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-6"},[s("label",{staticClass:"m-0",attrs:{for:"displayRoom"}},[e._v("Show Room")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-6"},[s("label",{staticClass:"m-0",attrs:{for:"displayInstructor"}},[e._v("Show Instructor")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-6"},[s("label",{staticClass:"m-0",attrs:{for:"showSuffix",title:"Show class type, e.g. lecture, lab, studio, etc."}},[e._v("Show Suffix ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-lg-6"},[s("label",{staticClass:"m-0",attrs:{for:"displayInstructor"}},[e._v("Time Options")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-6"},[s("label",{staticClass:"m-0",attrs:{for:"MILP"}},[e._v("MILP")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-6"},[s("label",{staticClass:"m-0",attrs:{for:"applyDFS"}},[e._v("Apply DFS")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-6"},[s("label",{staticClass:"m-0",attrs:{for:"showFixed"}},[e._v("Show Fixed")])])}];let pi=class extends Et{constructor(){super(...arguments),this.options=Te,this.showRenderingOptions=!1}w1(){this.schedule.recomputeAll(!1,100)}async clearCache(){confirm("Your selected classes and schedules will be cleaned. Are you sure?")&&(window.localStorage.clear(),this.semester.current&&new vt(this.semester.current).delete(),window.location.reload(!0))}};Object(E["a"])([Object(M["d"])("options",{deep:!0})],pi.prototype,"w1",null),pi=Object(E["a"])([M["a"]],pi);var mi=pi,fi=mi,gi=Object(Rt["a"])(fi,di,hi,!1,null,null,null),vi=gi.exports,yi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"btn bg-info nav-btn mt-0",attrs:{id:"semester"}},[e.status.eventToEdit?s("div",[e._v("Edit Event")]):s("div",[e._v("Add Event")])]),s("form",{staticClass:"mt-2 mx-2"},[s("div",{staticClass:"form-group row no-gutters mb-1"},[s("label",{staticClass:"col-lg-5 col-form-label",attrs:{for:"event-title"}},[e._v("Title")]),s("div",{staticClass:"col-lg-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.eventTitle,expression:"eventTitle"}],staticClass:"form-control form-control-sm",attrs:{id:"event-title",type:"text"},domProps:{value:e.eventTitle},on:{input:function(t){t.target.composing||(e.eventTitle=t.target.value)}}})])]),s("div",{staticClass:"form-group row no-gutters mb-1"},[s("label",{staticClass:"col-lg-5 col-form-label",attrs:{for:"event-from"}},[e._v("Start")]),s("div",{staticClass:"col-lg-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.eventTimeFrom,expression:"eventTimeFrom"}],staticClass:"form-control form-control-sm",staticStyle:{"-webkit-appearance":"button"},attrs:{id:"event-from",type:"time"},domProps:{value:e.eventTimeFrom},on:{input:function(t){t.target.composing||(e.eventTimeFrom=t.target.value)}}})])]),s("div",{staticClass:"form-group row no-gutters mb-1"},[s("label",{staticClass:"col-lg-5 col-form-label",attrs:{for:"event-to"}},[e._v("End")]),s("div",{staticClass:"col-lg-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.eventTimeTo,expression:"eventTimeTo"}],staticClass:"form-control form-control-sm",staticStyle:{"-webkit-appearance":"button"},attrs:{id:"event-to",type:"time"},domProps:{value:e.eventTimeTo},on:{input:function(t){t.target.composing||(e.eventTimeTo=t.target.value)}}})])]),s("div",{staticClass:"btn-group btn-days mb-2",attrs:{role:"group"}},e._l(e.days,(function(t,i){return s("button",{key:i,staticClass:"btn btn-outline-secondary",class:{active:e.eventWeek[i]},attrs:{type:"button"},on:{click:function(t){return e.updateDay(+i)}}},[e._v(" "+e._s(t)+" ")])})),0),s("div",{staticClass:"form-group row no-gutters mb-1"},[s("label",{staticClass:"col-lg-5 col-form-label",attrs:{for:"event-loc"}},[e._v("Location")]),s("div",{staticClass:"col-lg-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.eventRoom,expression:"eventRoom"}],staticClass:"form-control form-control-sm",attrs:{id:"event-loc",type:"text"},domProps:{value:e.eventRoom},on:{input:function(t){t.target.composing||(e.eventRoom=t.target.value)}}})])])]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.eventDescription,expression:"eventDescription"}],staticClass:"my-2 mx-auto form-control",staticStyle:{width:"98%"},attrs:{placeholder:"Description"},domProps:{value:e.eventDescription},on:{input:function(t){t.target.composing||(e.eventDescription=t.target.value)}}}),e.status.eventToEdit?s("div",{staticClass:"btn-group",staticStyle:{width:"100%"},attrs:{role:"group"}},[s("button",{staticClass:"btn btn-outline-info",attrs:{type:"button"},on:{click:function(t){return e.endEditEvent()}}},[e._v(" Update ")]),s("button",{staticClass:"btn btn-outline-info",attrs:{type:"button"},on:{click:function(t){return e.cancelEdit()}}},[e._v("Cancel")]),s("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(t){return e.deleteEvent()}}},[e._v(" Delete ")])]):s("button",{staticClass:"btn btn-outline-secondary ml-1",staticStyle:{width:"98%"},on:{click:function(t){return e.addEvent()}}},[e._v(" Add ")]),e._m(0),s("table",{staticClass:"table table-hover w-100",staticStyle:{"font-size":"14px"}},[s("thead",[s("th",{staticStyle:{width:"100%"}},[e._v(" Number of events: "+e._s(e.schedule.currentSchedule.events.length)+" ")]),s("th"),s("th")]),s("tbody",e._l(e.schedule.currentSchedule.events,(function(t){return s("tr",{key:t.key,class:{"table-primary":t===e.status.eventToEdit},on:{mouseenter:function(s){return e.schedule.currentSchedule.hover(t.key)},mouseleave:function(s){return e.schedule.currentSchedule.unhover(t.key)}}},[s("td",{on:{click:function(s){e.status.eventToEdit=t}}},[e._v(e._s(t.title))]),s("td",{staticClass:"pl-0 pr-2",on:{click:function(s){return e.copyEvent(t)}}},[s("i",{staticClass:"far fa-copy click-icon",staticStyle:{"font-size":"20px"},attrs:{title:"copy the current event to a new event"}})]),s("td",{staticClass:"pl-0 pr-2",on:{click:function(s){e.status.eventToEdit=t}}},[s("i",{staticClass:"click-icon",class:e.status.eventToEdit===t?"far fa-check-square":"far fa-square",staticStyle:{"font-size":"20px"}})])])})),0)])])},bi=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"btn bg-info nav-btn mt-3",attrs:{id:"semester"}},[s("div",[e._v("Event List")])])}];let wi=class extends Et{constructor(){super(...arguments),this.eventWeek=[!1,!1,!1,!1,!1,!1,!1],this.eventTimeFrom="",this.eventTimeTo="",this.eventTitle="",this.eventRoom="",this.eventDescription="",this.toBeModifiedDays=""}get days(){return k}eventWatch(){const{eventToEdit:e}=this.status;e&&this.editEvent(e)}beforeDestroy(){this.status.eventToEdit=null}updateDay(e){this.$set(this.eventWeek,e,!this.eventWeek[e])}getEventDays(){let e=this.eventWeek.reduce((e,t,s)=>e+(t?this.days[s]:""),"");if(!e)return void this.noti.error("Event: Please select at least one day");if(!this.eventTimeFrom||!this.eventTimeTo)return void this.noti.error("Event: Please check your start/end time");const t=r(this.eventTimeFrom),s=r(this.eventTimeTo);if(!(t>=s))return e+=` ${o(this.eventTimeFrom)} - ${o(this.eventTimeTo)}`,e;this.noti.error("Event: Start time must be earlier than end time")}copyEvent(e){this.status.eventToEdit=null,this.editEvent(e),this.eventTitle+="-copy"}addEvent(){this.status.foldView();const e=this.getEventDays();if(e){try{this.schedule.proposedSchedule.addEvent(e,!0,this.eventTitle,this.eventRoom,this.eventDescription?this.eventDescription.split("\n").join("<br />"):"")}catch(t){this.noti.error(t.message)}this.cleanup(this.toBeModifiedDays!==e&&this.schedule.generated)}}editEvent(e){this.eventTitle=e.title,this.eventRoom=e.room,this.eventDescription=e.description?e.description.split("<br />").join("\n"):"";const[t,s,,i]=e.days.split(" ");for(let o=0;o<this.days.length;o++)-1!==t.indexOf(this.days[o])?this.$set(this.eventWeek,o,!0):this.$set(this.eventWeek,o,!1);this.eventTimeFrom=a(s),this.eventTimeTo=a(i),this.toBeModifiedDays=e.days}endEditEvent(){this.schedule.proposedSchedule.deleteEvent(this.toBeModifiedDays),this.addEvent()}deleteEvent(){this.schedule.proposedSchedule.deleteEvent(this.toBeModifiedDays),this.cleanup(this.schedule.generated)}cancelEdit(){this.eventRoom=this.eventTimeFrom=this.eventTimeTo=this.eventDescription=this.eventTitle="",this.eventWeek.forEach((e,t,s)=>this.$set(s,t,!1)),this.status.eventToEdit=null}cleanup(e=!1){this.status.foldView(),this.cancelEdit(),e?this.generateSchedules():this.schedule.proposedSchedule.computeSchedule(),this.saveStatus()}};Object(E["a"])([Object(M["d"])("status.eventToEdit",{immediate:!0})],wi.prototype,"eventWatch",null),wi=Object(E["a"])([M["a"]],wi);var Si=wi,Ci=Si,xi=Object(Rt["a"])(Ci,yi,bi,!1,null,null,null),_i=xi.exports,ki=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"btn bg-info nav-btn"},[e._v("Import Profile")]),s("div",{staticClass:"m-3"},[s("div",{staticClass:"custom-file"},[s("input",{staticClass:"custom-file-input",staticStyle:{width:"100%"},attrs:{id:"customFile",type:"file",accept:"text/json"},on:{change:function(t){return e.onUploadJson(t)}}}),s("label",{staticClass:"custom-file-label",attrs:{for:"customFile"}},[e._v("Import from JSON..")])]),s("small",{staticClass:"text-center form-text text-muted"},[e._v(" Import a .json file exported by our website ")])]),s("div",{staticClass:"btn bg-info nav-btn"},[e._v("Export Profile")]),s("div",{staticClass:"mx-3 my-2 text-center"},[s("div",{staticClass:"btn-group w-100 mt-2",attrs:{role:"group","aria-label":"Basic example"}},[s("button",{staticClass:"btn btn-outline-dark px-0",on:{click:function(t){return e.saveToJson()}}},[e._v("Export JSON")]),s("button",{staticClass:"btn btn-outline-dark px-0",on:{click:function(t){return e.saveToIcal()}}},[e._v(" Export iCal "),e.schedule.generated?e._e():s("i",{staticClass:"fas fa-exclamation-triangle text-warning",attrs:{title:"You've not generated schedules yet! Exporting to iCalendar now will probably result in an incomplete calendar."}})])]),e._m(0)]),s("hr"),s("div",{staticClass:"mx-3 my-2 text-center"},[s("div",{staticClass:"btn-group w-100",attrs:{role:"group","aria-label":"Basic example"}},[s("button",{staticClass:"btn btn-outline-primary",on:{click:function(t){return e.exportToURL()}}},[e._v("Export URL")]),s("button",{staticClass:"btn btn-outline-primary",on:{click:function(t){return e.print()}}},[e._v("Print")])]),e._m(1)]),s("div",{staticClass:"btn bg-info nav-btn"},[e._v(" Profiles "),e.profile.tokenType?[s("i",{staticClass:"fas fa-cloud",attrs:{title:"You profiles are synchronizd with "+e.backendName}}),s("span",{staticClass:"badge badge-secondary ml-1",attrs:{title:"This function is at the beta-testing stage. If you find any issues with it, please report it through GitHub issues or google form"}},[e._v(" Beta ")])]:e._e()],2),s("ul",{staticClass:"list-group list-group-flush mx-auto",staticStyle:{"font-size":"14px",width:"99%"}},e._l(e.profile.profiles,(function(t,i){return s("li",{key:t.name,staticClass:"list-group-item list-group-item-action pl-3 pr-2",class:{sel:t.name===e.profile.current}},[s("div",{staticClass:"form-row no-gutters justify-content-between",staticStyle:{"flex-wrap":"nowrap"},on:{click:function(s){return e.selectProfile(t.name)}}},[s("div",{staticClass:"col-xs-auto mr-auto",staticStyle:{cursor:"pointer"},attrs:{id:"1"+i}},[null===e.newName[i]?s("span",{on:{dblclick:function(s){return e.$set(e.newName,i,t.name)}}},[s("strong",[e._v(e._s(t.name))]),e._v(" "),s("br"),e._l(e.getMeta(t.name),(function(t){return s("small",{key:t,staticClass:"text-muted"},[e._v(e._s(t)+" "),s("br")])}))],2):s("input",{directives:[{name:"model",rawName:"v-model",value:e.newName[i],expression:"newName[idx]"}],staticClass:"form-control form-control-inline form-control-sm",staticStyle:{width:"95%"},attrs:{type:"text"},domProps:{value:e.newName[i]},on:{keyup:[function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.renameProfile(t.name,i)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$set(e.newName,i,null)}],input:function(t){t.target.composing||e.$set(e.newName,i,t.target.value)}}})]),s("div",{staticClass:"col-xs-auto text-right",staticStyle:{"font-size":"16px"}},[e.profile.tokenType?s("i",{staticClass:"fas fa-cloud click-icon mr-1",class:t.remote?"text-success":"text-warning",attrs:{title:e.getRemoteStatusString(t.remote)},on:{click:function(s){return s.stopPropagation(),e.updateRemoteStatus(t)}}}):e._e(),!e.profile.tokenType||e.profile.isLatest(i)?[null===e.newName[i]?s("i",{staticClass:"fas fa-edit click-icon",attrs:{title:"rename this profile"},on:{click:function(s){return s.stopPropagation(),e.$set(e.newName,i,t.name)}}}):s("i",{staticClass:"fas fa-check click-icon",attrs:{title:"confirm renaming"},on:{click:function(s){return s.stopPropagation(),e.renameProfile(t.name,i)}}}),null===e.newName[i]&&e.profile.profiles.length>1?s("i",{staticClass:"fa fa-times ml-1 click-icon",attrs:{title:"delete this profile"},on:{click:function(s){return s.stopPropagation(),e.deleteProfile(t.name,i)}}}):e._e()]:e.profile.tokenType&&t.remote&&!e.profile.isLatest(i)?[s("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{title:"Keep this version of the profile"},on:{click:function(s){return s.stopPropagation(),e.keepVersion(t.name)}}},[e._v(" Keep ")])]:e._e(),e.profile.tokenType&&t.remote?s("div",{staticClass:"mt-2",attrs:{title:"Checkout historical versions of this profile"}},[s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn btn-outline-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.name!==e.profile.current}},[e._v(" v"+e._s(t.currentVersion)+" ")]),s("div",{staticClass:"dropdown-menu",staticStyle:{"line-height":"12pt"}},e._l(t.versions,(function(o){return s("a",{key:o.version,staticClass:"dropdown-item px-2 pb-1 pt-0",class:{active:o.version===t.currentVersion},attrs:{href:"javascript:void(0);",title:"Full user agent: "+o.userAgent},on:{click:function(s){return s.stopPropagation(),e.switchVersion(t.name,i,o.version)}}},[s("div",{staticClass:"row no-gutters align-items-center",staticStyle:{"flex-wrap":"nowrap"}},[s("div",{staticClass:"col col-2 mr-1 h-100"},[e._v(" v"+e._s(o.version)+" ")]),s("div",{staticClass:"col col-10 ua-cell text-right"},[s("small",[e._v("  "+e._s(new Date(o.modified).toLocaleString())+" "),s("br"),s("span",{domProps:{innerHTML:e._s(e.getParsedUA(o.userAgent))}})])])])])})),0)])]):e._e()],2)])])})),0),e.profile.tokenType?s("div",{staticClass:"w-100 text-center my-2"},[s("div",[s("small",{staticClass:"text-muted"},[e._v(" You profiles are synchronized with "+e._s(e.backendName)+" ")])]),e._m(2),s("button",{staticClass:"btn btn-outline-primary",attrs:{title:"Close connection to "+e.backendName},on:{click:function(t){return e.profile.logout()}}},[e._v(" Logout ")])]):e.allowBackend?s("div",{staticClass:"w-100 my-2 text-center"},[s("div",{staticClass:"mx-3"},[!e.profile.tokenType&&e.profile.profiles.some((function(e){return e.remote}))?s("small",{staticStyle:{"font-size":"12px"}},[s("i",{staticClass:"fas fa-exclamation-triangle text-warning"}),e._v(" Some profiles are marked as synced, but you've been logged out. To re-enabled sync, please login. ")]):e._e()]),s("button",{staticClass:"btn btn-outline-primary mt-2 mx-3",on:{click:function(t){return e.profile.loginBackend()}}},[e._v(" Login to Hoosmyprofessor ")])]):e._e()])},Oi=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",{staticClass:"form-text text-muted"},[e._v(" JSON: Can be imported later "),s("br"),e._v(" iCal: Supported by most calendar apps ")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",{staticClass:"form-text text-muted"},[e._v(" URL can be shared easily "),s("br"),e._v(" Print your currently rendered schedule ")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mb-1"},[s("small",[s("i",{staticClass:"fas fa-cloud mr-1 text-success"}),e._v(" = Synced    "),s("i",{staticClass:"fas fa-cloud mr-1 text-warning"}),e._v(" = Not Synced ")])])}],$i=s("2b80"),Ti=s.n($i);let Ii=class extends Et{constructor(){super(...arguments),this.newName=[]}get backendName(){return se.name}get allowBackend(){return"file:"!==window.location.protocol||se.oauth_on_electron}getParsedUA(e){const t=new Ti.a(e),s=t.getResult();let i="&nbsp;";return s.os.name&&s.os.version&&(i+=s.os.name+" "+s.os.version),s.device.vendor&&(i+=" | "+s.device.vendor),s.browser.name&&s.browser.version&&(i+="<br />&nbsp;"+s.browser.name+" "+s.browser.version),i}async updateRemoteStatus(e){if(e.remote){if(confirm(`If you disable sync for this profile (${e.name}), it will be deleted from ${se.name} and your other devices that enabled sync. Are you sure?`)){const t=await this.profile.deleteRemote(e.name);if("error"===t.level)return this.noti.notify(t);"warn"===t.level&&this.noti.notify(t),e.remote=!1}}else{const t=await this.profile.uploadProfile([{name:e.name,profile:localStorage.getItem(e.name)}]);if(t)return this.noti.notify(t);e.remote=!0}}getRemoteStatusString(e){const t=e?"synced":"not synced",s=e?"unsync":"sync";return`This profile is currently ${t} with ${se.name}. Click me to ${s}.`}created(){this.newName=this.profile.profiles.map(()=>null)}getMeta(e){let t=null;const s=[];if("string"===typeof e){const s=localStorage.getItem(e);if(s)try{t=JSON.parse(s)}catch(i){console.error(i)}}else t=e;return t&&(t.modified&&s.push(new Date(t.modified).toLocaleString()),t.currentSemester&&s.push(t.currentSemester.name)),s.length||s.push("Data Corruption"),s}onUploadJson(e){const t=e.target,{files:s}=t;if(!s)return;const i=new FileReader;i.onload=async()=>{if(i.result){const{profiles:t}=this.profile,o=t.length;try{await this.profile.addProfile(JSON.parse(i.result.toString()),s[0].name),o!==t.length&&this.newName.push(null),await this.loadProfile()}catch(e){this.noti.error(e.message+": Parsing error")}}else this.noti.warn("File is empty!");t.value=""};try{i.readAsText(s[0])}catch(o){console.error(o),this.noti.error(o.message)}}saveToJson(){if(!this.semester.current)return;const e=localStorage.getItem(this.profile.current);e&&b(e,this.profile.current+".json")}saveToIcal(){b(I(this.schedule.currentSchedule),this.profile.current+".ics")}exportToURL(){if(!this.semester.current)return;const e=localStorage.getItem(this.profile.current);if(e){const t=new URL(window.location.href),s=Mt(e);t.searchParams.set("config",_e.a.compressToEncodedURIComponent(JSON.stringify(s))),this.modal.showURLModal(t.href)}}async deleteProfile(e,t){if(confirm(`Are you sure to delete ${e}?`)){const s=await this.profile.deleteProfile(e,t);if(this.newName.pop(),"success"!==s.level)return this.noti.notify(s);s.payload&&this.loadProfile()}}selectProfile(e){if(e===this.profile.current)return;const t=localStorage.getItem(e);if(t){if(this.profile.tokenType){this.noti.clear();const e=this.profile.profiles.findIndex(e=>e.name===this.profile.current);this.profile.isLatest(e)||(this.profile.profiles[e].currentVersion=this.profile.profiles[e].versions[0].version,localStorage.setItem(this.profile.current,localStorage.getItem("backup-"+this.profile.current)),localStorage.removeItem("backup-"+this.profile.current))}this.profile.current=e,this.loadProfile(),this.$forceUpdate()}}async switchVersion(e,t,s){this.profile.profiles[t].currentVersion=s;const i=await this.profile.getRemoteProfile(e,s);if("error"===i.level)return this.noti.notify(i);localStorage.setItem("backup-"+e,localStorage.getItem(e)),localStorage.setItem(e,i.payload.profile),this.loadProfile(),this.profile.isLatest(t)||this.noti.warn(`You checked out a historical version your profile. Your changes to this profile will not be saved or synchronized with ${se.name} unless you click "Keep".`,3600,!0),this.$forceUpdate()}async keepVersion(e){const t=JSON.parse(localStorage.getItem(e));t.modified=(new Date).toJSON();const s=JSON.stringify(t);localStorage.setItem(e,s);const i=await this.profile.uploadProfile([{name:e,profile:s,new:!0}]);if(i)return this.noti.notify(i);localStorage.removeItem("backup-"+e),this.noti.clear(),this.$forceUpdate()}async renameProfile(e,t){const s=localStorage.getItem(e);if(!s)return;const i=this.newName[t];if(!i)return this.$set(this.newName,t,null);if(i!==e){if(this.profile.profiles.find(e=>e.name===i))return this.noti.error("Duplicated name!");if(!this.profile.profiles[t].remote||confirm("If you rename a synced profile, all its history will be lost. Are you sure?")){const o=await this.profile.renameProfile(t,e,i,s);if(o)return this.noti.notify(o)}}this.$set(this.newName,t,null)}print(){window.print()}};Ii=Object(E["a"])([M["a"]],Ii);var Ai=Ii,Ni=Ai,Ei=(s("cea8"),Object(Rt["a"])(Ni,ki,Oi,!1,null,"7a531c03",null)),Mi=Ei.exports,Pi=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Li=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{attrs:{id:"external-bar"}},[i("h2",{staticClass:"my-4"},[e._v("This page is intentionally left blank")]),i("div",{staticClass:"w-100"},[i("img",{staticClass:"w-75",attrs:{src:s("90ab"),alt:""}})])])}],ji=i["a"].extend({}),Bi=ji,Di=(s("7e5e"),Object(Rt["a"])(Bi,Pi,Li,!1,null,"823ab73c",null)),Fi=Di.exports,Ri=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"btn bg-info nav-btn"},[e._v("Filters")]),s("ul",{staticClass:"list-group list-group-flush mx-1"},[s("li",{staticClass:"list-group-item px-3",attrs:{title:"Time periods when you don't want to have class"}},[e._v(" No Class Time "),s("div",{staticClass:"click-icon px-4",staticStyle:{float:"right"},attrs:{title:"Click to add a time period when you don't want to have class"},on:{click:function(t){return e.filter.addTimeSlot()}}},[s("i",{staticClass:"fas fa-plus"})])]),e._l(e.filter.timeSlots,(function(t,i){return s("li",{key:i,staticClass:"list-group-item p-1"},[s("div",{staticClass:"btn-group btn-days my-2",attrs:{role:"group"}},e._l(e.days,(function(o,a){return s("button",{key:a,class:"btn btn-outline-secondary"+(t[a]?" active":""),attrs:{type:"button"},on:{click:function(t){return e.updateFilterDay(i,+a)}}},[e._v(" "+e._s(o)+" ")])})),0),s("div",{staticClass:"form-group row no-gutters align-items-center text-center mb-2"},[s("div",{staticClass:"col col-5 align-self-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t[7],expression:"value[7]"}],staticClass:"form-control form-control-sm",attrs:{type:"time"},domProps:{value:t[7]},on:{input:function(s){s.target.composing||e.$set(t,7,s.target.value)}}})]),s("div",{staticClass:"col col-1 align-self-center"},[e._v("-")]),s("div",{staticClass:"col col-5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t[8],expression:"value[8]"}],staticClass:"form-control form-control-sm",attrs:{type:"time"},domProps:{value:t[8]},on:{input:function(s){s.target.composing||e.$set(t,8,s.target.value)}}})]),s("div",{staticClass:"col col-1 align-self-center"},[s("i",{staticClass:"fas fa-times click-icon",staticStyle:{"font-size":"1.25rem"},on:{click:function(t){return e.filter.removeTimeSlot(i)}}})])])])})),s("li",{staticClass:"list-group-item"},[s("div",{staticClass:"custom-control custom-checkbox my-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.allowWaitlist,expression:"filter.allowWaitlist"}],staticClass:"custom-control-input",attrs:{id:"awt",type:"checkbox"},domProps:{checked:Array.isArray(e.filter.allowWaitlist)?e._i(e.filter.allowWaitlist,null)>-1:e.filter.allowWaitlist},on:{change:function(t){var s=e.filter.allowWaitlist,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&e.$set(e.filter,"allowWaitlist",s.concat([a])):r>-1&&e.$set(e.filter,"allowWaitlist",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.filter,"allowWaitlist",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"awt"}},[e._v("Allow Wait List")])]),s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.allowClosed,expression:"filter.allowClosed"}],staticClass:"custom-control-input",attrs:{id:"ac",type:"checkbox"},domProps:{checked:Array.isArray(e.filter.allowClosed)?e._i(e.filter.allowClosed,null)>-1:e.filter.allowClosed},on:{change:function(t){var s=e.filter.allowClosed,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&e.$set(e.filter,"allowClosed",s.concat([a])):r>-1&&e.$set(e.filter,"allowClosed",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.filter,"allowClosed",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"ac"}},[e._v("Allow Closed")])])]),s("li",{staticClass:"list-group-item"},[s("button",{staticClass:"btn btn-outline-info w-100",attrs:{type:"button"},on:{click:function(t){return e.generateSchedules()}}},[e._v(" Apply ")])]),s("div",{staticClass:"btn bg-info nav-btn"},[e._v("Sort Priority")]),s("li",{staticClass:"list-group-item px-3",attrs:{title:"Note that you can drag sort options to change their priority in fallback mode"}},[e._v(" Sort According to ")]),s("draggable",{on:{end:function(t){return e.dragEnd()}},model:{value:e.filter.sortOptions.sortBy,callback:function(t){e.$set(e.filter.sortOptions,"sortBy",t)},expression:"filter.sortOptions.sortBy"}},e._l(e.filter.sortOptions.sortBy,(function(t,i){return s("div",{key:t.name,staticClass:"list-group-item py-1 pl-3 pr-0"},[s("div",{staticClass:"row no-gutters w-100"},[s("div",{staticClass:"col col-sm-10 drag-handle",attrs:{title:t.description}},[s("span",{staticStyle:{cursor:"pointer"}},[e._v(" "+e._s(t.title)+" ")]),t.enabled&&!e.getSortOptRange(t)?s("span",{staticClass:"ml-1 text-warning",attrs:{title:"Enabling this sort option has no effect, because all schedules have the same '"+t.title.toLowerCase()+"'"}},[s("i",{staticClass:"fas fa-exclamation-triangle"})]):e._e(),t.weight?e._e():s("span",{staticClass:"ml-1 text-warning",attrs:{title:"Invalid or zero weight"}},[s("i",{staticClass:"fas fa-exclamation-triangle"})]),1===e.filter.sortOptions.mode&&t.enabled?s("div",{staticClass:"input-group input-group-sm",staticStyle:{width:"80%"}},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[e._v("Weight")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.weight,expression:"option.weight"}],staticClass:"form-control",attrs:{type:"number",min:"0.1",max:"10",step:"0.1"},domProps:{value:t.weight},on:{change:function(t){return e.applySort()},input:function(s){s.target.composing||e.$set(t,"weight",s.target.value)}}})]):e._e()]),s("div",{staticClass:"col col-sm-2"},[s("i",{staticClass:"fas mr-2 click-icon",class:t.reverse?"fa-arrow-down":"fa-arrow-up",attrs:{title:"Click to reverse sorting"},on:{click:function(s){t.reverse=!t.reverse,e.changeSorting(+i)}}}),s("div",{staticClass:"custom-control custom-checkbox",staticStyle:{display:"inline-block",cursor:"pointer"}},["similarity"!==t.name||e.filter.similarityEnabled?[s("input",{directives:[{name:"model",rawName:"v-model",value:t.enabled,expression:"option.enabled"}],staticClass:"custom-control-input",attrs:{id:t.name,type:"checkbox"},domProps:{value:t.name,checked:Array.isArray(t.enabled)?e._i(t.enabled,t.name)>-1:t.enabled},on:{change:[function(s){var i=t.enabled,o=s.target,a=!!o.checked;if(Array.isArray(i)){var r=t.name,n=e._i(i,r);o.checked?n<0&&e.$set(t,"enabled",i.concat([r])):n>-1&&e.$set(t,"enabled",i.slice(0,n).concat(i.slice(n+1)))}else e.$set(t,"enabled",a)},function(t){return e.changeSorting(+i)}]}}),s("label",{staticClass:"custom-control-label",attrs:{for:t.name,title:"Enable this sorting option"}})]:[s("input",{staticClass:"custom-control-input",attrs:{id:t.name,type:"checkbox",disabled:""},domProps:{value:t.name}}),s("label",{staticClass:"custom-control-label",attrs:{for:t.name,title:"To enable sort by similarity, please first set a reference schedule in the compare tab"}})]],2)])])])})),0),s("li",{staticClass:"list-group-item"},[e._l(e.filter.sortModes,(function(t){return[s("div",{key:"sm"+t.mode,staticClass:"custom-control custom-radio"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.filter.sortOptions.mode,expression:"filter.sortOptions.mode",modifiers:{number:!0}}],staticClass:"custom-control-input",attrs:{id:"sm"+t.mode,type:"radio"},domProps:{value:t.mode,checked:e._q(e.filter.sortOptions.mode,e._n(t.mode))},on:{change:[function(s){e.$set(e.filter.sortOptions,"mode",e._n(t.mode))},function(t){return e.changeSorting(void 0)}]}}),s("label",{staticClass:"custom-control-label",attrs:{for:"sm"+t.mode,title:t.description}},[e._v(e._s(t.title)+" ")])])]}))],2)],2)])},zi=[],Wi=s("289a"),Ji=s.n(Wi);let Ui=class extends Et{get days(){return k}dragEnd(){0===this.filter.sortOptions.mode&&this.changeSorting()}updateFilterDay(e,t){this.$set(this.filter.timeSlots[e],t,!this.filter.timeSlots[e][t])}getSortOptRange(e){return window.scheduleEvaluator.getRange(e)}changeSorting(e){if(this.validateSortOptions()){if(void 0!==e){const t=this.filter.sortOptions.sortBy[e];if(t.enabled)for(const e of t.exclusive)for(const t of this.filter.sortOptions.sortBy)if(t.name===e){t.enabled=!1;break}}this.applySort()}}applySort(){window.scheduleEvaluator.empty()||(window.scheduleEvaluator.sort({newOptions:this.filter.sortOptions}),this.schedule.generated?this.schedule.currentSchedule=window.scheduleEvaluator.getSchedule(this.schedule.currentScheduleIndex):this.schedule.switchSchedule(!0))}};Ui=Object(E["a"])([Object(M["a"])({components:{draggable:Ji.a}})],Ui);var Vi=Ui,Hi=Vi,qi=Object(Rt["a"])(Hi,Ri,zi,!1,null,null,null),Gi=qi.exports,Yi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"bg-light sidebar",attrs:{id:"palette-nav"}},[s("div",{staticClass:"btn bg-info nav-btn"},[e._v(" Color Schemes ")]),s("ul",{staticClass:"list-group list-group-flush ml-2 mr-1 my-2 text-center schemes"},e._l(e.colorSchemes,(function(t,i){return s("li",{key:t.name,staticClass:"list-group-item list-group-item-action px-1",class:{active:+i===e.display.colorScheme},attrs:{id:+i===e.display.colorScheme?"scheme-active":"scheme-"+i,title:t.description},on:{click:function(t){e.display.colorScheme=+i}}},[s("strong",[e._v(e._s(t.name))]),s("div",{staticClass:"row flex-nowrap no-gutters"},e._l(t.colors,(function(t){return s("div",{key:t,staticClass:"col",style:{"background-color":t,color:t}},[e._v(" 1 ")])})),0)])})),0),s("div",{staticClass:"btn bg-info nav-btn"},[e._v(" Palette ")]),s("ul",{staticClass:"list-group list-group-flush mx-1"},[e.numColors()?e._l(e.courseColors(),(function(t,i){return s("li",{key:i,staticClass:"list-group-item py-1 px-2"},[s("div",{staticClass:"row no-gutters justify-content-between w-100 my-1"},[s("div",{staticClass:"col-sm-auto mr-auto",staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(e.convertKey(t[0]))+" ")]),s("div",{staticClass:"col-sm-auto align-self-center"},[s("i",{staticClass:"fas fa-times click-icon mr-2",staticStyle:{"font-size":"1.1rem"},attrs:{title:"reset to default"},on:{click:function(s){return e.$delete(e.palette.savedColors,t[0])}}}),s("i",{staticClass:"fas fa-sync-alt click-icon mr-1",attrs:{title:"get a random color"},on:{click:function(s){return e.randColor(t[0])}}}),s("input",{staticStyle:{width:"30px"},attrs:{type:"color"},domProps:{value:t[1]},on:{change:function(s){return e.set(t[0],s.target.value)}}})])])])})):s("li",{staticClass:"list-group-item"},[e._v(" You can only customize colors of things displayed in your schedule. Please select your classes and generate your schedules, then come back to change the color for them. ")])],2)])},Ki=[];let Qi=class extends Et{get colorSchemes(){return $e}mounted(){document.getElementById("scheme-active").scrollIntoView(),document.getElementById("palette-nav").scroll(0,0)}set(e,t){this.$set(this.palette.savedColors,e,t)}randColor(e){this.$set(this.palette.savedColors,e,Vs()({luminosity:"dark"}))}colorEntries(){return Object.entries(this.palette.savedColors).filter(e=>this.schedule.currentSchedule.has(e[0],!0))}numColors(){return this.colorEntries().length+this.schedule.currentSchedule.colorSlots.reduce((e,t)=>t.size+e,0)}courseColors(){const e=Ae.colors;return this.colorEntries().concat(this.schedule.currentSchedule.colorSlots.reduce((t,s,i)=>{for(const o of s)!(o in this.palette.savedColors)&&this.schedule.currentSchedule.has(o,!0)&&t.push([o,e[i]]);return t},[])).sort((e,t)=>e[0]===t[0]?0:e[0]<t[0]?-1:1)}convertKey(e){return window.catalog.convertKey(e,this.schedule.currentSchedule)}};Qi=Object(E["a"])([M["a"]],Qi);var Zi=Qi,Xi=Zi,eo=(s("9aeb"),Object(Rt["a"])(Xi,Yi,Ki,!1,null,"73b95f5c",null)),to=eo.exports,so=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"bg-light sidebar"},[e._m(0),s("vue-typeahead-bootstrap",{staticClass:"mt-2",attrs:{data:e.queryTypes,minMatchingChars:1,size:"sm",placeholder:"Title/Topic/Room/Prof./Desc."},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.closeClassList()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getClass()}]},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}},[s("template",{slot:"append"},[e.loading?s("div",{staticClass:"spinner-border my-auto text-primary mx-1",staticStyle:{width:"1.4rem",height:"1.4rem"},attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[e._v("Loading...")])]):s("span",{staticClass:"input-group-text px-2 click-icon",on:{click:function(t){return e.getClass()}}},[s("i",{staticClass:"fas fa-search"})])])],2),e.inputCourses.length?s("div",{ref:"classList",staticClass:"card card-body p-1"},[s("ClassList",{ref:"enteringClassList",attrs:{courses:e.inputCourses,matches:e.inputMatches,schedule:e.schedule.currentSchedule,"is-entering":!0,"show-classlist-title":e.display.showClasslistTitle,"expand-on-entering":e.display.expandOnEntering},on:{"update-course":e.updateCourse,"course-modal":function(t){return e.modal.showCourseModal(t.crs,t.match)},close:function(t){return e.closeClassList()}}})],1):e.query.length?s("div",{staticClass:"mt-2 mx-2"},[e._v(" Input too short or no results ")]):s("div",{staticClass:"mx-3 my-2"},[s("div",{staticClass:"form-group row no-gutters mt-0 mb-1 mx-2"},[e._m(1),s("div",[s("div",{staticClass:"custom-control custom-checkbox ml-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.realtime,expression:"realtime"}],staticClass:"custom-control-input",attrs:{id:"realtime",type:"checkbox"},domProps:{checked:Array.isArray(e.realtime)?e._i(e.realtime,null)>-1:e.realtime},on:{change:function(t){var s=e.realtime,i=t.target,o=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&(e.realtime=s.concat([a])):r>-1&&(e.realtime=s.slice(0,r).concat(s.slice(r+1)))}else e.realtime=o}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"realtime"}})])])]),e._m(2)])],1)},io=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"btn btn-info nav-btn"},[e._v(" Fuzzy Search "),s("span",{staticClass:"badge badge-secondary"},[e._v("Beta")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("label",{staticClass:"m-0",attrs:{for:"realtime"}},[s("small",[e._v("Real Time")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ol",{staticClass:"pl-2"},[s("li",{staticClass:"mb-2 pl-1"},[e._v(" You should use fuzzy search only when you want do an approxiate matching. If you know exactly what your target course's number/title/etc. is, please use the ordinary search instead. ")]),s("li",{staticClass:"mb-2 pl-1"},[e._v(' By default, Plannable will match the title, topic, description and professor name with a predefined set of weights, which may not be always ideal. Therefore, it is recommended that you specify the field to search. For example, you can use "'),s("strong",[e._v(":title comp arch")]),e._v('" to match only the titles of each course. ')]),s("li",{staticClass:"mb-2 pl-1"},[e._v(" Searching for course numbers (e.g. CS 2102) is not supported here. ")]),s("li",{staticClass:"mb-2 pl-1"},[e._v(" If your computer is too slow to run realtime search, you can uncheck the realtime checkbox. To search in non-realtime mode, type your query and press enter or click the search icon. ")])])}];let oo=class extends Et{constructor(){super(...arguments),this.inputCourses=[],this.inputMatches=[],this.queryTypes=[":title ",":topic ",":prof ",":desc ",":room "],this.query="",this.loading=!1,this.realtime=!0}onInput(){this.realtime&&this.getClass()}async getClass(){const e=this.query;e?(this.loading=!0,this.schedule.generated&&this.schedule.switchSchedule(!1),[this.inputCourses,this.inputMatches]=window.catalog.fuzzySearch(e),this.loading=!1):this.closeClassList()}closeClassList(){this.query="",this.inputCourses=[],this.inputMatches=[]}updateCourse(e,t,s=0,i=!1){this.schedule.currentSchedule.update(e,t,s,i);const o=this.$refs.enteringClassList;o instanceof M["c"]&&o.$forceUpdate(),this.saveStatus()}};Object(E["a"])([Object(M["d"])("query")],oo.prototype,"onInput",null),oo=Object(E["a"])([Object(M["a"])({components:{ClassList:ts,VueTypeaheadBootstrap:Ls}})],oo);var ao=oo,ro=ao,no=Object(Rt["a"])(ro,so,io,!1,null,null,null),lo=no.exports,co=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"btn bg-info nav-btn"},[e._v(" Log History ")]),s("ul",{staticClass:"list-group list-group-flush mx-1"},e._l(e.noti.history,(function(t,i){return s("li",{key:i,staticClass:"list-group-item pt-1 pb-2 px-2 my-0"},[s("span",{class:"text-"+t.cls,domProps:{innerHTML:e._s(t.msg)}}),e._v(" "),s("br"),s("small",{staticClass:"text-muted"},[s("span",{staticClass:"px-2 py-1",class:"bg-"+t.cls,staticStyle:{color:"white"}},[e._v(e._s("danger"===t.cls?"error":t.cls))]),e._v(" "+e._s(t.stamp)+" ")])])})),0)])},uo=[];let ho=class extends Et{};ho=Object(E["a"])([M["a"]],ho);var po=ho,mo=po,fo=Object(Rt["a"])(mo,co,uo,!1,null,null,null),go=fo.exports,vo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",[s("ul",{staticClass:"pagination justify-content-center",staticStyle:{"margin-bottom":"0"}},[s("li",{staticClass:"input-group",staticStyle:{width:"80px"}},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.goto,expression:"goto",modifiers:{number:!0}}],staticClass:"form-control",staticStyle:{"border-radius":"4px 0px 0px 4px !important"},attrs:{type:"number",min:"1",step:"1",placeholder:"Go to"},domProps:{value:e.goto},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.goto=1},input:function(t){t.target.composing||(e.goto=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),s("li",{staticClass:"page-item",class:{disabled:e.start<=0&&e.idx<=e.start}},[s("a",{staticClass:"page-link",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.switchPage(e.idx-1)}}},[e._v("«")])]),e._l(e.length,(function(t){return s("li",{key:t,staticClass:"page-item",class:{active:e.idx===t+e.start-1}},[s("a",{staticClass:"page-link",attrs:{href:"javascript:void(0);"},on:{click:function(s){return e.switchPage(t+e.start-1)}}},[e._v(" "+e._s(t+e.start)+" ")])])})),s("li",{staticClass:"page-item",class:{disabled:e.idx>=e.scheduleLength-1}},[s("a",{staticClass:"page-link",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.switchPage(e.idx+1)}}},[e._v("»")])])],2)])},yo=[];let bo=class extends Et{constructor(){super(...arguments),this.idx=0,this.start=0,this.goto=null}get curIdx(){return this.schedule.currentScheduleIndex}get scheduleLength(){return this.schedule.numGenerated}get length(){return window.screen.width<900?this.scheduleLength<3?this.scheduleLength:3:this.scheduleLength<10?this.scheduleLength:10}gotoWatch(){this.switchPage((this.goto||1)-1)}updateStart(){this.idx<this.start?this.start=this.idx:this.idx>=this.start+this.length&&(this.start=this.idx-this.length+1),this.start<0&&(this.start=0)}switchPage(e){e=isNaN(e)?0:+e,e>=this.scheduleLength?this.idx=this.scheduleLength-1:this.idx=e<0?0:e,this.updateStart(),this.schedule.switchPage(this.idx)}autoSwitch(){this.switchPage(this.curIdx)}};Object(E["a"])([Object(M["d"])("goto")],bo.prototype,"gotoWatch",null),Object(E["a"])([Object(M["d"])("curIdx",{immediate:!0})],bo.prototype,"autoSwitch",null),bo=Object(E["a"])([M["a"]],bo);var wo=bo,So=wo,Co=Object(Rt["a"])(So,vo,yo,!1,null,null,null),xo=Co.exports,_o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal fade",attrs:{id:"course-modal",tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e.course?s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",domProps:{innerHTML:e._s(e.highlightMatch(e.course.displayName,"key",e.match[0])+" "+e.course.title)}}),e._m(0)]),s("div",{staticClass:"modal-body"},[s("h6",{domProps:{innerHTML:e._s(e.highlightMatch(e.course.title,"title",e.match[0]))}}),s("div",{staticStyle:{width:"100%","overflow-x":"auto"}},[s("table",{staticClass:"m-color w-100",attrs:{id:"sec-table"}},[s("tbody",e._l(e.course.sections,(function(t){return s("tr",{key:t.section},[s("td",[e._v(e._s(t.id))]),s("td",[e._v(e._s(t.section))]),s("td",{domProps:{innerHTML:e._s(e.highlightMatch(t.topic,"topic",e.match[1].get(t.id)))}}),s("td",{domProps:{innerHTML:e._s(e.highlightMatch(t.instructors,"instructors",e.match[1].get(t.id)))}}),s("td",[e._v(" "+e._s(t.dates)+" ")]),s("td",e._l(t.meetings,(function(t,i){return s("div",{key:i},[e._v(" "+e._s(t.days)+" ")])})),0),s("td",e._l(t.meetings,(function(t,i){return s("div",{key:i},[e.formatLocationURL(t.room)?s("a",{attrs:{href:e.formatLocationURL(t.room),target:"_blank"}},[e._v(e._s(t.room)+" ")]):[e._v(" "+e._s(t.room)+" ")]],2)})),0),s("td",[e._v(e._s(t.status))]),s("td",[e._v(" "+e._s(t.enrollment+"/"+t.enrollment_limit+"/"+t.wait_list)+" ")])])})),0)])]),s("p",{staticClass:"mt-2",domProps:{innerHTML:e._s(e.highlightMatch(e.course.description,"description",e.match[0]))}}),s("hr",{staticClass:"mb-2"}),s("h6",[e._v("External Links:")]),e.semester?s("div",e._l(e.links,(function(t){return s("button",{key:t.name,staticClass:"btn btn-outline-info mr-2 mb-2",on:{click:function(s){return t.action(e.semester,e.course)}}},[e._v(" "+e._s(t.name)+" ")])})),0):e._e()])]):e._e()])])},ko=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])}];let Oo=class extends M["c"]{get links(){return oe.course}};Object(E["a"])([Object(M["b"])(U)],Oo.prototype,"course",void 0),Object(E["a"])([Object(M["b"])({type:Array,default:[]})],Oo.prototype,"match",void 0),Object(E["a"])([Object(M["b"])(Object)],Oo.prototype,"semester",void 0),Oo=Object(E["a"])([M["a"]],Oo);var $o=Oo,To=$o,Io=(s("9d29"),Object(Rt["a"])(To,_o,ko,!1,null,"498d51b5",null)),Ao=Io.exports,No=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal fade",attrs:{id:"section-modal",tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e.section?s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[e._v(e._s(e.section.displayName)+" "+e._s(e.section.id))]),e._m(0)]),s("div",{staticClass:"modal-body"},[s("h6",{domProps:{innerHTML:e._s(e.section.title)}}),e.section.topic?s("div",{staticClass:"m-color"},[e._v(e._s(e.section.topic))]):e._e(),s("div",{staticClass:"m-color"},[e._v(e._s(e.section.type)+" | "+e._s(e.section.units)+" units")]),s("div",{staticClass:"m-color"},[e._v(e._s(e.section.instructors))]),s("div",{staticClass:"m-color"},[e._v(e._s(e.section.dates))]),e._l(e.section.meetings,(function(t,i){return s("div",{key:i,staticClass:"m-color"},[e._v(" "+e._s(t.days)+" @ "),e.formatLocationURL(t.room)?s("a",{attrs:{href:e.formatLocationURL(t.room),target:"_blank"}},[e._v(e._s(t.room)+" ")]):[e._v(" "+e._s(t.room)+" ")]],2)})),s("div",{staticClass:"m-color"},[e._v(" Status: "+e._s(e.section.status)+" | Enrolled: "+e._s(e.section.enrollment)+" | Capacity: "+e._s(e.section.enrollment_limit)+" | Wait List: "+e._s(e.section.wait_list)+" ")]),s("br"),s("div",[e._v(e._s(e.section.description))]),s("hr"),s("h6",[e._v("External Links:")]),e.semester?s("div",{staticClass:"mt-2"},e._l(e.links,(function(t){return s("button",{key:t.name,staticClass:"btn btn-outline-info mr-2 mb-2",on:{click:function(s){return t.action(e.semester,e.section)}}},[e._v(" "+e._s(t.name)+" ")])})),0):e._e()],2)]):e._e()])])},Eo=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])}];let Mo=class extends M["c"]{get links(){return oe.section}};Object(E["a"])([Object(M["b"])(H)],Mo.prototype,"section",void 0),Object(E["a"])([Object(M["b"])(Object)],Mo.prototype,"semester",void 0),Mo=Object(E["a"])([M["a"]],Mo);var Po=Mo,Lo=Po,jo=(s("c75a"),Object(Rt["a"])(Lo,No,Eo,!1,null,null,null)),Bo=jo.exports,Do=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal fade",attrs:{id:"url-modal",tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[e._m(0),s("div",{staticClass:"modal-body"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"form-control",staticStyle:{width:"100%"},attrs:{id:"url-text",rows:"10"},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value)}}}),s("button",{staticClass:"btn btn-primary px-3 mt-3",attrs:{id:"copy-url-btn","data-toggle":"popover","data-content":"success"},on:{click:function(t){return e.copy()}}},[e._v(" Copy ")])])])])])},Fo=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v("URL Sharing")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}];let Ro=class extends M["c"]{constructor(){super(...arguments),this.handler=-1}copy(){const e=document.getElementById("url-text"),t=it()("#copy-url-btn");e.focus(),e.select();const s=document.execCommand("copy");s?t.popover("show"):console.error("unsuccessful copy"),window.clearTimeout(this.handler),this.handler=window.setTimeout(()=>t.popover("dispose"),2e3)}};Object(E["a"])([Object(M["b"])(String)],Ro.prototype,"url",void 0),Ro=Object(E["a"])([M["a"]],Ro);var zo=Ro,Wo=zo,Jo=Object(Rt["a"])(Wo,Do,Fo,!1,null,null,null),Uo=Jo.exports,Vo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal fade",attrs:{id:"versionModal",tabindex:"-1",role:"dialog"}},[i("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v(" Welcome to release v"+e._s(e.version)+" ")]),e._m(0)]),i("img",{staticClass:"img-fluid",attrs:{src:s("9956"),alt:"cover.jpg"}}),i("div",{staticClass:"mx-4 my-4",attrs:{id:"release-note-body"}},[e._v(" Loading release note... ")])])])])},Ho=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])}];let qo=class extends M["c"]{};Object(E["a"])([Object(M["b"])(String)],qo.prototype,"version",void 0),qo=Object(E["a"])([M["a"]],qo);var Go=qo,Yo=Go,Ko=Object(Rt["a"])(Yo,Vo,Ho,!1,null,null,null),Qo=Ko.exports;function Zo(e){const t=window.NativeModule,s=t._malloc(e.byteLength);t.HEAP32.set(e,s/4),t._setTimeMatrix(s,e.length**.5)}function Xo(e=!1){return mt(pt("timeMatrix",ie.distances,e=>Int32Array.from(e.timeMatrix),{expireTime:864e5,force:e,store(e){return localStorage.setItem("timeMatrix",JSON.stringify({modified:new Date,timeMatrix:Array.from(e)})),e}}),{succMsg:"Walking distance matrix loaded",warnMsg:e=>`Failed to load walking distance matrix: ${e}. Old data is used instead`,errMsg:e=>`Failed to load walking distance matrix: ${e}. `,timeoutTime:1e4})}function ea(e=!1){return mt(pt("buildingList",ie.buildings,e=>e.buildingList,{expireTime:864e5,force:e}),{succMsg:"Building list loaded",warnMsg:e=>`Failed to load building list: ${e}. Old data is used instead`,errMsg:e=>`Failed to load building list: ${e}. `,timeoutTime:1e4})}const ta=localStorage.getItem("version")===ee;localStorage.setItem("version",ee);let sa=class extends Et{get sideBar(){return this.status.sideBar}get version(){return ee}get showInformation(){return!te}async loadConfigFromURL(e){const t=e.get("config");if(t)try{return await this.profile.addProfile(await Pt(t),"url loaded"),await this.loadProfile(!ta),this.noti.success("Configuration loaded from URL!",3,!0),!0}catch(s){console.error(s),this.noti.error(s.message+": Parsing error")}return!1}async created(){window.NativeModule=await window.GetNative(),this.status.loading=!0;const e=new URLSearchParams(window.location.search);if(e.get("auth")===se.name)return this.profile.loginBackend();e.get("error")&&this.noti.error("Failed to login: "+e.get("error_description")),ta||this.modal.showReleaseNoteModal(),history.replaceState(history.state,"current","/");let[t,s,i,o,a]=await Promise.all([Xo(),ea(),this.semester.loadSemesters(),this.profile.syncProfiles(),this.profile.getBackendToken(e.get("code"))]);if(a&&(this.profile.loadToken(),o=await this.profile.syncProfiles()),"warn"!==o.level&&this.noti.notify(o),this.noti.notify(t),t.payload&&Zo(window.timeMatrix=t.payload),this.noti.notify(s),s.payload&&(window.buildingSearcher=new R(s.payload)),this.noti.notify(i),i.payload){this.semester.semesters=i.payload,ta||await Promise.all(this.semester.semesters.map(e=>gt["a"].delete("db_"+e.id)));const t=await this.loadConfigFromURL(e);t||(this.profile.initProfiles(this.semester.semesters),await this.loadProfile(!ta))}this.status.loading=!1}indexOfCompare(){return this.compare.findIndex(e=>e.schedule.equals(this.schedule.currentSchedule))}addToCompare(){const e=this.indexOfCompare();if(-1!==e)this.compare.splice(e,1);else{const e=Vs()({luminosity:"dark"});this.compare.push({schedule:this.schedule.currentSchedule,profileName:this.profile.current,index:this.schedule.currentScheduleIndex,color:e,pIdx:this.schedule.cpIndex})}}};sa=Object(E["a"])([Object(M["a"])({components:{MainContent:Wt,ClassView:zs,EventView:_i,DisplayView:vi,FilterView:Gi,PaletteView:to,ExportView:Mi,CompareView:ui,External:Fi,FuzzyView:lo,LogView:go,Information:()=>s.e("chunk-51c446b3").then(s.bind(null,"a8cc")),Pagination:xo,GridSchedule:ai,DateSeparator:Zs,SectionModal:Bo,CourseModal:Ao,URLModal:Uo,VersionModal:Qo}})],sa);var ia=sa,oa=ia,aa=(s("034f"),Object(Rt["a"])(oa,A,N,!1,null,null,null)),ra=aa.exports;let na=class extends Et{loadingWatch(){this.status.loading?this.noti.empty()&&this.noti.info("Loading..."):"Loading..."===this.noti.msg&&this.noti.clear()}w0(){Ae.multiSelect=this.display.multiSelect,this.schedule.recomputeAll(!1,100)}a(){Ae.combineSections=this.display.combineSections,this.schedule.recomputeAll(!1,100)}e(){Ae.colors=$e[this.display.colorScheme].colors,this.schedule.recomputeAll(!1,100)}b(){Ae.savedColors=this.palette.savedColors,this.schedule.recomputeAll(!1,100)}c(){localStorage.setItem("currentProfile",this.profile.current)}d(){localStorage.setItem("profiles",JSON.stringify(this.profile.profiles))}w2(){this.saveStatus()}w3(){this.saveStatus()}w4(){this.saveStatus()}};Object(E["a"])([Object(M["d"])("status.loading")],na.prototype,"loadingWatch",null),Object(E["a"])([Object(M["d"])("display.multiSelect")],na.prototype,"w0",null),Object(E["a"])([Object(M["d"])("display.combineSections")],na.prototype,"a",null),Object(E["a"])([Object(M["d"])("display.colorScheme")],na.prototype,"e",null),Object(E["a"])([Object(M["d"])("palette.savedColors",{deep:!0})],na.prototype,"b",null),Object(E["a"])([Object(M["d"])("profile.current")],na.prototype,"c",null),Object(E["a"])([Object(M["d"])("profile.profiles",{deep:!0})],na.prototype,"d",null),Object(E["a"])([Object(M["d"])("display",{deep:!0})],na.prototype,"w2",null),Object(E["a"])([Object(M["d"])("filter",{deep:!0})],na.prototype,"w3",null),Object(E["a"])([Object(M["d"])("palette",{deep:!0})],na.prototype,"w4",null),na=Object(E["a"])([M["a"]],na);var la=na;p.a.defaults.xsrfHeaderName="X-CSRFTOKEN",p.a.defaults.xsrfCookieName="csrftoken",i["a"].directive("top",{inserted(){window.scrollTo(0,0)}}),i["a"].config.productionTip=!1,i["a"].config.devtools=!0,i["a"].prototype.highlightMatch=f,i["a"].prototype.formatLocationURL=ae,window.saveStatus=It,window.watchers=new la,new i["a"]({render(e){return e(ra)}}).$mount("#app")},cea8:function(e,t,s){"use strict";s("a271")},d01c:function(e,t,s){},de4a:function(e,t,s){"use strict";s("2552")},e7e6:function(e,t,s){},eef9:function(e,t,s){}});
//# sourceMappingURL=app.bc743385.js.map