(function(t){function e(e){for(var i,o,a=e[0],l=e[1],c=e[2],d=0,u=[];d<a.length;d++)o=a[d],n[o]&&u.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);h&&h(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],i=!0,o=1;o<s.length;o++){var a=s[o];0!==n[a]&&(i=!1)}i&&(r.splice(e--,1),t=l(l.s=s[0]))}return t}var i={},o={app:0},n={app:0},r=[];function a(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-5dee0256":"2f15aedf"}[t]+".js"}function l(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(t){var e=[],s={"chunk-5dee0256":1};o[t]?e.push(o[t]):0!==o[t]&&s[t]&&e.push(o[t]=new Promise(function(e,s){for(var i="css/"+({}[t]||t)+"."+{"chunk-5dee0256":"ec3ecbdc"}[t]+".css",n=l.p+i,r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var c=r[a],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===i||d===n))return e()}var u=document.getElementsByTagName("style");for(a=0;a<u.length;a++){c=u[a],d=c.getAttribute("data-href");if(d===i||d===n)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var i=e&&e.target&&e.target.src||n,r=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=i,delete o[t],h.parentNode.removeChild(h),s(r)},h.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(h)}).then(function(){o[t]=0}));var i=n[t];if(0!==i)if(i)e.push(i[2]);else{var r=new Promise(function(e,s){i=n[t]=[e,s]});e.push(i[2]=r);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=a(t),c=function(e){d.onerror=d.onload=null,clearTimeout(u);var s=n[t];if(0!==s){if(s){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+i+": "+o+")");r.type=i,r.request=o,s[1](r)}n[t]=void 0}};var u=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=i,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(s,i,function(e){return t[e]}.bind(null,i));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var h=d;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("cd49")},"034f":function(t,e,s){"use strict";var i=s("85ec"),o=s.n(i);o.a},"04a6":function(t,e,s){"use strict";var i=s("b46c"),o=s.n(i);o.a},"052b":function(t,e,s){t.exports=function(){return new Worker(s.p+"65790eb81d57436f50c3.worker.js")}},"218d":function(t,e,s){"use strict";var i=s("a889"),o=s.n(i);o.a},"289a":function(t,e){t.exports=vuedraggable},3110:function(t,e,s){"use strict";var i=s("e7e7"),o=s.n(i);o.a},"4ad5":function(t,e){t.exports=bootstrap},"687a":function(t,e,s){"use strict";var i=s("afc1"),o=s.n(i);o.a},"69ee":function(t,e,s){},"7a6d":function(t,e,s){"use strict";var i=s("7b26"),o=s.n(i);o.a},"7b26":function(t,e,s){},"7e5e":function(t,e,s){"use strict";var i=s("a690"),o=s.n(i);o.a},"85ec":function(t,e,s){},"8bbf":function(t,e){t.exports=Vue},"90ab":function(t,e,s){t.exports=s.p+"img/placeholder.f3a872b4.jpg"},9331:function(t,e){t.exports=Papa},a272:function(t,e,s){},a690:function(t,e,s){},a889:function(t,e,s){},afc1:function(t,e,s){},b46c:function(t,e,s){},c5e1:function(t,e){t.exports=jQuery},cd49:function(t,e,s){"use strict";s.r(e);var i=s("bc3a"),o=s.n(i),n=s("b383"),r=s.n(n),a=s("8bbf"),l=s.n(a),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-100",attrs:{id:"app"},on:{change:function(e){return t.saveStatus()}}},[s("course-modal",{attrs:{course:t.modal.course}}),s("section-modal",{attrs:{semester:t.semester.currentSemester,section:t.modal.section}}),s("URL-modal",{attrs:{url:t.modal.url}}),s("nav",{staticClass:"tab-bar bg-light"},[s("div",{staticClass:"tab-icon mt-0 mb-4",class:{"tab-icon-active":t.sideBar.showSelectClass},attrs:{title:"Select Classes"},on:{click:function(e){return t.status.switchSideBar("showSelectClass")}}},[s("i",{staticClass:"far fa-calendar-alt"})]),t.display.enableFuzzy?s("div",{staticClass:"tab-icon mt-0 mb-4",class:{"tab-icon-active":t.sideBar.showFuzzy},attrs:{title:"Fuzzy Search"},on:{click:function(e){return t.status.switchSideBar("showFuzzy")}}},[s("i",{staticClass:"fas fa-search"})]):t._e(),s("div",{staticClass:"tab-icon mt-0 mb-4",class:{"tab-icon-active":t.sideBar.showEvent},attrs:{title:"Edit Events"},on:{click:function(e){return t.status.switchSideBar("showEvent")}}},[s("i",{staticClass:"fab fa-elementor"})]),s("div",{staticClass:"tab-icon mt-0 mb-4",class:{"tab-icon-active":t.sideBar.showFilter},attrs:{title:"Filters"},on:{click:function(e){return t.status.switchSideBar("showFilter")}}},[s("i",{staticClass:"fas fa-filter"})]),s("div",{staticClass:"tab-icon mt-0 mb-4",class:{"tab-icon-active":t.sideBar.showSetting},attrs:{title:"Display Settings"},on:{click:function(e){return t.status.switchSideBar("showSetting")}}},[s("i",{staticClass:"fas fa-cog"})]),s("div",{staticClass:"tab-icon mt-0 mb-4",class:{"tab-icon-active":t.sideBar.showSelectColor},attrs:{title:"Customize Colors"},on:{click:function(e){return t.status.switchSideBar("showSelectColor")}}},[s("i",{staticClass:"fas fa-palette"})]),s("div",{staticClass:"tab-icon mt-0 mb-4",class:{"tab-icon-active":t.sideBar.showExport},attrs:{title:"Import/Export Schedule"},on:{click:function(e){return t.status.switchSideBar("showExport")}}},[s("i",{staticClass:"fas fa-download"})]),s("div",{staticClass:"tab-icon mb-4",class:{"tab-icon-active":t.sideBar.showCompare},attrs:{title:"Compare"},on:{click:function(e){return t.status.switchSideBar("showCompare")}}},[s("i",{staticClass:"fas fa-balance-scale"})]),t.display.enableLog?s("div",{staticClass:"tab-icon mb-4",class:{"tab-icon-active":t.sideBar.showLog},attrs:{title:"Show logs"},on:{click:function(e){return t.status.switchSideBar("showLog")}}},[s("i",{staticClass:"fas fa-stream"})]):t._e(),s("div",{staticClass:"tab-icon mb-4",class:{"tab-icon-active":t.sideBar.showInfo},attrs:{title:"Website guide and miscellaneous information"},on:{click:function(e){return t.status.switchSideBar("showInfo")}}},[s("i",{staticClass:"fas fa-info-circle"})]),s("div",{staticClass:"tab-icon mb-4",class:{"tab-icon-active":t.sideBar.showExternal},attrs:{title:"Blank Page"},on:{click:function(e){return t.status.switchSideBar("showExternal")}}},[s("i",{staticClass:"fas fa-bullhorn"})])]),t.sideBar.showSelectClass?s("class-view"):t.sideBar.showFuzzy?s("fuzzy-view"):t.sideBar.showEvent?s("event-view"):t.sideBar.showFilter?s("filter-view"):t.sideBar.showSetting?s("display-view"):t.sideBar.showExport?s("export-view"):t.sideBar.showSelectColor?s("palette-view"):t.sideBar.showCompare?s("compare-view"):t.sideBar.showInfo?s("information"):t.sideBar.showExternal?s("external"):t.sideBar.showLog?s("log-view"):t._e(),t.sideBar.showInfo||t.sideBar.showExternal||t.sideBar.showCompare?t._e():s("main-content",[t.schedule.generated?s("div",{staticClass:"w-100 mb-2 row justify-content-center",attrs:{id:"pg"}},[s("div",{staticClass:"col-sm-auto text-center my-1"},[s("Pagination")],1),s("div",{staticClass:"col-sm-auto text-center align-self-center"},[s("button",{staticClass:"btn btn-outline-primary my-1",on:{click:function(e){return t.addToCompare()}}},[s("i",{staticClass:"fas fa-balance-scale"}),t._v("\n                    Compare\n                    "),-1!==t.indexOfCompare()?s("i",{staticClass:"fas fa-check"}):t._e()])])]):t._e(),s("grid-schedule",{attrs:{"current-schedule":t.schedule.currentSchedule}})],1)],1)},d=[],u=(s("ac6a"),s("3835")),h=(s("386d"),s("9ab4")),m=s("eb11"),p=s.n(m),f=s("60a3"),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"schedule mt-2",style:{width:t.status.isMobile?t.scrollable?"200%":"85%":t.scheduleWidth+"vw","margin-left":(t.status.isMobile?11:t.scheduleLeft)+"vw"}},[s("transition",{attrs:{name:"fade"}},[t.noti.msg.length>0?s("div",{directives:[{name:"top",rawName:"v-top"}],staticClass:"alert my-1 mx-auto",class:"alert-"+t.noti.cls,staticStyle:{width:"85%"},attrs:{id:"noti"}},[t._v("\n            "+t._s(t.noti.msg)+"\n            "),s("button",{staticClass:"close",staticStyle:{align:"center"},attrs:{type:"button"},on:{click:function(e){return t.noti.clear()}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])]):t._e()]),t._t("default"),s("v-footer",{staticClass:"w-100",attrs:{id:"app-footer",dark:"",height:"auto"}},[s("v-card",{staticClass:"flex w-100",attrs:{flat:"",tile:""}},[s("v-card-title",{staticClass:"teal py-3"},[s("strong",{staticClass:"subheading mr-auto"},[t._v("Get connected with us and let us hear your voice!\n                ")]),s("a",{staticStyle:{color:"inherit","text-decoration":"none"},attrs:{target:"_blank",href:"https://github.com/awesome-schedule/plannable"}},[s("v-btn",{staticClass:"mx-3",attrs:{title:"Checkout our GitHub site to watch/star/fork!",dark:"",icon:""}},[s("v-icon",{attrs:{size:"24px"}},[t._v("fab fa-github")])],1)],1),s("a",{staticStyle:{color:"inherit","text-decoration":"none"},attrs:{target:"_blank",href:"https://github.com/awesome-schedule/plannable/issues"}},[s("v-btn",{staticClass:"mx-3",attrs:{title:"File an issue on GitHub",dark:"",icon:""}},[s("v-icon",{attrs:{size:"24px"}},[t._v("fas fa-exclamation-circle")])],1)],1),s("a",{staticStyle:{color:"inherit","text-decoration":"none"},attrs:{target:"_blank",href:"https://www.youtube.com/watch?v=GFKAmRvqwkg"}},[s("v-btn",{staticClass:"mx-3",attrs:{title:"Watch our video on YouTube",dark:"",icon:""}},[s("v-icon",{attrs:{size:"22px"}},[t._v("fab fa-youtube")])],1)],1),s("a",{staticStyle:{color:"inherit","text-decoration":"none"},attrs:{target:"_blank",href:"https://docs.google.com/forms/d/e/1FAIpQLScsXZdkFFIljwyhuyAOwjGhEbq_LzY-POxEyJsK_jLrBIUmvw/viewform"}},[s("v-btn",{staticClass:"mx-3",attrs:{title:"Fill out a survey to make us better",dark:"",icon:""}},[s("v-icon",{attrs:{size:"24px"}},[t._v("fas fa-poll")])],1)],1)]),s("v-card-actions",{staticClass:"grey darken-3 justify-content-center"},[t._v("\n                Â©2019 â€”Â "),s("strong",[t._v("Plannable")])])],1)],1)],2)},v=[];s("55dd"),s("6b54"),s("28a5");const y=Object.freeze({Mo:0,Tu:1,We:2,Th:3,Fr:4}),b=["Mo","Tu","We","Th","Fr"],w=Object.freeze({"-1":"",0:"Clinical",1:"Discussion",2:"Drill",3:"Independent Study",4:"Laboratory",5:"Lecture",6:"Practicum",7:"Seminar",8:"Studio",9:"Workshop"}),C=Object.freeze({"-1":"TBA",1:"Open",0:"Closed",2:"Wait List"}),S=Object.freeze({"":-1,Clinical:0,Discussion:1,Drill:2,"Independent Study":3,Laboratory:4,Lecture:5,Practicum:6,Seminar:7,Studio:8,Workshop:9}),_=Object.freeze({Open:1,Closed:0,"Wait List":2,TBA:-1}),x=864e5,k=72e5;function O(t){const e=t.split(" "),s=Object(u["a"])(e,4),i=s[0],o=s[1],n=s[3];if(i&&o&&n){const t=[];for(let e=0;e<i.length;e+=2)t.push(i.substr(e,2));return[t,[I(o),I(n)]]}return null}function E(t){const e=t.split(" "),s=Object(u["a"])(e,4),i=s[0],o=s[1],n=s[3];if(i&&o&&n){const t=[[],[],[],[],[]],e=I(o),s=I(n);for(let o=0;o<i.length;o+=2)t[y[i.substr(o,2)]].push(e,s);return t}return null}function T(t){const e=t.split(":");return 60*+e[0]+ +e[1]}function I(t){return T(P(t))}function N(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;for(let o=0;o<5;o++){const n=t[o],r=n.length;if(!r)continue;const a=e[o],l=a.length;if(l)for(let t=0;t<r;t+=s){const e=n[t]+1,s=n[t+1]-1;for(let t=0;t<l;t+=i){const i=a[t],o=a[t+1];if(e<=i&&i<=s||e<=o&&o<=s||e>=i&&s<=o)return!0}}}return!1}function A(t,e,s,i){return t<=s&&i<=e?i-s:s<=t&&e<=i?e-t:t<=s&&s<=e?e-s:t<=i&&i<=e?i-t:-1}function $(t){const e=t.split(":"),s=+e[0];return 12===s?t+"PM":0===s?`12:${e[1]}AM`:s<12?t+"AM":`${s-12}:${e[1]}PM`}function P(t){const e=t.length,s=t.substring(0,e-2),i=s.split(":"),o=Object(u["a"])(i,2),n=o[0],r=o[1],a=+n;return"AM"===t.substring(e-2)?12===a?"00:"+r:s:12===a?s:`${(a+12).toString().padStart(2,"0")}:${r}`}function B(t){const e=t.split(":"),s=parseInt(e[1]),i=2*(parseInt(e[0])-8);return s>=30?i+1:i}s("4917");var M=s("21a6");function j(t,e){window.open("https://rabi.phys.virginia.edu/mySIS/CS2/sectiontip.php?Semester="+t+"&ClassNumber="+e,"_blank","width=650,height=700,scrollbars=yes")}function L(t){window.open(`https://vagrades.com/uva/${t.department.toUpperCase()}${t.number}`,"_blank","width=650,height=700,scrollbars=yes")}function D(t,e,s){if(!s||!s.length)return t;let i="",o=0;for(const n of s){const s=n.match,r=n.start,a=n.end;s===e&&(i+=`${t.substring(o,r)}<span class="bg-warning">${t.substring(r,a)}</span>`,o=a)}return i+t.substring(o)}function F(t){let e=2166136261;for(let s=0,i=t.length;s<i;s++)e^=t.charCodeAt(s),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}function z(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Time out fetching data. Please try again later";return e>0?Promise.race([t,new Promise((t,i)=>{window.setTimeout(()=>{i(s)},e)})]):t}function R(t,e){Object(M["saveAs"])(new Blob([t],{type:"text/plain;charset=utf-8"}),e)}function J(t){let e="";return"string"===typeof t?e+=t:t.response?e+="request rejected by the server":t.request?e+="No internet":e+=t.message,e}var W=s("0430");class H{static getInstructors(t){const e=[];for(const s of t){const t=s[0].split(", ");for(const s of t)e.includes(s)||e.push(s)}return e}constructor(t){this.instructor=t[0],this.days=t[1],this.room=t[2],this.dates=t[3]}sameTimeAs(t){return this.days===t.days}}class U{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.course=t,this.sid=e,this.matches=s,this.key=t.key,this.department=t.department,this.number=t.number,this.type=t.type,this.units=t.units,this.title=t.title,this.description=t.description;const i=t.raw[6][e];this.id=i[0],this.section=i[1],this.topic=i[2],this.status=C[i[3]],this.enrollment=i[4],this.enrollment_limit=i[5],this.wait_list=i[6],this.meetings=i[7].map(t=>new H(t)),this.instructors=H.getInstructors(i[7])}get displayName(){return`${this.department} ${this.number}-${this.section} ${this.type}`}sameTimeAs(t){const e=this.meetings.length;return e===t.meetings.length&&this.meetings.every((e,s)=>e.sameTimeAs(t.meetings[s]))}combinedTime(){return this.meetings.reduce((t,e)=>t+e.days+"|","")}hash(){return F(this.key)}getTimeRoom(){const t=[[],[],[],[],[]],e=window.buildingList;for(const s of this.meetings){const i=s.days;if(!i)continue;const o=O(i);if(null===o)return null;const n=Object(u["a"])(o,2),r=n[0],a=n[1];for(const l of r){const i=y[l],o=t[i];if(o.push(...a),e&&e.length){const t=s.room,i=Object(W["a"])(t.toLowerCase(),e);i.bestMatch.rating>=.4?o.push(i.bestMatchIndex):(console.warn(t,"match not found!"),o.push(-1))}else o.push(-1)}}return t}equals(t){return this.key===t.key&&this.sid===t.sid}has(t,e){return t instanceof Set?this.key===e&&t.has(this.sid):this.equals(t)}}const V=(t,e)=>t.start-e.start;class G{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.raw=t,this.key=e,this.secMatches=o,s.length?this.sids=s.slice().sort((t,e)=>t-e):this.sids=Array.from({length:t[6].length},(t,e)=>e),this.department=t[0],this.number=t[1],this.type=w[t[2]],this.units=t[3],this.title=t[4],this.description=t[5],this.matches=i.concat().sort(V),o.length===this.sids.length?this.sections=this.sids.map((t,e)=>new U(this,t,o[e].concat().sort(V))):this.sections=this.sids.map(t=>new U(this,t))}get displayName(){return this.department+" "+this.number+" "+this.type}getFirstSection(){return this.sections[0]}addMatch(t){const e=this.matches.concat();return e.push(t),new G(this.raw,this.key,this.sids,e,this.secMatches)}addSectionMatches(t,e){const s=this.secMatches.map(t=>t.concat()),i=this.sids.concat(),o=t.map((t,s)=>[t,e[s]]).filter(t=>{let e=Object(u["a"])(t,2),o=e[0],n=e[1];const r=i.findIndex(t=>t===o);return-1===r||(s[r].push(...n),!1)});for(const r of o){var n=Object(u["a"])(r,2);const t=n[0],e=n[1];let o=0;for(;o<i.length;o++)if(t<i[o])break;i.splice(o,0,t),s.splice(o,0,e)}return new G(this.raw,this.key,i,this.matches,s)}getCourse(t){return new G(this.raw,this.key,t)}allSameTime(){const t=this.sections;for(let e=0;e<t.length-1;e++)if(!t[e].sameTimeAs(t[e+1]))return!1;return!0}getCombined(){const t={};for(const e of this.sections){const s=e.combinedTime();t[s]?t[s].push(e):t[s]=[e]}return t}hash(){return F(this.key)}copy(){return new G(this.raw,this.key,this.sids)}equals(t){return t instanceof G&&(this.key===t.key&&this.sids.toString()===t.sids.toString())}has(t,e){return t instanceof Set?this.key===e&&this.sids.some(e=>t.has(e)):this.key===t.key&&this.sids.includes(t.sid)}}class q{constructor(t,e,s,i,o){this.days=t,this.display=e,this.title=s,this.description=i,this.room=o,this.key=t}hash(){return F(this.days)}copy(){return new q(this.days,this.display,this.title,this.description,this.room)}toTimeArray(){return E(this.days)}}function Y(t){let e="BEGIN:VCALENDAR\r\nVERSION:2.0\r\nPRODID:UVa-Awesome-Schedule\r\n",s=0,i=new Date(2019,7,27,0,0,0),o=new Date(2019,11,6,0,0,0);for(const n of t.days)for(const t of n)if(t.section instanceof U)for(const e of t.section.meetings){if(!e.dates||"TBD"===e.dates||"TBA"===e.dates)continue;const t=e.dates.split(" "),n=Object(u["a"])(t,3),r=n[0],a=n[2],l=r.split("/"),c=Object(u["a"])(l,3),d=c[0],h=c[1],m=c[2];i=new Date(parseInt(m),parseInt(d)-1,parseInt(h),0,0,0);const p=a.split("/"),f=Object(u["a"])(p,3),g=f[0],v=f[1],y=f[2];o=new Date(parseInt(y),parseInt(g)-1,parseInt(v),0,0,0),s=i.getDay();break}for(let n=0;n<5;n++)for(const r of t.days[n])if(r.section instanceof U||r.section instanceof G){let t=r.section;t instanceof G&&(t=t.getFirstSection());for(const a of t.meetings){if("TBD"===a.days||"TBA"===a.days)continue;if(-1===a.days.indexOf(b[n]))continue;const l=(n+7-s)%7+1,c=a.days.split(" "),d=Object(u["a"])(c,4),h=d[1],m=d[3],p=I(h),f=I(m),g=new Date(i.getTime()+24*l*60*60*1e3+60*p*1e3);e+="BEGIN:VEVENT\r\n",e+="UID:\r\n",e+="DTSTAMP:"+K(g)+"\r\n",e+="DTSTART:"+K(g)+"\r\n",e+="RRULE:FREQ=WEEKLY;INTERVAL=1;BYDAY="+b[n].toUpperCase()+";BYHOUR="+g.getHours()+";BYMINUTE="+g.getMinutes()+";UNTIL="+K(o)+"\r\n",e+="DURATION=P"+Math.floor((f-p)/60)+"H"+(f-p)%60+"M\r\n",e+="SUMMARY:"+t.department+" "+t.number+"\r\n",e+="DESCRIPTION:"+t.title+"\r\n",e+="LOCATION:"+a.room+"\r\n",e+="COLOR:"+r.backgroundColor+"\r\n",e+="END:VEVENT\r\n"}}else if(r.section instanceof q){const t=(n+7-s)%7+1,a=r.section.days.split(" "),l=Object(u["a"])(a,4),c=l[1],d=l[3],h=I(c),m=I(d),p=new Date(i.getTime()+24*t*60*60*1e3+60*h*1e3);e+="BEGIN:VEVENT\r\n",e+="UID:\r\n",e+="DTSTAMP:"+K(p)+"\r\n",e+="DTSTART:"+K(p)+"\r\n",e+="RRULE:FREQ=WEEKLY;INTERVAL=1;BYDAY="+b[n].toUpperCase()+";BYHOUR="+p.getHours()+";BYMINUTE="+p.getMinutes()+";UNTIL="+K(o)+"\r\n",e+="DURATION=P"+Math.floor((m-h)/60)+"H"+(m-h)%60+"M\r\n",e+="SUMMARY:"+r.section.title+"\r\n",e+="DESCRIPTION:"+r.section.description+"\r\n",e+="LOCATION:"+r.section.room+"\r\n",e+="COLOR:"+r.backgroundColor+"\r\n",e+="END:VEVENT\r\n"}return e+="END:VCALENDAR",e}function K(t){return t.getFullYear().toString()+(t.getMonth()<9?"0"+(t.getMonth()+1):(t.getMonth()+1).toString())+(t.getDate()<10?"0"+t.getDate().toString():t.getDate().toString())+"T"+(t.getHours()<10?"0"+t.getHours().toString():t.getHours().toString())+(t.getMinutes()<10?"0"+t.getMinutes().toString():t.getMinutes().toString())+"00"}var Q=s("1627");class X{constructor(t){this.val=t,this.visited=!1,this.depth=0,this.pathDepth=0,this.path=[]}}function Z(t,e,s,i,o,n){if(n===t.length)return!0;if(i[0]++>1e5)return!1;const r=s[n],a=t[r],l=a.length;t:for(let c=0;c<o;c++){for(let t=0;t<l;t++)if(e[a[t]]===c)continue t;if(e[r]=c,Z(t,e,s,i,o,n+1))return!0;e[r]=-1}return!1}function tt(t,e,s){e.fill(-1);const i=t.length;if(!i)return 0;const o=t.map(()=>new Set);let n=0,r=-1;for(let c=0;c<i;c++){const e=t[c].length;e>r&&(r=e,n=c)}let a=t[n];for(const c of a)o[c].add(0);e[n]=0,s[0]=n;let l=0;for(let c=1;c<i;c++){let r=-1;for(let s=0;s<i;s++)if(-1===e[s]){const e=o[s].size;e>r?(n=s,r=e):e===r&&t[s].length>t[n].length&&(n=s)}a=t[n];t:for(let t=0;t<19260817;t++){for(const s of a)if(e[s]===t)continue t;e[n]=t,t>l&&(l=t),s[c]=n;for(const e of a)o[e].add(t);break}}return l+1}function et(t,e){const s=e.slice();e.fill(-1),tt(t,e,s);const i=new Int32Array(1);let o=0,n=1;for(let r=1;r<19260817;r++){if(Z(t,e,s,i,r,0)){n=r;break}e.fill(-1),o+=i[0],i[0]=0}return n}function st(t,e){const s=new Map,i=[];for(let o=0;o<e.length;o++){const t=new X(o);t.depth=e[o],i.push(t)}for(let o=0;o<e.length;o++)s.set(i[o],Array.from(t[o]).map(t=>i[t]));return i.filter(t=>0===t.depth).forEach(t=>{it(t,s)}),s}function it(t,e){const s=e.get(t);let i=!1;for(const o of s)o.depth>t.depth&&(o.parent=t,it(o,e),i=!0);if(!i){let e=t;const s=[];while(1){if(s.unshift(e),e.pathDepth=Math.max(t.depth,e.pathDepth),!e.parent){e.path.push(s);break}e=e.parent}}}class ot{constructor(t,e,s,i){this.backgroundColor=t,this.start=e,this.end=s,this.section=i,this.duration=0,this.left=-1,this.width=-1,this.strong=!1,this.startMin=T(e),this.endMin=T(s),this.duration=this.endMin-this.startMin}conflict(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=A(this.startMin,this.endMin,t.startMin,t.endMin);return e?s>=0:s>0}}const nt=Object.freeze({info:"info",error:"danger",warn:"warning",success:"success"}),rt=(Object.freeze({info:"info",danger:"error",success:"info",warning:"warn"}),Object.freeze({info:0,success:1,warning:2,danger:3}));class at{constructor(){this.msg="",this.cls="",this.history=[],this.job=null}notify(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"!==typeof t&&(e=nt[t.level],t=t.msg),this.history.unshift({msg:t,cls:e,stamp:(new Date).toLocaleTimeString()}),(!this.cls||rt[e]>=rt[this.cls]||i)&&(this.job&&window.clearTimeout(this.job),this.msg=t,this.cls=e,this.clear(s))}empty(){return!this.msg&&!this.cls}clear(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t<=0?(this.msg="",this.cls="",this.job=null):this.job=window.setTimeout(()=>this.clear(0),1e3*t)}clearHistory(){this.history=[]}warn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.notify(t,"warning",e,s)}error(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.notify(t,"danger",e,s)}success(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.notify(t,"success",e,s)}info(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.notify(t,"info",e,s)}}const lt=new at;var ct,dt=lt;class ut{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.events=e,this.pendingCompute=0,this.All={},this.days=[[],[],[],[],[]],this._preview=null,this.colorSlots=Array.from({length:ut.bgColors.length},()=>new Set),this.totalCredit=0,this.currentCourses=[],this.currentIds={};for(const i of t){var s=Object(u["a"])(i,2);const t=s[0],e=s[1];this.All[t]=new Set(e)}this.computeSchedule()}static isNumberArray(t){return"number"===typeof t[0]}static fromJSON(t){if(!t)return null;const e=new ut;t.events&&(e.events=t.events.map(t=>Object.setPrototypeOf(t,q.prototype)));const s=Object.keys(t.All).map(t=>t.toLowerCase());if(0===s.length)return e;const i=window.catalog,o=/([a-z]{1,5})([0-9]{4})(.*)/i;for(const n of s){const s=t.All[n],r=i.getCourse(n),a=n.match(o);let l=n;if(a&&4===a.length&&(a[3]=w[+a[3]],l=a.slice(1).join(" ")),!r){dt.warn(`${l} does not exist anymore! It probably has been removed!`);continue}const c=r.sections;if(s instanceof Array)if(s.length)if(ut.isNumberArray(s))e.All[n]=new Set(s.filter(t=>{return t>=c.length&&dt.warn(`Invalid section id ${t} for ${l}. It probably has been removed!`),t<c.length}));else{const t=new Set;for(const e of s){const s=c.findIndex(t=>t.id===e.id&&t.section===e.section);-1!==s?t.add(s):dt.warn(`Section ${e.section} of ${l} does not exist anymore! It probably has been removed!`)}e.All[n]=t}else e.All[n]=new Set;else e.All[n]=s}return e.computeSchedule(),e}getColor(t){const e=ut.savedColors[t.key];if(e)return e;const s=t.hash()%ut.bgColors.length;return this.colorSlots[s].add(t.key),ut.bgColors[s]}update(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(-1===e)-1===this.All[t]?s?delete this.All[t]:this.All[t]=new Set:this.All[t]=-1;else{const i=this.All[t];i instanceof Set?i.delete(e)?0===i.size&&s&&delete this.All[t]:i.add(e):this.All[t]=new Set([e])}this.computeSchedule()}removePreview(){this._preview=null,this.computeSchedule(!1)}preview(t){this._preview=t,this.computeSchedule(!1)}addEvent(t,e,s,i,o){const n=new q(t,e,s,o,i);for(const r of this.events)if(r.days===t||N(n.toTimeArray(),r.toTimeArray()))throw new Error(`Your new event conflicts with ${r.title}`);this.events.push(n),this.computeSchedule()}deleteEvent(t){for(let e=0;e<this.events.length;e++)if(this.events[e].days===t){this.events.splice(e,1);break}this.computeSchedule()}hover(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=this.All[t];s instanceof Set&&Object.values(this.days).forEach(i=>{for(const o of i){const i=o.section;i instanceof q||i.has(s,t)&&(o.strong=e)}})}unhover(t){this.hover(t,!1)}computeSchedule(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];window.clearTimeout(this.pendingCompute),t?this._computeSchedule():this.pendingCompute=window.setTimeout(()=>{this._computeSchedule()},10)}_computeSchedule(){const t=window.catalog;if(t){this.cleanSchedule();for(const e in this.All){const s=this.All[e];this.currentCourses.push(t.getCourse(e));const i=t.getCourse(e,s);if(!i.sections.length)continue;const o=parseFloat(i.units);this.totalCredit+=isNaN(o)?0:o;const n=i.displayName;if(-1===s)this.currentIds[n]=" - ",this.place(i);else if(1===s.size){const t=i.getFirstSection();this.currentIds[n]=t.id.toString(),this.place(t)}else if(s.size>0)if(ut.options.multiSelect){const e=Object.values(i.getCombined()).map(e=>t.getCourse(i.key,new Set(e.map(t=>t.sid)))),o=e[0].getFirstSection().id,r=s.size-1;for(const t of e)this.currentIds[n]=r?`${o.toString()}+${r}`:o.toString(),this.place(t)}else this.place(i),this.currentIds[n]=i.getFirstSection().id.toString()+"+"+(s.size-1)}if(this._preview){const t=this._preview;let e=!1;for(const s of this.days)for(const i of s)i.section instanceof q||!i.section.has(t)||(e=i.strong=!0);e||this.place(t)}this.currentCourses.sort((t,e)=>t.key===e.key?0:t.key<e.key?-1:1);for(const t of this.events)t.display&&this.place(t);this.computeBlockPositions()}}computeBlockPositions(){for(const t of this.days){t.sort((t,e)=>e.duration-t.duration);const e=t.map(()=>[]);for(let n=0;n<t.length;n++)for(let s=n+1;s<t.length;s++)t[n].conflict(t[s])&&(e[n].push(s),e[s].push(n));const s=e.map(t=>Int16Array.from(t)),i=new Int16Array(s.length),o=(et(s,i),st(s,i));for(const n of o.keys()){if(n.parent)continue;const e=n.path;for(const s of e){const e=t[s[0].val];-1===e.left&&(e.left=0,e.width=1/(s[0].pathDepth+1));for(let i=1;i<s.length;i++){const e=t[s[i].val],o=t[s[i-1].val];e.left=Math.max(e.left,o.left+o.width),e.width=(1-e.left)/(s[i].pathDepth-s[i].depth+1)}}}o.clear()}}place(t){if(t instanceof U){const e=this.getColor(t);for(const s of t.meetings)this.placeHelper(e,s.days,t)}else if(t instanceof q)t.display&&this.placeHelper(this.getColor(t),t.days,t);else{if(!t.allSameTime())return;const e=t.sections,s=e[0];if(1===e.length){const t=this.getColor(s);for(const e of s.meetings)this.placeHelper(t,e.days,s)}else if(ut.options.combineSections){const e=this.getColor(t);for(const i of s.meetings)this.placeHelper(e,i.days,t)}else for(const i of t.sections){const t=this.getColor(i);for(const e of i.meetings)this.placeHelper(t,e.days,i)}}}placeHelper(t,e,s){const i=e.split(" "),o=Object(u["a"])(i,4),n=o[0],r=o[1],a=o[3];if(n&&r&&a){const e=P(r),i=P(a);if(e===i)return void console.warn(s,e,i);for(let o=0;o<n.length;o+=2){const r=new ot(t,e,i,s);this.days[y[n.substr(o,2)]].push(r)}}}remove(t){delete this.All[t],this.computeSchedule()}cleanSchedule(){this.days=[[],[],[],[],[]],this.colorSlots.forEach(t=>t.clear()),this.totalCredit=0,this.currentCourses=[],this.currentIds={}}fromJSON(t){return ut.fromJSON(t)}toJSON(){const t={All:{},events:this.events},e=window.catalog;for(const s in this.All){const i=this.All[s];i instanceof Set?t.All[s]=[...i].map(t=>{const i=e.getSection(s,t),o=i.id,n=i.section;return{id:o,section:n}}):t.All[s]=i}return t}copy(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e={};for(const i in this.All){const t=this.All[i];t instanceof Set?e[i]=new Set(t):e[i]=t}const s=new ut([],t?this.events.map(t=>t.copy()):this.events);return s.All=e,s.computeSchedule(),s}has(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?this.events.some(e=>e.days===t)||Object.values(this.days).some(e=>e.some(e=>e.section.key===t)):t in this.All||this.events.some(e=>e.days===t)}clean(){this.cleanSchedule(),this.All={},this._preview=null}empty(){return 0===Object.keys(this.All).length}equals(t){const e=Object.keys(this.All);if(e.length!==Object.keys(t.All).length)return!1;for(const o of e){const e=this.All[o],s=t.All[o];if(!s)return!1;if(-1===e||-1===s){if(e!==s)return!1}else{if(e.size!==s.size)return!1;for(const t of e)if(!s.has(t))return!1}}const s=this.events.map(t=>t.days).sort(),i=t.events.map(t=>t.days).sort();if(s.length!==i.length)return!1;for(let o=0;o<s.length;o++)if(s[o]!==i[o])return!1;return!0}}ut.options=Object.seal({combineSections:!0,multiSelect:!0}),ut.bgColors=["#f7867e","#ffb74c","#82677E","#2C577C","#6D838A","#00a0a0","#355dff","#7790ff","#9B5656","#CC9393","#993D5F"],ut.savedColors={},function(t){t[t["fallback"]=0]="fallback",t[t["combined"]=1]="combined"}(ct||(ct={}));class ht{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.options=t,this.timeMatrix=e,this.events=s,this._schedules=[],this.schedules=[],this.sortCoeffCache={};const i={};for(const n of Object.entries(ht.sortFunctions)){var o=Object(u["a"])(n,2);const t=o[0],e=o[1];i[t]=e.bind(this)}this.sortFunctions=i}add(t){const e=[[],[],[],[],[]];for(const s of t){const t=s[2];for(let s=0;s<5;s++){const i=t[s],o=i.length;if(!o)continue;const n=e[s];for(let t=0;t<o;t+=3){const e=i[t];let s=0;for(;s<n.length;s+=3)if(e<n[s])break;n.splice(s,0,e,i[t+1],i[t+2])}}}this._schedules.push({schedule:t,blocks:e,coeff:0,index:this._schedules.length})}isRandom(){return this.options.sortBy.some(t=>"IamFeelingLucky"===t.name&&t.enabled)}computeCoeffFor(t,e){const s=this._schedules,i=s.length,o=this.sortCoeffCache[t];if(o){if(e)for(let t=0;t<i;t++)s[t].coeff=o[t];return o}{const o=this.sortFunctions[t],n=new Float32Array(i);if(e)for(let t=0;t<i;t++){const e=s[t],i=o(e);n[t]=s[t].coeff=i}else for(let t=0;t<i;t++)n[t]=o(s[t]);return this.sortCoeffCache[t]=n,n}}computeCoeff(){if(this.isRandom())return;const t=this.countSortOpt(),e=Object(u["a"])(t,2),s=e[0],i=e[1],o=this._schedules;if(1!==s)if(this.options.mode===ct.fallback)this.options.sortBy.filter(t=>t.enabled).forEach(t=>{this.computeCoeffFor(t.name,!1)});else{const t=this.options.sortBy.filter(t=>t.enabled),e=o.length,s=new Float32Array(e);for(const i of t){const t=this.computeCoeffFor(i.name,!1);let o=-1/0,n=1/0;for(let s=0;s<e;s++){const e=t[s];e>o&&(o=e),e<n&&(n=e)}const r=o-n;if(!r){console.warn(r,i.name);continue}const a=r/100;if(i.reverse)for(let i=0;i<e;i++)s[i]+=Math.pow((o-t[i])/a,2);else for(let i=0;i<e;i++)s[i]+=Math.pow((t[i]-n)/a,2)}for(let i=0;i<e;i++)o[i].coeff=s[i]}else this.computeCoeffFor(this.options.sortBy[i].name,!0)}countSortOpt(){let t=0,e=-1;for(let s=0;s<this.options.sortBy.length;s++){const i=this.options.sortBy[s];i.enabled&&(t++,e=s)}return[t,e]}sort(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.newOptions,s=t.quick,i=void 0===s||s,o=t.quickThresh,n=void 0===o?1e4:o;e&&(this.options=e),this.computeCoeff();const r=this._schedules.slice();if(this.schedules=r,this.isRandom())return void this.shuffle(this.schedules);const a=this.options.sortBy.filter(t=>t.enabled),l=this.options.mode===ct.combined,c=!a[0].reverse||l&&1!==a.length?(t,e)=>t.coeff-e.coeff:(t,e)=>e.coeff-t.coeff;if(l||1===a.length)i||r.length>n?this.partialSort(r,c,1e3):r.sort(c);else{const t=a.length,e=new Int32Array(t).map((t,e)=>a[e].reverse?-1:1),s=a.map(t=>this.sortCoeffCache[t.name]),o=(i,o)=>{let n=0;for(let r=0;r<t;r++){const t=s[r];if(n=e[r]*(t[i.index]-t[o.index]),n)return n}return n};i||r.length>n?this.partialSort(r,o,1e3):r.sort(o)}}partialSort(t,e,s){const i=t.length;if(s>=i/2)t.sort(e);else{Object(Q["a"])(t,s,0,i-1,e);const o=t.slice(0,s).sort(e);for(let e=0;e<s;e++)t[e]=o[e]}}size(){return this._schedules.length}getSchedule(t){return new ut(this.schedules[t].schedule,this.events)}empty(){return 0===this._schedules.length}clear(){this.schedules=[],this._schedules=[],this.sortCoeffCache={},this.events=[]}shuffle(t){for(let e=t.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1)),i=t[e];t[e]=t[s],t[s]=i}return t}}ht.sortFunctions={variance(t){const e=t.blocks;let s=0,i=0;for(const o of e){let t=0;for(let e=0;e<o.length;e+=3)t+=o[e+1]-o[e];s+=t,i+=Math.pow(t,2)}return i/5-Math.pow(s/5,2)},compactness(t){const e=t.blocks;let s=0;for(const i of e){const t=i.length-5;for(let e=0;e<t;e+=3)s+=i[e+3]-i[e+1]}return s},lunchTime(t){const e=t.blocks;let s=0;for(const i of e){let t=0;const e=i.length;for(let s=0;s<e;s+=3)t+=Math.max(A(660,840,i[s],i[s+1]),0);t>60&&(s+=t)}return s},noEarly(t){const e=t.blocks,s=720;let i=0;for(const o of e){const t=o[0];t&&t<s&&(i+=Math.pow(s-t,2))}return i},distance(t){const e=this.timeMatrix,s=Math.pow(e.length,.5),i=t.blocks;let o=0;for(const n of i){const t=n.length-5;for(let i=0;i<t;i+=3)if(n[i+3]-n[i+1]>45){const t=n[i+2],r=n[i+5];-1!==t&&-1!==r&&(o+=e[t*s+r])}}return o},IamFeelingLucky(){return Math.random()}};var mt=ht;class pt{constructor(t,e,s){this.catalog=t,this.buildingList=e,this.options=s}getSchedules(t){const e=t.events.map(t=>t.toTimeArray());for(const r of this.options.timeSlots)e.push(r.toTimeArray());const s=[],i=t.All;for(const r in i){const t=[],o=this.catalog.getCourse(r,i[r]),n=this.options.combineSections?Object.values(o.getCombined()):o.sections.map(t=>[t]);t:for(const s of n){const i=s[0].getTimeRoom();if(!i)continue;for(const t of e)if(N(t,i,2,3))continue t;const o=[];for(const t of s)this.options.status.includes(t.status)||o.push(t.sid);o.length&&t.push([r,o,i])}if(0===t.length)return{level:"error",msg:`No sections of ${o.department} ${o.number} ${o.type} satisfy your filters and do not conflict with your events`};s.push(t)}s.sort((t,e)=>t.length-e.length);const o=new mt(this.options.sortOptions,window.timeMatrix,t.events);this.createSchedule(s,o),s.forEach(t=>t.forEach(t=>t.splice(2)));const n=o.size();return n>0?(o.sort(),{level:"success",msg:`${n} Schedules Generated!`,payload:o}):{level:"error",msg:"Given your filter, we cannot generate schedules without overlapping classes"}}createSchedule(t,e){let s=0,i=0,o=0;const n=t.length,r=new Int32Array(n),a=[],l=this.options.maxNumSchedules;t:while(1){if(s>=n){if(e.add(a.concat()),++o>=l)return;i=r[--s]}while(i>=t[s].length){if(--s<0)return;i=r[s],r.fill(0,s+1)}const c=t[s][i],d=c[2];for(let t=0;t<s;t++)if(N(a[t][2],d,3,3)){++i;continue t}a[s]=c,r[s++]=i+1,i=0}}}var ft=pt;function gt(t,e,s){return Math.min(Math.max(e,t),s)}function vt(t){return`${Math.floor(t/60).toString().padStart(2,"0")}:${(t%60).toString().padStart(2,"0")}`}class yt{constructor(){this.showTime=!1,this.showRoom=!0,this.showInstructor=!0,this.showClasslistTitle=!0,this.standard=!1,this.multiSelect=!0,this.combineSections=!0,this.expandOnEntering=!1,this.enableLog=!1,this.enableFuzzy=!1,this._fullHeight=40,this._partialHeight=25,this._maxNumSchedules=1e5,this._numSearchResults=6,this._earliest="08:00",this._latest="19:00"}get fullHeight(){return this._fullHeight}set fullHeight(t){this._fullHeight=gt(t,1,100)}get partialHeight(){return this._partialHeight}set partialHeight(t){this._partialHeight=gt(t,1,100)}get numSearchResults(){return this._numSearchResults}set numSearchResults(t){this._numSearchResults=gt(t,1,20)}get maxNumSchedules(){return this._maxNumSchedules}set maxNumSchedules(t){this._maxNumSchedules=gt(t,1e3,1e6)}get earliest(){return this._earliest}set earliest(t){this._earliest=vt(gt(T(t),0,719))}get latest(){return this._latest}set latest(t){this._latest=vt(gt(T(t),720,1439))}fromJSON(t){const e=this.getDefault();for(const s in e){const i=t[s],o=e[s];this[s]=typeof i===typeof o?i:o}}toJSON(){return this}getDefault(){return new yt}}const bt=new yt;var wt=bt;const Ct={sortBy:[{name:"distance",enabled:!0,reverse:!1,exclusive:["IamFeelingLucky"],title:"Walking Distance",description:"Avoid long distance walking between classes"},{name:"variance",enabled:!0,reverse:!1,exclusive:["IamFeelingLucky"],title:"Variance",description:"Balance the class time each day"},{name:"compactness",enabled:!1,reverse:!1,exclusive:["IamFeelingLucky"],title:"Vertical compactness",description:"Make classes back-to-back"},{name:"lunchTime",enabled:!1,reverse:!1,exclusive:["IamFeelingLucky"],title:"Lunch Time",description:"Leave spaces for lunch"},{name:"noEarly",enabled:!1,reverse:!1,exclusive:["IamFeelingLucky"],title:"No Early",description:"Start my day as late as possible"},{name:"IamFeelingLucky",enabled:!1,reverse:!1,exclusive:["variance","compactness","lunchTime","noEarly","distance"],title:"I'm Feeling Lucky",description:"Sort randomly"}],mode:ct.combined,toJSON(){return{sortBy:this.sortBy.map(t=>({name:t.name,enabled:t.enabled,reverse:t.reverse})),mode:this.mode}},fromJSON(t){if(t&&void 0!==t.mode&&t.sortBy){this.mode=t.mode;for(const e of t.sortBy)for(const t of this.sortBy)if(t.name===e.name){t.enabled=e.enabled,t.reverse=e.reverse;break}}return this}};function St(){const t=Object.assign({},Ct);return t.sortBy=t.sortBy.map(t=>Object.assign({},t)),t}window.scheduleEvaluator=new mt(St(),window.timeMatrix);class _t{constructor(){this.timeSlots=[],this.allowWaitlist=!0,this.allowClosed=!0,this.sortOptions=St(),this.sortModes=[{mode:ct.combined,title:"Combined",description:"Combine all sorting options enabled and given them equal weight"},{mode:ct.fallback,title:"Fallback",description:"Sort using the options on top first. If compare equal, sort using the next option. You can drag the sorting options to change their order."}]}computeFilter(){const t=[];if(!this.timeSlots.length)return{msg:"no filters",level:"success",payload:t};for(const e of this.timeSlots){let s="";for(let t=0;t<5;t++)e[t]&&(s+=b[t]);if(!s)continue;const i=e[5].split(":"),o=e[6].split(":");if(isNaN(+i[0])||isNaN(+i[1])||isNaN(+o[0])||isNaN(+o[1]))return{msg:"Invalid time input!",level:"error"};s+=" "+$(e[5])+" - "+$(e[6]),t.push(new q(s,!1))}return t.length?{msg:"success",level:"success",payload:t}:{msg:"You need to select at least one day!",level:"error"}}fromJSON(t){const e=this.getDefault();this.timeSlots=t.timeSlots instanceof Array?t.timeSlots:e.timeSlots,this.allowClosed="boolean"===typeof t.allowClosed?t.allowClosed:e.allowClosed,this.allowWaitlist="boolean"===typeof t.allowWaitlist?t.allowWaitlist:e.allowWaitlist,this.sortOptions=e.sortOptions.fromJSON(t.sortOptions)}toJSON(){const t=this,e=(t.sortModes,h["c"](t,["sortModes"]));return e}getDefault(){return new _t}}const xt=new _t;var kt=xt,Ot=s("c5e1"),Et=s.n(Ot);s("4ad5");class Tt{constructor(){this.section=null,this.course=null,this.url=""}showSectionModal(t){this.section=t,Et()("#section-modal").modal()}showCourseModal(t){this.course=t,Et()("#course-modal").modal()}showURLModal(t){this.url=t,Et()("#url-modal").modal()}}const It=new Tt;var Nt=It;class At{constructor(){this.savedColors={}}fromJSON(t){this.savedColors=t.savedColors||{}}getDefault(){return new At}toJSON(){return this}}const $t=new At;var Pt=$t;class Bt{constructor(){this.current=localStorage.getItem("currentProfile")||"",this.profiles=JSON.parse(localStorage.getItem("profiles")||"[]")}initProfiles(t){if(!t.length)return;const e=localStorage.getItem("currentProfile"),s=[];if(!e){for(const o of t.concat().reverse()){const t=localStorage.getItem(o.id);if(t){let e=null;try{e=JSON.parse(t)}catch(i){console.error(i)}e&&(e.name=o.name,localStorage.removeItem(o.id),localStorage.setItem(o.name,JSON.stringify(e)),s.push(o.name))}}const e=t[0].name;s.includes(e)||s.push(e),this.current=e,this.profiles=s}}renameProfile(t,e,s,i){e===this.current&&(this.current=s);const o=JSON.parse(i);o.name=s,localStorage.removeItem(e),localStorage.setItem(s,JSON.stringify(o)),this.profiles.splice(t,1,s)}deleteProfile(t,e){if(this.profiles.splice(e,1),t===this.current)return e===this.profiles.length?this.current=this.profiles[e-1]:this.current=this.profiles[e];localStorage.removeItem(t)}addProfile(t,e){const s=JSON.parse(t);let i=s.name||e;const o=this.profiles.findIndex(t=>t===i);if(-1!==o){if(!confirm(`A profile named ${i} already exists! Click confirm to overwrite, click cancel to keep both`)){let t=2;while(this.profiles.includes(`${i} (${t})`))t++;i=`${i} (${t})`,s.name=i,localStorage.setItem(i,JSON.stringify(s)),this.profiles.push(i)}}else this.profiles.push(i);s.name?localStorage.setItem(i,t):(s.name=i,localStorage.setItem(i,JSON.stringify(s))),this.current=i}}const Mt=new Bt;var jt=Mt;class Lt{constructor(){Object.assign(this,this.getDefault())}get proposedSchedule(){return this.proposedSchedules[this.proposedScheduleIndex]}switchProposed(t){t<this.proposedSchedules.length&&t>=0&&(this.proposedScheduleIndex=t,this.switchSchedule(!1),ne())}newProposed(){this.proposedSchedules.push(new ut),this.switchProposed(this.proposedSchedules.length-1),ne()}copyCurrent(){const t=this.proposedSchedules.length;this.proposedSchedules.push(this.proposedSchedule.copy()),this.switchProposed(t),ne()}deleteProposed(){if(1===this.proposedSchedules.length)return;const t=this.proposedScheduleIndex;confirm(`Are you sure to delete schedule ${t+1}?`)&&(t===this.cpIndex&&(window.scheduleEvaluator.clear(),this.numGenerated=0,this.cpIndex=-1),this.proposedSchedules.splice(t,1),t>=this.proposedSchedules.length?this.switchProposed(t-1):this.switchProposed(t),ne())}switchSchedule(t){t?this.cpIndex===this.proposedScheduleIndex&&this.numGenerated&&(this.generated=!0,this.switchPage(this.currentScheduleIndex)):(this.generated=!1,this.currentSchedule=this.proposedSchedule),ne()}switchPage(t){this.numGenerated<=0||(t<0?this.currentScheduleIndex=0:t>=this.numGenerated?this.currentScheduleIndex=this.numGenerated-1:this.currentScheduleIndex=t,this.currentSchedule=window.scheduleEvaluator.getSchedule(this.currentScheduleIndex),ne())}clear(){this.currentSchedule.clean(),this.proposedSchedule.clean(),this.generated=!1,this.cpIndex===this.proposedScheduleIndex&&(this.cpIndex=-1,window.scheduleEvaluator.clear(),this.numGenerated=0),ne()}clearCache(){confirm("Your selected classes and schedules will be cleaned. Are you sure?")&&(window.localStorage.clear(),window.location.reload(!0))}fromJSON(t){const e=this.getDefault(),s=t.proposedSchedules;s instanceof Array?this.proposedSchedules=s.map(t=>{const e=ut.fromJSON(t);return e||new ut}):this.proposedSchedules=e.proposedSchedules,this.currentScheduleIndex="number"===typeof t.currentScheduleIndex?t.currentScheduleIndex:e.currentScheduleIndex,this.proposedScheduleIndex="number"===typeof t.proposedScheduleIndex?t.proposedScheduleIndex:e.proposedScheduleIndex,this.cpIndex="number"===typeof t.cpIndex?t.cpIndex:e.cpIndex,this.generated="boolean"===typeof t.generated?t.generated:e.generated,this.numGenerated=0,ne()}toJSON(){const t=this,e=(t.numGenerated,t.currentSchedule,h["c"](t,["numGenerated","currentSchedule"]));return e}getDefault(){const t=new ut;return{currentScheduleIndex:0,currentSchedule:t,proposedSchedules:[t],proposedScheduleIndex:0,cpIndex:-1,generated:!1,numGenerated:0}}}const Dt=new Lt;var Ft=Dt,zt=s("9331");class Rt{constructor(t,e,s){this.semester=t,this.raw_data=e,this.modified=s,this.courseDict={};const i=[];for(const o in e)i.push(this.courseDict[o]=new G(e[o],o));this.courses=i}static fromJSON(t){return new Rt(t.semester,t.raw_data,t.modified)}initWorker(){if(!this.worker){const t=s("052b"),e=new t,i=new Promise(t=>{e.onmessage=e=>{t(e.data)}});return e.postMessage(this.courseDict),this.worker=e,i}return Promise.resolve("ready")}disposeWorker(){this.worker&&(this.worker.terminate(),delete this.worker)}fromJSON(t){return Rt.fromJSON(t)}toJSON(){return{semester:this.semester,raw_data:this.raw_data,modified:this.modified}}getCourse(t,e){const s=this.courseDict[t];return e&&-1!==e?s.getCourse([...e.values()]):s}getSection(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.courseDict[t].sections[e]}convertKey(t,e){const s=this.courseDict[t];if(s)return s.displayName;if(e){const s=e.events.find(e=>e.key===t);return s?""===s.title?t:s.title:t}}fuzzySearch(t){const e=this.worker;if(!e)return Promise.reject("Worker not initialized!");const s=new Promise((t,s)=>{e.onmessage=e=>{let s=e.data;t(s.map(t=>new G(...t)))},e.onerror=t=>s(t)});return e.postMessage(t),s}search(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;t=t.trim().toLowerCase().split(/ +/).join(" ");const s=t.split(" "),i=t.startsWith(":")&&s.length>1;let o,n="";i?(n=s[0].substring(1),o=s.slice(1).join(""),t=s.slice(1).join(" ")):o=s.join("");const r=[],a=this.courses,l=a.length;if(!i||"num"===n||"key"===n)for(let c=0;c<l;c++)if(this.searchKey(o,a[c],r),r.length>=e)return r;if(!i||"title"===n)for(let c=0;c<l;c++)if(this.searchField(t,"title",a[c],r),r.length>=e)return r;if(!i||"topic"===n)for(let c=0;c<l;c++)if(this.searchTopic(t,a[c],r),r.length>=e)return r;if(!i||"prof"===n)for(let c=0;c<l;c++)if(this.searchProf(t,a[c],r),r.length>=e)return r;if(!i||"desc"===n)for(let c=0;c<l;c++)if(this.searchField(t,"description",a[c],r),r.length>=e)return r;return r}searchKey(t,e,s){const i=e.key,o=i.indexOf(t);if(-1!==o){const n=e.department.length,r=o+t.length;s.push(new G(e.raw,i,[],[{match:"key",start:o+ +(o>=n),end:r+ +(r>n)}]))}}searchField(t,e,s,i){const o=s[e].toLowerCase(),n=s.key,r=o.indexOf(t);if(-1!==r){const o=i.findIndex(t=>t.key===n),a={match:e,start:r,end:r+t.length};-1!==o?i[o]=i[o].addMatch(a):i.push(new G(s.raw,n,[],[a]))}}searchTopic(t,e,s){const i=[],o=[],n=e.sections;for(let r=0;r<n.length;r++){const e=n[r].topic,s=e.toLowerCase().indexOf(t);-1!==s&&(i.push(r),o.push([{match:"topic",start:s,end:s+t.length}]))}i.length&&this.appendToResult(e,i,o,s)}searchProf(t,e,s){const i=[],o=[],n=e.sections;for(let r=0;r<n.length;r++){const e=n[r].instructors.join(", ").toLowerCase(),s=e.indexOf(t);-1!==s&&(i.push(r),o.push([{match:"instructors",start:s,end:s+t.length}]))}i.length&&this.appendToResult(e,i,o,s)}appendToResult(t,e,s,i){const o=i.findIndex(e=>e.key===t.key);-1!==o?i[o]=i[o].addSectionMatches(e,s):i.push(new G(t.raw,t.key,e,[],s))}}function Jt(t,e,s,i){let o=i.warnMsg,n=void 0===o?t=>t:o,r=i.errMsg,a=void 0===r?t=>t:r,l=i.succMsg,c=void 0===l?"Success":l,d=i.expireTime,u=void 0===d?1/0:d,m=i.timeoutTime,p=void 0===m?-1:m,f=i.parse,g=void 0===f?t=>t?JSON.parse(t):null:f,v=i.validator,y=void 0===v?Wt:v,b=i.force,w=void 0!==b&&b;return h["a"](this,void 0,void 0,function*(){const i=localStorage.getItem(t),o=g(i);if(y(o)){if(!((new Date).getTime()-new Date(o.modified).getTime()>u||w))return{payload:s(o),msg:c,level:"success"};try{return{payload:yield z(e(),p),msg:c,level:"success"}}catch(r){return{payload:s(o),msg:n(J(r)),level:"warn"}}}else try{return{payload:yield z(e(),p),msg:c,level:"success"}}catch(r){return{msg:a(J(r)),level:"error"}}})}function Wt(t){return!!t&&!!t.modified}function Ht(){return-1===window.location.host.indexOf("localhost")&&-1===window.location.host.indexOf("127.0.0.1")?`${window.location.protocol}//${window.location.host}`:"http://localhost:8000"}function Ut(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Jt(`${t.id}data`,()=>Gt(t),t=>Rt.fromJSON(t),{errMsg:e=>`Failed to fetch ${t.name} data: ${e}`,warnMsg:e=>`Failed to fetch ${t.name} data: ${e}. Old data is used`,succMsg:`Successfully loaded ${t.name} data!`,expireTime:k,timeoutTime:15e3,force:e})}function Vt(t){for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&t.endsWith("data")&&localStorage.removeItem(t)}localStorage.setItem(`${t.semester.id}data`,JSON.stringify(t.toJSON()))}function Gt(t){return h["a"](this,void 0,void 0,function*(){const e=yield"plannable.org"===window.location.host?o.a.post("https://rabi.phys.virginia.edu/mySIS/CS2/deliverData.php",Object(n["stringify"])({Semester:t.id,Group:"CS",Description:"Yes",submit:"Submit Data Request",Extended:"Yes"})):o.a.get(`${Ht()}/data/Semester%20Data/CS${t.id}Data.csv`),s=qt(e.data),i=new Rt(t,s,(new Date).toJSON());return Vt(i),i})}function qt(t){const e=S,s=_,i=Object(zt["parse"])(t,{skipEmptyLines:!0,header:!1}).data,o=Object.create(null);for(let n=1;n<i.length;n++){const t=i[n],r=e[t[4]],a=(t[1]+t[2]+r).toLowerCase(),l=[],c=new Set;for(let e=0;e<4;e++){const s=6+4*e;if(t[s]){if(c.has(t[s+1]))continue;c.add(t[s+1]);const e=[t[s],t[s+1],t[s+2],t[s+3]];l.push(e)}}l.sort((t,e)=>t[1]===e[1]?0:t[1]<e[1]?-1:1);const d=[parseInt(t[0]),t[3],t[23],s[t[24]],+t[25],+t[26],+t[27],l];o[a]?o[a][6].push(d):o[a]=[t[1],+t[2],r,t[5],t[22],t[28],[d]]}return o}function Yt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Jt("semesters",()=>Kt(t),t=>t.semesterList,{succMsg:"Semester list loaded",errMsg:t=>`Failed to fetch semester list: ${t}`,warnMsg:t=>`Failed to fetch semester list: ${t}. Old data is used`,expireTime:x,timeoutTime:1e4})}function Kt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return h["a"](this,void 0,void 0,function*(){const e=yield"plannable.org"===window.location.host?o.a.get("https://rabi.phys.virginia.edu/mySIS/CS2/index.php"):o.a.get(`${Ht()}/data/Semester Data/index.html`),s=document.createElement("html");s.innerHTML=e.data;const i=s.getElementsByTagName("option"),n=[];for(let o=0;o<Math.min(t,i.length);o++){const t=i[o],e=t.getAttribute("value");if(e){const s=e.substr(-4),i=t.innerHTML;n.push({id:s,name:i.split(" ").splice(0,2).join(" ")})}}return localStorage.setItem("semesters",JSON.stringify({modified:(new Date).toJSON(),semesterList:n})),n})}class Qt{constructor(){this.semesters=[],this.currentSemester=null,this.lastUpdate=""}loadSemesters(){return h["a"](this,void 0,void 0,function*(){const t=yield Yt(),e=t.payload;return this.semesters=e||[],t})}selectSemester(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return h["a"](this,void 0,void 0,function*(){const s=yield Ut(t,e);return s.payload?(window.catalog=s.payload,this.currentSemester=t,this.lastUpdate=new Date(window.catalog.modified).toLocaleString()):(this.currentSemester=null,this.lastUpdate=""),s})}}const Xt=new Qt;var Zt=Xt;class te{constructor(){this.sideBar={showSelectClass:window.screen.width/window.screen.height>1,showFuzzy:!1,showEvent:!1,showFilter:!1,showSetting:!1,showExport:!1,showSelectColor:!1,showInfo:!1,showExternal:!1,showLog:!1,showCompare:!1},this.loading=!1,this.eventToEdit=null,this.isMobile=window.screen.width<600}get sideBarActive(){for(const t in this.sideBar)if(this.sideBar[t])return!0;return!1}foldView(){this.isMobile&&this.foldAllSideBar()}switchSideBar(t){for(const e in this.sideBar)e!==t&&(this.sideBar[e]=!1);this.sideBar[t]=!this.sideBar[t]}foldAllSideBar(){for(const t in this.sideBar)this.sideBar[t]=!1}}const ee=new te;var se=ee;function ie(t){return!!t.currentSchedule&&!!t.proposedSchedule}function oe(t){return!!t.currentSchedule&&!!t.proposedSchedules}function ne(){const t=Zt.currentSemester;if(!t)return;const e=jt.current,s={name:e,modified:(new Date).toJSON(),currentSemester:t,display:wt,filter:kt,schedule:Ft.toJSON(),palette:Pt};localStorage.setItem(e,JSON.stringify(s))}const re=[];let ae=class extends f["c"]{constructor(){super(...arguments),this.filter=kt,this.display=wt,this.status=se,this.modal=Nt,this.schedule=Ft,this.semester=Zt,this.palette=Pt,this.noti=dt,this.profile=jt,this.compare=re}saveStatus(){ne()}loadProfile(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return h["a"](this,void 0,void 0,function*(){if(!this.semester.semesters.length)return void this.noti.error("No semester data! Please refresh this page");t||(t=this.profile.current),window.scheduleEvaluator.clear();let s={};const i=localStorage.getItem(t);if(i)try{s=JSON.parse(i)}catch(n){console.error(n)}const o=yield this.semester.selectSemester(s.currentSemester||this.semester.semesters[0],e);if(this.noti.notify(o),o.payload){if(ie(s)){const t=s||{},e=t;e.proposedScheduleIndex=0,e.proposedSchedules=[e.proposedSchedule],this.display.fromJSON(e),this.filter.fromJSON(e),this.schedule.fromJSON(e),this.palette.fromJSON(e.currentSchedule||{savedColors:{}})}else if(oe(s))this.display.fromJSON(s.display||{}),this.filter.fromJSON(s),this.schedule.fromJSON(s),this.palette.fromJSON(s.currentSchedule||{savedColors:{}});else{const t=s;this.display.fromJSON(t.display||{}),this.filter.fromJSON(t.filter||{}),this.schedule.fromJSON(t.schedule||{}),this.palette.fromJSON(t.palette||{})}this.schedule.generated?this.generateSchedules():this.schedule.switchSchedule(!1)}})}validateSortOptions(){return Object.values(this.filter.sortOptions.sortBy).some(t=>t.enabled)?!!(!Object.values(this.filter.sortOptions.sortBy).some(t=>"distance"===t.name&&t.enabled)||window.buildingList&&window.timeMatrix)||(this.noti.error('Building list fails to load. Please disable "walking distance"'),!1):(this.noti.error("You must have at least one sort option!"),!1)}getGeneratorOptions(){const t=[];this.filter.allowWaitlist||t.push("Wait List"),this.filter.allowClosed||t.push("Closed");const e=this.filter.computeFilter(),s=e.payload;return s?this.validateSortOptions()?{timeSlots:s,status:t,sortOptions:this.filter.sortOptions,combineSections:this.display.combineSections,maxNumSchedules:this.display.maxNumSchedules}:void 0:this.noti.notify(e)}generateSchedules(){if(this.status.foldView(),this.schedule.proposedSchedule.empty())return this.noti.warn("There are no classes in your schedule!");const t=this.getGeneratorOptions();if(!t)return;const e=new ft(window.catalog,window.buildingList,t),s=e.getSchedules(this.schedule.proposedSchedule);this.noti.notify(s,"info",3,!0);const i=s.payload;i?(window.scheduleEvaluator=i,this.schedule.numGenerated=i.size(),this.schedule.cpIndex=this.schedule.proposedScheduleIndex,this.schedule.switchSchedule(!0)):(window.scheduleEvaluator.clear(),this.schedule.switchSchedule(!1),this.schedule.cpIndex=-1,this.schedule.numGenerated=0)}selectSemester(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return h["a"](this,void 0,void 0,function*(){if(!this.semester.semesters.length)return void this.noti.error("No semester data! Please refresh this page");if(t||(t=this.semester.semesters[0]),e)return this.noti.info(`Updating ${t.name} data...`),void(yield this.loadProfile(this.profile.current,e));if(this.semester.currentSemester&&t.id===this.semester.currentSemester.id)return;this.status.loading=!0;const s=this.profile.profiles;let i={},o=-1/0;for(const e of s){const s=localStorage.getItem(e);if(s){const e=JSON.parse(s),n=e.currentSemester,r=e.modified;if(n&&n.id===t.id){if(r){const t=new Date(r).getTime();t>o&&(i=e,o=t)}else i.currentSemester||(i=e);break}}}if(i.currentSemester)this.profile.current=i.name;else{const e=t,o=e.name;if(s.includes(o)){if(!confirm(`You already have a profile named ${o}. However, it does not correspond to the ${o} semester. Click Ok to overwrite, click Cancel to keep both.`)){let t=2;while(s.includes(`${o} (${t})`))t++;s.push(`${o} (${t})`)}}else s.push(o);i.currentSemester=t,this.profile.current=i.name=o,localStorage.setItem(o,JSON.stringify(i))}yield this.loadProfile(),this.status.loading=!1})}};ae=h["b"]([f["a"]],ae);var le=ae;let ce=class extends le{loadingWatch(){this.status.loading?this.noti.empty()&&this.noti.info("Loading..."):"Loading..."===this.noti.msg&&this.noti.clear()}w0(){ut.options.multiSelect=this.display.multiSelect,this.schedule.currentSchedule.computeSchedule()}a(){ut.options.combineSections=this.display.combineSections,this.schedule.currentSchedule.computeSchedule()}b(){ut.savedColors=this.palette.savedColors,this.schedule.currentSchedule.computeSchedule()}c(){localStorage.setItem("currentProfile",this.profile.current)}d(){localStorage.setItem("profiles",JSON.stringify(this.profile.profiles))}w2(){this.saveStatus()}w3(){this.saveStatus()}w4(){this.saveStatus()}};h["b"]([Object(f["d"])("status.loading")],ce.prototype,"loadingWatch",null),h["b"]([Object(f["d"])("display.multiSelect")],ce.prototype,"w0",null),h["b"]([Object(f["d"])("display.combineSections")],ce.prototype,"a",null),h["b"]([Object(f["d"])("palette.savedColors",{deep:!0})],ce.prototype,"b",null),h["b"]([Object(f["d"])("profile.current")],ce.prototype,"c",null),h["b"]([Object(f["d"])("profile.profiles",{deep:!0})],ce.prototype,"d",null),h["b"]([Object(f["d"])("display",{deep:!0})],ce.prototype,"w2",null),h["b"]([Object(f["d"])("filter",{deep:!0})],ce.prototype,"w3",null),h["b"]([Object(f["d"])("palette",{deep:!0})],ce.prototype,"w4",null),ce=h["b"]([f["a"]],ce);var de=ce,ue=le;window.watchers=new de;var he={sideBarWidth:19,sideMargin:3,tabBarWidthMobile:10,tabBarWidth:3};let me=class extends ue{constructor(){super(...arguments),this.scrollable=!1}get scheduleWidth(){return this.status.sideBarActive?100-he.sideBarWidth-he.tabBarWidth-he.sideMargin:100-he.tabBarWidth-he.sideMargin}get scheduleLeft(){return this.status.sideBarActive?he.sideBarWidth+he.tabBarWidth+1:he.tabBarWidth}};me=h["b"]([f["a"]],me);var pe,fe,ge=me,ve=ge,ye=s("2877"),be=Object(ye["a"])(ve,g,v,!1,null,null,null),we=be.exports,Ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-info nav-btn mt-0",attrs:{id:"semester","data-toggle":"dropdown"}},[t.status.loading?s("span",{staticClass:"spinner-border spinner-border-sm"}):t._e(),t._v("\n            "+t._s(t.semester.currentSemester?t.semester.currentSemester.name:"Select Semester")+"\n            "),s("i",{staticClass:"fas fa-caret-down ml-4",staticStyle:{"font-size":"20px"}})]),t.semester.semesters.length?s("div",{staticClass:"dropdown-menu w-100"},t._l(t.semester.semesters,function(e){return s("a",{key:e.id,staticClass:"dropdown-item w-100",on:{click:function(s){return t.selectSemester(e)}}},[t._v(t._s(e.name)+"\n            ")])}),0):t._e()]),s("div",{staticClass:"input-group mt-2"},[s("input",{ref:"classSearch",staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Title/Number/Topic/Prof./Desc."},on:{input:function(e){return t.getClass(e.target.value)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeClassList()}}}),s("div",{staticClass:"input-group-append"},[s("span",{staticClass:"input-group-text px-2",class:{"click-icon":t.isEntering},on:{click:t.closeClassList}},[t.isEntering?s("i",{staticClass:"fas fa-times"}):s("i",{staticClass:"fas fa-search"})])])]),t.isEntering?s("div",{ref:"classList",staticClass:"card card-body p-1"},[s("ClassList",{ref:"enteringClassList",attrs:{courses:t.inputCourses,schedule:t.schedule.currentSchedule,"is-entering":t.isEntering,"show-classlist-title":t.display.showClasslistTitle,"expand-on-entering":t.display.expandOnEntering},on:{update_course:t.updateCourse,course_modal:function(e){return t.modal.showCourseModal(e)},close:function(e){return t.closeClassList()}}})],1):t._e(),s("div",[s("div",{staticClass:"mt-3"},[s("button",{staticClass:"btn btn-info nav-btn",attrs:{title:t.schedule.generated?"Click to edit your schedule":"Click to view generated schedules"},on:{click:function(e){return t.schedule.switchSchedule(!t.schedule.generated)}}},[t._v("\n                "+t._s(t.schedule.generated?"View Schedule: "+(t.schedule.currentScheduleIndex+1):"Edit Classes")+"\n                "),s("i",{staticClass:"fas fa-exchange-alt ml-4",staticStyle:{"font-size":"18px"}})])]),s("div",{staticClass:"mx-1"},[s("div",{staticClass:"mx-3"},[s("div",{staticClass:"row no-gutters align-items-center justify-content-between",staticStyle:{"font-size":"24px"}},[s("div",{staticClass:"col-auto"},[s("i",{staticClass:"fas fa-long-arrow-alt-left",class:t.schedule.proposedScheduleIndex>0?"click-icon":"icon-disabled",attrs:{title:"previous schedule"},on:{click:function(e){return t.schedule.switchProposed(t.schedule.proposedScheduleIndex-1)}}})]),s("div",{staticClass:"col-auto",staticStyle:{"font-size":"20px"},attrs:{title:"the index of the current schedule"}},[t._v("\n                        "+t._s(t.schedule.proposedScheduleIndex+1)+"\n                    ")]),s("div",{staticClass:"col-auto"},[s("i",{staticClass:"fas fa-long-arrow-alt-right",class:t.schedule.proposedScheduleIndex<t.schedule.proposedSchedules.length-1?"click-icon":"icon-disabled",attrs:{title:"next schedule"},on:{click:function(e){return t.schedule.switchProposed(t.schedule.proposedScheduleIndex+1)}}})]),s("div",{staticClass:"col-auto"},[s("i",{staticClass:"far fa-calendar-plus click-icon",attrs:{title:"new schedule"},on:{click:function(e){return t.schedule.newProposed()}}})]),s("div",{staticClass:"col-auto"},[s("i",{staticClass:"far fa-copy click-icon",attrs:{title:"copy the current schedule to a new schedule"},on:{click:function(e){return t.schedule.copyCurrent()}}})]),s("div",{staticClass:"col-auto"},[s("i",{staticClass:"far fa-calendar-times",class:t.schedule.proposedSchedules.length>1?"click-icon":"icon-disabled",attrs:{title:"delete current schedule"},on:{click:function(e){return t.schedule.deleteProposed()}}})])])]),s("ClassList",{ref:"selectedClassList",attrs:{courses:t.schedule.currentSchedule.currentCourses,schedule:t.schedule.currentSchedule,"show-any":!t.schedule.generated,"show-classlist-title":t.display.showClasslistTitle},on:{update_course:t.updateCourse,remove_course:t.removeCourse,course_modal:function(e){return t.modal.showCourseModal(e)}}}),s("div",{staticClass:"btn-group mt-3 w-100"},[s("button",{staticClass:"btn btn-outline-info",attrs:{type:"button"},on:{click:function(e){return t.generateSchedules()}}},[t._v("\n                    Generate\n                ")]),s("button",{staticClass:"btn btn-outline-info",attrs:{title:"Remove all classes from the current schedule"},on:{click:function(e){return t.schedule.clear()}}},[t._v("\n                    Clean\n                ")])]),s("div",{staticClass:"custom-control custom-checkbox mt-2 mx-2",attrs:{title:"render all selected sections (except for 'any section')"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.display.multiSelect,expression:"display.multiSelect"}],staticClass:"custom-control-input",attrs:{id:"multiSelect",type:"checkbox"},domProps:{checked:Array.isArray(t.display.multiSelect)?t._i(t.display.multiSelect,null)>-1:t.display.multiSelect},on:{change:function(e){var s=t.display.multiSelect,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);i.checked?r<0&&t.$set(t.display,"multiSelect",s.concat([n])):r>-1&&t.$set(t.display,"multiSelect",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.display,"multiSelect",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"multiSelect"}},[t._v("\n                    Show Multiple Sections\n                ")])])],1)]),s("div",{staticClass:"btn bg-info nav-btn mt-2"},[t._v("\n        Schedule Overview\n    ")]),s("ul",{staticClass:"list-group list-group-flush",staticStyle:{width:"99%"}},[s("li",{staticClass:"list-group-item"},[t._v("\n            Total Credits: "+t._s(t.schedule.currentSchedule.totalCredit)+"\n            "),t.schedule.currentSchedule.totalCredit>21?s("span",{staticClass:"ml-2",staticStyle:{"font-size":"1.2rem"},attrs:{title:"JUST DO IT"}},[t._v("\n                ðŸ˜®\n            ")]):t._e()]),s("li",{staticClass:"list-group-item pr-0"},[s("table",{staticStyle:{width:"100%","font-size":"14px"}},t._l(t.currentIds,function(e){return s("tr",{key:e[0]},[s("td",[t._v(t._s(e[0]))]),s("td",[t._v(t._s(e[1]))])])}),0)])])])},Se=[],_e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"class-list w-100"}},[s("div",{staticClass:"card-body p-0",attrs:{tabindex:"-1"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$emit("close")}}},t._l(t.courses,function(e){return s("div",{key:e.key,staticClass:"list-group list-group-flush w-100",on:{mouseenter:function(s){return t.schedule.hover(e.key)},mouseleave:function(s){return t.schedule.unhover(e.key)}}},[s("div",{staticClass:"list-group-item class-title py-1 px-0 w-100"},[s("div",{staticClass:"row flex-nowrap no-gutters justify-content-between"},[s("div",{staticClass:"col col-1 pl-1 align-self-center",on:{click:function(s){return t.collapse(e.key)}}},[s("i",{staticClass:"fas click-icon",class:t.expanded(e.key)?"fa-chevron-down":"fa-chevron-right"})]),s("div",{staticClass:"col-xs-auto mr-auto align-self-center my-0",staticStyle:{cursor:"pointer"},on:{click:function(s){return t.collapse(e.key)}}},[s("h6",{staticClass:"mb-1"},[s("span",{domProps:{innerHTML:t._s(t.highlightMatch(e.displayName,"key",e.matches))}}),t.emptyCourse(e)?s("span",{staticClass:"ml-1 text-warning",attrs:{title:"No sections are selected! Any Section will be selected implicitly"}},[s("i",{staticClass:"fas fa-exclamation-triangle"})]):t._e()]),t.showClasslistTitle||t.isEntering?s("p",{staticStyle:{"font-size":"0.85rem",margin:"0"},domProps:{innerHTML:t._s(t.highlightMatch(e.title,"title",e.matches))}}):t._e()]),s("div",{staticClass:"col align-self-center",class:{"text-center":t.showClasslistTitle,"text-right":!t.showClasslistTitle,"col-1":t.showClasslistTitle,"col-xs-auto":!t.showClasslistTitle}},[s("i",{staticClass:"fas fa-info-circle click-icon",class:{"pr-2":!t.showClasslistTitle},attrs:{title:"View class description"},on:{click:function(s){return t.$emit("course_modal",e)}}}),t.showClasslistTitle?s("br"):t._e(),t.isEntering?t._e():s("i",{staticClass:"fas fa-times click-icon",class:{"pr-1":!t.showClasslistTitle},attrs:{title:"Remove this class and all its sections from your schedule"},on:{click:function(s){return t.$emit("remove_course",e.key)}}})])])]),s("Expand",[t.expanded(e.key)?s("div",{staticClass:"trans",attrs:{id:e.key+"trans"}},t._l(e.sections,function(i,o){return s("div",{key:i.section,class:{show:t.isEntering&&t.expandOnEntering}},[t.showAny&&0===+o?s("a",{staticClass:"list-group-item list-group-item-action class-section",class:{active:-1===t.schedule.All[e.key]},staticStyle:{"font-size":"1rem",padding:"0.5rem 0 0.5rem 1rem"},attrs:{title:-1===t.schedule.All[e.key]?"click to unselect":"click to select"},on:{click:function(s){return t.select(e.key,-1)}}},[s("div",{staticClass:"row no-gutters justify-content-between"},[s("div",{staticClass:"col-md-auto"},[t._v("Any Section")]),s("div",{staticClass:"col col-sm-1 align-self-center"},[-1===t.schedule.All[e.key]?s("i",{staticClass:"far fa-check-square"}):s("i",{staticClass:"far fa-square"})])])]):t._e(),s("div",{staticClass:"list-group-item list-group-item-action container-fluid class-section",class:{active:t.isActive(e.key,i.sid)},attrs:{title:t.isActive(e.key,i.sid)?"click to unselect":"click to select"},on:{click:function(s){return t.select(e.key,i.sid)},mouseenter:function(e){return t.schedule.preview(i)},mouseleave:function(e){return t.schedule.removePreview()}}},[s("div",{staticClass:"row no-gutters justify-content-between"},[s("div",{staticClass:"col-md-auto"},[s("ul",{staticClass:"list-unstyled class-info",staticStyle:{"font-size":"0.75rem"}},[s("li",[t._v("\n                                            Section "+t._s(i.section)+"\n                                            "),s("span",{domProps:{innerHTML:t._s(t.highlightMatch(i.topic,"topic",i.matches))}})]),t._l(i.meetings,function(e){return[s("li",{key:e.days},[t._v("\n                                                "+t._s(e.days)+"\n                                            ")])]}),s("li",{domProps:{innerHTML:t._s(t.highlightMatch(i.instructors.join(", "),"instructors",i.matches))}})],2)]),s("div",{staticClass:"col col-sm-1 align-self-center"},[t.isActive(e.key,i.sid)?s("i",{staticClass:"far fa-check-square"}):s("i",{staticClass:"far fa-square"})])])])])}),0):t._e()])],1)}),0)])},xe=[],ke={name:"Expand",functional:!0,render(t,e){const s={props:{name:"expand"},on:{afterEnter(t){t.style.height="auto"},enter(t){const e=getComputedStyle(t),s=e.width;t.style.width=s,t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto";const i=getComputedStyle(t),o=i.height;t.style.removeProperty("width"),t.style.removeProperty("position"),t.style.removeProperty("visibility"),t.style.height=0,getComputedStyle(t).height,setTimeout(()=>{t.style.height=o})},leave(t){const e=getComputedStyle(t),s=e.height;t.style.height=s,getComputedStyle(t).height,setTimeout(()=>{t.style.height=0})}}};return t("transition",s,e.children)}},Oe=ke,Ee=(s("3110"),s("7a6d"),Object(ye["a"])(Oe,pe,fe,!1,null,"7660a25c",null)),Te=Ee.exports;let Ie=class extends f["c"]{constructor(){super(...arguments),this.collapsed={}}select(t,e){this.$emit("update_course",t,e,this.isEntering)}collapse(t){this.expanded(t)?this.$set(this.collapsed,t,!1):this.$set(this.collapsed,t,!0)}isActive(t,e){const s=this.schedule.All[t];return s instanceof Set&&s.has(e)}expanded(t){const e=this.collapsed[t];return void 0===e&&this.isEntering&&this.expandOnEntering||e}emptyCourse(t){const e=this.schedule.All[t.key];return e instanceof Set&&0===e.size}};h["b"]([Object(f["b"])(Array)],Ie.prototype,"courses",void 0),h["b"]([Object(f["b"])(ut)],Ie.prototype,"schedule",void 0),h["b"]([Object(f["b"])({default:!1,type:Boolean})],Ie.prototype,"isEntering",void 0),h["b"]([Object(f["b"])({default:!0,type:Boolean})],Ie.prototype,"showAny",void 0),h["b"]([Object(f["b"])({default:!1,type:Boolean})],Ie.prototype,"expandOnEntering",void 0),h["b"]([Object(f["b"])({default:!0,type:Boolean})],Ie.prototype,"showClasslistTitle",void 0),Ie=h["b"]([Object(f["a"])({components:{Expand:Te}})],Ie);var Ne=Ie,Ae=Ne,$e=(s("04a6"),Object(ye["a"])(Ae,_e,xe,!1,null,"e5b5941c",null)),Pe=$e.exports;let Be=class extends ue{constructor(){super(...arguments),this.isEntering=!1,this.inputCourses=null}get currentIds(){return Object.entries(this.schedule.currentSchedule.currentIds).sort((t,e)=>t[0]===e[0]?0:t[0]<e[0]?-1:1)}getClass(t){if(!t)return this.isEntering=!1,void(this.inputCourses=null);this.schedule.generated&&this.schedule.switchSchedule(!1),this.inputCourses=window.catalog.search(t,this.display.numSearchResults),this.isEntering=!0}closeClassList(){this.$refs.classSearch.value="",this.getClass("")}updateCourse(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.schedule.currentSchedule.update(t,e,s),this.schedule.generated&&this.noti.warn("You're editing the generated schedule!"),this.$refs.selectedClassList.$forceUpdate();const i=this.$refs.enteringClassList;i instanceof f["c"]&&i.$forceUpdate(),this.saveStatus()}removeCourse(t){this.schedule.generated&&this.noti.warn("You're editing the generated schedule!"),this.schedule.currentSchedule.remove(t),this.saveStatus()}};Be=h["b"]([Object(f["a"])({components:{ClassList:Pe}})],Be);var Me=Be,je=Me,Le=Object(ye["a"])(je,Ce,Se,!1,null,null,null),De=Le.exports,Fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"btn bg-info nav-btn"},[t._v("\n        Schedule Settings\n    ")]),s("form",{staticClass:"mx-2"},[s("div",{staticClass:"form-group row no-gutters mt-2 mb-0",attrs:{title:"Schedule grid earlier than this time won't be displayed if you don't have any class before that time"}},[s("label",{staticClass:"col-lg-6 col-form-label",attrs:{for:"schedule-start"}},[t._v("\n                Schedule Start\n            ")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.display.earliest,expression:"display.earliest"}],staticClass:"form-control form-control-sm",attrs:{id:"schedule-start",type:"time",min:"0:00",max:"12:00"},domProps:{value:t.display.earliest},on:{input:function(e){e.target.composing||t.$set(t.display,"earliest",e.target.value)}}})])]),s("div",{staticClass:"form-group row no-gutters mb-0",attrs:{title:"Schedule grid later than this time won't be displayed if you don't have any class before that time"}},[s("label",{staticClass:"col-lg-6 col-form-label",attrs:{for:"schedule-end"}},[t._v("Schedule End")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.display.latest,expression:"display.latest"}],staticClass:"form-control form-control-sm",attrs:{id:"schedule-end",type:"time",min:"12:00",max:"23:59"},domProps:{value:t.display.latest},on:{input:function(e){e.target.composing||t.$set(t.display,"latest",e.target.value)}}})])]),s("div",{staticClass:"form-group row no-gutters mb-0",attrs:{title:"Height of the cells containing classes on the schedule grid"}},[s("label",{staticClass:"col-lg-6 col-form-label",attrs:{for:"class-height"}},[t._v("Class Height")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.display.fullHeight,expression:"display.fullHeight",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"class-height",min:"1",step:"1",max:"100",type:"number"},domProps:{value:t.display.fullHeight},on:{input:function(e){e.target.composing||t.$set(t.display,"fullHeight",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),s("div",{staticClass:"form-group row no-gutters mb-0",attrs:{title:"height of an empty cell. You can specify a smaller value to compress empty space"}},[s("label",{staticClass:"col-lg-6 col-form-label",attrs:{for:"grid-height"}},[t._v("Grid Height")]),s("div",{staticClass:"col-lg-6"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.display.partialHeight,expression:"display.partialHeight",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"grid-height",min:"1",step:"1",max:"100",type:"number"},domProps:{value:t.display.partialHeight},on:{input:function(e){e.target.composing||t.$set(t.display,"partialHeight",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),s("div",{staticClass:"form-group row no-gutters mt-0 mb-1"},[t._m(0),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"custom-control custom-checkbox ml-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.display.showTime,expression:"display.showTime"}],staticClass:"custom-control-input",attrs:{id:"displayTime",type:"checkbox"},domProps:{checked:Array.isArray(t.display.showTime)?t._i(t.display.showTime,null)>-1:t.display.showTime},on:{change:function(e){var s=t.display.showTime,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);i.checked?r<0&&t.$set(t.display,"showTime",s.concat([n])):r>-1&&t.$set(t.display,"showTime",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.display,"showTime",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"displayTime"}})])])]),s("div",{staticClass:"form-group row no-gutters mt-0 mb-1"},[t._m(1),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"custom-control custom-checkbox ml-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.display.showRoom,expression:"display.showRoom"}],staticClass:"custom-control-input",attrs:{id:"displayRoom",type:"checkbox"},domProps:{checked:Array.isArray(t.display.showRoom)?t._i(t.display.showRoom,null)>-1:t.display.showRoom},on:{change:function(e){var s=t.display.showRoom,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);i.checked?r<0&&t.$set(t.display,"showRoom",s.concat([n])):r>-1&&t.$set(t.display,"showRoom",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.display,"showRoom",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"displayRoom"}})])])]),s("div",{staticClass:"form-group row no-gutters mt-0 mb-1"},[t._m(2),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"custom-control custom-checkbox ml-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.display.showInstructor,expression:"display.showInstructor"}],staticClass:"custom-control-input",attrs:{id:"displayInstructor",type:"checkbox"},domProps:{checked:Array.isArray(t.display.showInstructor)?t._i(t.display.showInstructor,null)>-1:t.display.showInstructor},on:{change:function(e){var s=t.display.showInstructor,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);i.checked?r<0&&t.$set(t.display,"showInstructor",s.concat([n])):r>-1&&t.$set(t.display,"showInstructor",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.display,"showInstructor",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"displayInstructor"}})])])]),s("div",{staticClass:"form-group row no-gutters mt-0 mb-2"},[t._m(3),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"custom-control custom-radio custom-control-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.display.standard,expression:"display.standard"}],staticClass:"custom-control-input",attrs:{id:"hr12",type:"radio"},domProps:{value:!0,checked:t._q(t.display.standard,!0)},on:{change:function(e){return t.$set(t.display,"standard",!0)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"hr12"}},[t._v("12")])]),s("div",{staticClass:"custom-control custom-radio custom-control-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.display.standard,expression:"display.standard"}],staticClass:"custom-control-input",attrs:{id:"hr24",type:"radio"},domProps:{value:!1,checked:t._q(t.display.standard,!1)},on:{change:function(e){return t.$set(t.display,"standard",!1)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"hr24"}},[t._v("24")])])])])]),s("div",{staticClass:"btn bg-info nav-btn"},[t._v("\n        Course Search\n    ")]),s("li",{staticClass:"list-group-item mb-0",staticStyle:{"border-bottom":"0"}},[s("label",{attrs:{for:"num-search-results"}},[t._v("\n            Max number of search results\n        ")]),s("div",{staticClass:"mr-5 mb-2"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.display.numSearchResults,expression:"display.numSearchResults",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"num-search-results",type:"number",min:"1",step:"1",max:"20"},domProps:{value:t.display.numSearchResults},on:{input:function(e){e.target.composing||t.$set(t.display,"numSearchResults",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.display.expandOnEntering,expression:"display.expandOnEntering"}],staticClass:"custom-control-input",attrs:{id:"exp-on-entering",type:"checkbox"},domProps:{checked:Array.isArray(t.display.expandOnEntering)?t._i(t.display.expandOnEntering,null)>-1:t.display.expandOnEntering},on:{change:function(e){var s=t.display.expandOnEntering,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);i.checked?r<0&&t.$set(t.display,"expandOnEntering",s.concat([n])):r>-1&&t.$set(t.display,"expandOnEntering",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.display,"expandOnEntering",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"exp-on-entering"}},[t._v("\n                Expand all when searching\n            ")])]),s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.display.showClasslistTitle,expression:"display.showClasslistTitle"}],staticClass:"custom-control-input",attrs:{id:"displayClasslistTitle",type:"checkbox"},domProps:{checked:Array.isArray(t.display.showClasslistTitle)?t._i(t.display.showClasslistTitle,null)>-1:t.display.showClasslistTitle},on:{change:function(e){var s=t.display.showClasslistTitle,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);i.checked?r<0&&t.$set(t.display,"showClasslistTitle",s.concat([n])):r>-1&&t.$set(t.display,"showClasslistTitle",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.display,"showClasslistTitle",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"displayClasslistTitle"}},[t._v("\n                Show description on class list\n            ")])])]),s("div",{staticClass:"btn bg-info nav-btn"},[t._v("\n        Advanced Features\n    ")]),s("ul",{staticClass:"list-group list-group-flush mx-1"},[s("li",{staticClass:"list-group-item pb-1 pt-0"},[s("div",{staticClass:"form-group my-1"},[s("label",{attrs:{for:"num-schedule"}},[t._v("Max number of schedules")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.display.maxNumSchedules,expression:"display.maxNumSchedules",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{id:"num-schedule",type:"number",min:"1000",step:"1",max:"1000000"},domProps:{value:t.display.maxNumSchedules},on:{input:function(e){e.target.composing||t.$set(t.display,"maxNumSchedules",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"custom-control custom-checkbox",attrs:{title:"Combine sections ocurring at the same time"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.display.combineSections,expression:"display.combineSections"}],staticClass:"custom-control-input",attrs:{id:"comb-sec",type:"checkbox"},domProps:{checked:Array.isArray(t.display.combineSections)?t._i(t.display.combineSections,null)>-1:t.display.combineSections},on:{change:function(e){var s=t.display.combineSections,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);i.checked?r<0&&t.$set(t.display,"combineSections",s.concat([n])):r>-1&&t.$set(t.display,"combineSections",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.display,"combineSections",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"comb-sec"}},[t._v("Combine Sections")])]),s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.display.enableLog,expression:"display.enableLog"}],staticClass:"custom-control-input",attrs:{id:"enable-log",type:"checkbox"},domProps:{checked:Array.isArray(t.display.enableLog)?t._i(t.display.enableLog,null)>-1:t.display.enableLog},on:{change:function(e){var s=t.display.enableLog,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);i.checked?r<0&&t.$set(t.display,"enableLog",s.concat([n])):r>-1&&t.$set(t.display,"enableLog",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.display,"enableLog",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"enable-log"}},[t._v("\n                    Enable Log History\n                ")])]),s("div",{staticClass:"custom-control custom-checkbox mb-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.display.enableFuzzy,expression:"display.enableFuzzy"}],staticClass:"custom-control-input",attrs:{id:"enable-fuzzy",type:"checkbox"},domProps:{checked:Array.isArray(t.display.enableFuzzy)?t._i(t.display.enableFuzzy,null)>-1:t.display.enableFuzzy},on:{change:function(e){var s=t.display.enableFuzzy,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);i.checked?r<0&&t.$set(t.display,"enableFuzzy",s.concat([n])):r>-1&&t.$set(t.display,"enableFuzzy",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.display,"enableFuzzy",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"enable-fuzzy"}},[t._v("\n                    Enable Fuzzy Search\n                ")])])]),s("li",{staticClass:"list-group-item"},[s("button",{staticClass:"btn btn-outline-info mb-1 w-100",on:{click:function(e){return t.loadProfile(t.profile.current,!0)}}},[t._v("\n                Update Semester Data\n            ")]),s("small",{staticClass:"text-center form-text text-muted"},[t._v("\n                Last update: "+t._s(t.semester.lastUpdate)+"\n            ")])]),s("li",{staticClass:"list-group-item"},[s("button",{staticClass:"btn btn-outline-danger w-100",on:{click:function(e){return t.schedule.clearCache()}}},[t._v("\n                Reset All and Clean\n            ")])])])])},ze=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-6"},[s("label",{staticClass:"m-0",attrs:{for:"displayTime"}},[t._v("Show Time")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-6"},[s("label",{staticClass:"m-0",attrs:{for:"displayRoom"}},[t._v("Show Room")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-6"},[s("label",{staticClass:"m-0",attrs:{for:"displayInstructor"}},[t._v("Show Instructor")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-6"},[s("label",{staticClass:"m-0",attrs:{for:"displayInstructor"}},[t._v("Time Options")])])}];let Re=class extends ue{};Re=h["b"]([f["a"]],Re);var Je=Re,We=Je,He=Object(ye["a"])(We,Fe,ze,!1,null,null,null),Ue=He.exports,Ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"btn bg-info nav-btn mt-0",attrs:{id:"semester"}},[t.currentSelectedEvent?s("div",[t._v("Edit Event")]):s("div",[t._v("Add Event")])]),s("form",{staticClass:"mt-2 mx-2"},[s("div",{staticClass:"form-group row no-gutters mb-1"},[s("label",{staticClass:"col-lg-5 col-form-label",attrs:{for:"event-title"}},[t._v("Title")]),s("div",{staticClass:"col-lg-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.eventTitle,expression:"eventTitle"}],staticClass:"form-control form-control-sm",attrs:{id:"event-title",type:"text"},domProps:{value:t.eventTitle},on:{input:function(e){e.target.composing||(t.eventTitle=e.target.value)}}})])]),s("div",{staticClass:"form-group row no-gutters mb-1"},[s("label",{staticClass:"col-lg-5 col-form-label",attrs:{for:"event-from"}},[t._v("Start")]),s("div",{staticClass:"col-lg-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.eventTimeFrom,expression:"eventTimeFrom"}],staticClass:"form-control form-control-sm",staticStyle:{"-webkit-appearance":"button"},attrs:{id:"event-from",type:"time"},domProps:{value:t.eventTimeFrom},on:{input:function(e){e.target.composing||(t.eventTimeFrom=e.target.value)}}})])]),s("div",{staticClass:"form-group row no-gutters mb-1"},[s("label",{staticClass:"col-lg-5 col-form-label",attrs:{for:"event-to"}},[t._v("End")]),s("div",{staticClass:"col-lg-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.eventTimeTo,expression:"eventTimeTo"}],staticClass:"form-control form-control-sm",staticStyle:{"-webkit-appearance":"button"},attrs:{id:"event-to",type:"time"},domProps:{value:t.eventTimeTo},on:{input:function(e){e.target.composing||(t.eventTimeTo=e.target.value)}}})])]),s("div",{staticClass:"btn-group btn-days mb-2",attrs:{role:"group"}},t._l(t.days,function(e,i){return s("button",{key:i,staticClass:"btn btn-outline-secondary",class:{active:t.eventWeek[i]},attrs:{type:"button"},on:{click:function(e){return t.updateDay(+i)}}},[t._v("\n                "+t._s(e)+"\n            ")])}),0),s("div",{staticClass:"form-group row no-gutters mb-1"},[s("label",{staticClass:"col-lg-5 col-form-label",attrs:{for:"event-loc"}},[t._v("Location")]),s("div",{staticClass:"col-lg-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.eventRoom,expression:"eventRoom"}],staticClass:"form-control form-control-sm",attrs:{id:"event-loc",type:"text"},domProps:{value:t.eventRoom},on:{input:function(e){e.target.composing||(t.eventRoom=e.target.value)}}})])])]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.eventDescription,expression:"eventDescription"}],staticClass:"my-2 mx-auto form-control",staticStyle:{width:"98%"},attrs:{placeholder:"Description"},domProps:{value:t.eventDescription},on:{input:function(e){e.target.composing||(t.eventDescription=e.target.value)}}}),t.currentSelectedEvent?s("div",{staticClass:"btn-group",staticStyle:{width:"100%"},attrs:{role:"group"}},[s("button",{staticClass:"btn btn-outline-info",attrs:{type:"button"},on:{click:function(e){return t.endEditEvent()}}},[t._v("\n            Update\n        ")]),s("button",{staticClass:"btn btn-outline-info",attrs:{type:"button"},on:{click:function(e){return t.cancelEvent()}}},[t._v("\n            Cancel\n        ")]),s("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteEvent()}}},[t._v("\n            Delete\n        ")])]):s("button",{staticClass:"btn btn-outline-secondary ml-1",staticStyle:{width:"98%"},on:{click:function(e){return t.addEvent()}}},[t._v("\n        Add\n    ")]),t._m(0),s("table",{staticClass:"table table-hover w-100",staticStyle:{"font-size":"14px"}},[s("thead",[s("th",{staticStyle:{width:"100%"}},[t._v("\n                Number of events:\n                "+t._s(t.schedule.currentSchedule.events.length)+"\n            ")]),s("th")]),s("tbody",t._l(t.schedule.currentSchedule.events,function(e){return s("tr",{key:e.key,class:{"table-primary":e===t.currentSelectedEvent},on:{click:function(s){return t.editEvent(e)}}},[s("td",[t._v(t._s(e.title))]),s("td",[s("i",{class:e===t.currentSelectedEvent?"far fa-check-square":"far fa-square",staticStyle:{"font-size":"20px"}})])])}),0)])])},Ge=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btn bg-info nav-btn mt-3",attrs:{id:"semester"}},[s("div",[t._v("Event List")])])}];let qe=class extends ue{constructor(){super(...arguments),this.eventWeek=[!1,!1,!1,!1,!1],this.eventTimeFrom="",this.eventTimeTo="",this.eventTitle="",this.eventRoom="",this.eventDescription="",this.currentSelectedEvent=null,this.toBeModifiedDays=""}get event(){return this.status.eventToEdit}get days(){return b}eventWatch(){this.event&&this.editEvent(this.event)}beforeDestroy(){this.status.eventToEdit=null}updateDay(t){this.$set(this.eventWeek,t,!this.eventWeek[t])}getEventDays(){let t=this.eventWeek.reduce((t,e,s)=>t+(e?this.days[s]:""),"");if(!t)return void this.noti.error("Please select at least one day");if(!this.eventTimeFrom||!this.eventTimeTo)return void this.noti.error("Please check your start/end time");const e=T(this.eventTimeFrom),s=T(this.eventTimeTo);if(!(e>=s))return t+=` ${$(this.eventTimeFrom)} - ${$(this.eventTimeTo)}`,t;this.noti.error("Start time must be earlier than end time")}addEvent(){this.status.foldView();try{const e=this.getEventDays();if(!e)return;this.schedule.proposedSchedule.addEvent(e,!0,this.eventTitle,this.eventRoom,this.eventDescription?this.eventDescription.split("\n").join("<br />"):""),this.cancelEvent(this.toBeModifiedDays!==e&&this.schedule.generated)}catch(t){this.noti.error(t.message)}}editEvent(t){this.currentSelectedEvent=t,this.eventTitle=t.title,this.eventRoom=t.room,this.eventDescription=t.description?t.description.split("<br />").join("\n"):"";const e=t.days.split(" "),s=Object(u["a"])(e,4),i=s[0],o=s[1],n=s[3];for(let r=0;r<this.days.length;r++)-1!==i.indexOf(this.days[r])?this.$set(this.eventWeek,r,!0):this.$set(this.eventWeek,r,!1);this.eventTimeFrom=P(o),this.eventTimeTo=P(n),this.toBeModifiedDays=t.days}endEditEvent(){this.schedule.proposedSchedule.deleteEvent(this.toBeModifiedDays),this.addEvent()}deleteEvent(){this.schedule.proposedSchedule.deleteEvent(this.toBeModifiedDays),this.cancelEvent(this.schedule.generated)}cancelEvent(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.status.foldView(),this.eventTitle="",this.eventRoom="",this.eventWeek.forEach((t,e,s)=>this.$set(s,e,!1)),this.eventTimeFrom="",this.eventTimeTo="",this.eventDescription="",this.currentSelectedEvent=null,this.status.eventToEdit=null,t?this.generateSchedules():this.schedule.currentSchedule.computeSchedule(),this.saveStatus()}};h["b"]([Object(f["d"])("event",{immediate:!0})],qe.prototype,"eventWatch",null),qe=h["b"]([f["a"]],qe);var Ye=qe,Ke=Ye,Qe=Object(ye["a"])(Ke,Ve,Ge,!1,null,null,null),Xe=Qe.exports,Ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"input-group mt-2"},[s("input",{ref:"classSearch",staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Title/Topic/Prof./Desc.",disabled:!t.workerLoaded},on:{input:function(e){e.target.value||t.getClass("")},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getClass(e.target.value)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeClassList()}}}),s("div",{staticClass:"input-group-append"},[t.loading?s("div",{staticClass:"spinner-border my-auto text-primary mx-1",staticStyle:{width:"1.4rem",height:"1.4rem"},attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])]):s("span",{staticClass:"input-group-text px-2 click-icon"},[s("i",{staticClass:"fas fa-search"})])])]),t.inputCourses.length?s("div",{ref:"classList",staticClass:"card card-body p-1"},[s("ClassList",{ref:"enteringClassList",attrs:{courses:t.inputCourses,schedule:t.schedule.currentSchedule,"is-entering":!0,"show-classlist-title":t.display.showClasslistTitle,"expand-on-entering":t.display.expandOnEntering},on:{update_course:t.updateCourse,course_modal:function(e){return t.modal.showCourseModal(e)},close:function(e){return t.closeClassList()}}})],1):s("div",{staticClass:"mx-3 my-4"},[t._v("\n        Fuzzy search (beta): Enter your search query and press ENTER to get results. Because\n        fuzzy search is slow, we cannot provide real-time results. Please do not search for\n        course number (e.g. 2102) here. It is not supported. This feature is memory intensive,\n        which will cause some browsers to crash. Before enabling this feature, please make sure\n        that your computer has at least 8GB RAM and you are using Chrome or FireFox.\n\n        "),t.workerLoaded?s("button",{staticClass:"btn btn-outline-info w-100 mt-2",attrs:{title:"Release worker and reclaim memory"},on:{click:function(e){return t.disposeWorker()}}},[t._v("\n            Release\n        ")]):s("button",{staticClass:"btn btn-outline-info w-100 mt-2",on:{click:function(e){return t.initWorker()}}},[t._v("\n            Enable\n        ")])])])},ts=[];let es=class extends ue{constructor(){super(...arguments),this.inputCourses=[],this.loading=!1,this.workerLoaded=!!window.catalog.worker}initWorker(){return h["a"](this,void 0,void 0,function*(){window.catalog.worker||(this.loading=!0,this.noti.info("Gathering data for fuzzy search..."),yield window.catalog.initWorker(),this.noti.success("Success!",2.5),this.loading=!1,this.workerLoaded=!0)})}disposeWorker(){window.catalog.disposeWorker(),this.workerLoaded=!1}getClass(t){return h["a"](this,void 0,void 0,function*(){if(t){this.loading=!0,this.schedule.generated&&this.schedule.switchSchedule(!1),window.catalog.initWorker();try{this.inputCourses=yield window.catalog.fuzzySearch(t)}catch(e){const t=e;this.noti.error(t.message),console.error(t)}finally{this.loading=!1}}else this.inputCourses=[]})}closeClassList(){this.$refs.classSearch.value="",this.getClass("")}updateCourse(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.schedule.currentSchedule.update(t,e,s);const i=this.$refs.enteringClassList;i instanceof f["c"]&&i.$forceUpdate(),this.saveStatus()}};es=h["b"]([Object(f["a"])({components:{ClassList:Pe}})],es);var ss=es,is=ss,os=Object(ye["a"])(is,Ze,ts,!1,null,null,null),ns=os.exports,rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"btn bg-info nav-btn"},[t._v("\n        Import Profile\n    ")]),s("ul",{staticClass:"list-group list-group-flush mx-1"},[s("li",{staticClass:"list-group-item px-1"},[s("div",{staticClass:"custom-file"},[s("input",{staticClass:"custom-file-input",staticStyle:{width:"100%"},attrs:{id:"customFile",type:"file",accept:"text/json"},on:{change:function(e){return t.onUploadJson(e)}}}),s("label",{staticClass:"custom-file-label",attrs:{for:"customFile"}},[t._v("Import From..")])]),s("small",{staticClass:"text-center form-text text-muted"},[t._v("\n                Import a .json file exported by our website\n            ")])])]),s("div",{staticClass:"btn bg-info nav-btn"},[t._v("\n        Export Profile\n    ")]),s("ul",{staticClass:"list-group list-group-flush mx-1"},[s("li",{staticClass:"list-group-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fileName,expression:"fileName"}],staticClass:"form-control",attrs:{placeholder:"filename",title:"file name",type:"text"},domProps:{value:t.fileName},on:{input:function(e){e.target.composing||(t.fileName=e.target.value)}}}),s("div",{staticClass:"btn-group w-100 mt-2",attrs:{role:"group","aria-label":"Basic example"}},[s("button",{staticClass:"btn btn-outline-dark px-0",on:{click:function(e){return t.saveToJson()}}},[t._v("\n                    Export JSON\n                ")]),s("button",{staticClass:"btn btn-outline-dark px-0",on:{click:function(e){return t.saveToIcal()}}},[t._v("\n                    Export iCal\n                ")])]),s("small",{staticClass:"text-center form-text text-muted"},[t._v("\n                JSON: Can be imported later\n            ")]),s("small",{staticClass:"form-text text-muted text-center"},[t._v("\n                iCal: Supported by most calendar apps\n            ")])]),s("li",{staticClass:"list-group-item"},[s("div",{staticClass:"btn-group w-100",attrs:{role:"group","aria-label":"Basic example"}},[s("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){return t.exportToURL()}}},[t._v("\n                    Export URL\n                ")]),s("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){return t.print()}}},[t._v("\n                    Print\n                ")])]),s("small",{staticClass:"text-center form-text text-muted"},[t._v("\n                URL can be shared easily\n            ")]),s("small",{staticClass:"form-text text-muted text-center"},[t._v("\n                Print your currently rendered schedule\n            ")])])]),s("div",{staticClass:"btn bg-info nav-btn mt-2"},[t._v("\n        Profile Management\n    ")]),s("ul",{staticClass:"list-group list-group-flush mx-auto",staticStyle:{"font-size":"14px",width:"99%"}},t._l(t.profile.profiles,function(e,i){return s("li",{key:e,staticClass:"list-group-item list-group-item-action pl-3 pr-2",class:{sel:e===t.profile.current}},[s("div",{staticClass:"form-row no-gutters justify-content-between"},[s("div",{staticClass:"col-sm-auto mr-auto",staticStyle:{cursor:"pointer"},on:{click:function(s){return t.selectProfile(e)}}},[null===t.newName[i]?s("span",{on:{dblclick:function(s){return t.$set(t.newName,i,e)}}},[s("span",[t._v(t._s(e))]),s("br"),t._l(t.getMeta(e),function(e){return s("small",{key:e,staticClass:"text-muted"},[t._v(t._s(e)+" "),s("br")])})],2):s("input",{directives:[{name:"model",rawName:"v-model",value:t.newName[i],expression:"newName[idx]"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.newName[i]},on:{keyup:[function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.finishEdit(e,i)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$set(t.newName,i,null)}],input:function(e){e.target.composing||t.$set(t.newName,i,e.target.value)}}})]),s("div",{staticClass:"col-sm-auto text-right",staticStyle:{"font-size":"16px"}},[s("i",{staticClass:"click-icon mr-2",class:e===t.profile.current?"far fa-check-square":"far fa-square",attrs:{title:"select this profile"},on:{click:function(s){return t.selectProfile(e)}}}),null===t.newName[i]?s("i",{staticClass:"fas fa-edit click-icon",attrs:{title:"rename this profile"},on:{click:function(s){return t.$set(t.newName,i,e)}}}):s("i",{staticClass:"fas fa-check ml-1 click-icon",attrs:{title:"confirm renaming"},on:{click:function(s){return t.finishEdit(e,i)}}}),t.profile.profiles.length>1?s("i",{staticClass:"fa fa-times ml-1 click-icon",attrs:{title:"delete this profile"},on:{click:function(s){return t.deleteProfile(e,i)}}}):t._e()])])])}),0)])},as=[];let ls=class extends ue{constructor(){super(...arguments),this.fileName="schedule",this.newName=[]}created(){this.newName=this.profile.profiles.map(()=>null)}getMeta(t){const e=localStorage.getItem(t);if(e){let t=null;try{t=JSON.parse(e)}catch(s){console.error(s)}if(t){const e=[];return t.modified&&e.push(new Date(t.modified).toLocaleString()),t.currentSemester&&e.push(t.currentSemester.name),e}}return["Data corruption"]}onUploadJson(t){const e=t.target,s=e.files;if(!s)return;const i=new FileReader;i.onload=()=>h["a"](this,void 0,void 0,function*(){if(i.result){const e=this.profile.profiles,o=e.length;try{this.profile.addProfile(i.result.toString(),s[0].name),o!==e.length&&this.newName.push(null)}catch(t){console.error(t),this.noti.error(t.message+": Parsing error")}yield this.loadProfile()}else this.noti.warn("File is empty!");e.value=""});try{i.readAsText(s[0])}catch(o){console.error(o),this.noti.error(o.message)}}saveToJson(){if(!this.semester.currentSemester)return;const t=localStorage.getItem(this.profile.current);t&&R(t,(this.fileName||"schedule")+".json")}saveToIcal(){R(Y(this.schedule.currentSchedule),(this.fileName||"schedule")+".ical")}exportToURL(){if(!this.semester.currentSemester)return;const t=localStorage.getItem(this.profile.current);if(t){const e=new URL(window.location.href);e.searchParams.set("config",p.a.compressToEncodedURIComponent(t)),this.modal.showURLModal(e.href)}}deleteProfile(t,e){if(confirm(`Are you sure to delete ${t}?`)){this.newName.splice(e,1);const s=this.profile.deleteProfile(t,e);s&&this.loadProfile()}}selectProfile(t){if(t===this.profile.current)return;const e=localStorage.getItem(t);e&&(this.profile.current=t,this.loadProfile())}finishEdit(t,e){const s=localStorage.getItem(t);if(!s)return;const i=this.newName[e];if(!i)return this.$set(this.newName,e,null);if(i!==t){const o=this.profile.profiles.findIndex(t=>t===i);if(-1!==o)return this.noti.error("Duplicated name!");this.profile.renameProfile(e,t,i,s)}this.$set(this.newName,e,null)}print(){window.print()}w(){this.fileName=this.profile.current}};h["b"]([Object(f["d"])("profile.current",{immediate:!0})],ls.prototype,"w",null),ls=h["b"]([f["a"]],ls);var cs=ls,ds=cs,us=(s("d3be"),Object(ye["a"])(ds,rs,as,!1,null,"68a30118",null)),hs=us.exports,ms=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ps=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{attrs:{id:"external-bar"}},[i("h2",{staticClass:"my-4"},[t._v("This page is intentionally left blank")]),i("div",{staticClass:"w-100"},[i("img",{staticClass:"w-75",attrs:{src:s("90ab"),alt:""}})])])}],fs=l.a.extend({}),gs=fs,vs=(s("7e5e"),Object(ye["a"])(gs,ms,ps,!1,null,"823ab73c",null)),ys=vs.exports,bs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"btn bg-info nav-btn"},[t._v("\n        Filters\n    ")]),s("ul",{staticClass:"list-group list-group-flush mx-1"},[s("li",{staticClass:"list-group-item px-3",attrs:{title:"Time periods when you don't want to have class"}},[t._v("\n            No Class Time\n            "),s("div",{staticClass:"click-icon px-4",staticStyle:{float:"right"},attrs:{title:"Click to add a time period when you don't want to have class"},on:{click:function(e){return t.addTimeSlot()}}},[s("i",{staticClass:"fas fa-plus"})])]),t._l(t.filter.timeSlots,function(e,i){return s("li",{key:i,staticClass:"list-group-item p-1"},[s("div",{staticClass:"btn-group btn-days my-2",attrs:{role:"group"}},t._l(t.days,function(o,n){return s("button",{key:n,class:"btn btn-outline-secondary"+(e[n]?" active":""),attrs:{type:"button"},on:{click:function(e){return t.updateFilterDay(i,+n)}}},[t._v("\n                    "+t._s(o)+"\n                ")])}),0),s("div",{staticClass:"form-group row no-gutters align-items-center text-center mb-2"},[s("div",{staticClass:"col col-5 align-self-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e[5],expression:"value[5]"}],staticClass:"form-control form-control-sm",attrs:{type:"time"},domProps:{value:e[5]},on:{input:function(s){s.target.composing||t.$set(e,5,s.target.value)}}})]),s("div",{staticClass:"col col-1 align-self-center"},[t._v("-")]),s("div",{staticClass:"col col-5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e[6],expression:"value[6]"}],staticClass:"form-control form-control-sm",attrs:{type:"time"},domProps:{value:e[6]},on:{input:function(s){s.target.composing||t.$set(e,6,s.target.value)}}})]),s("div",{staticClass:"col col-1 align-self-center"},[s("i",{staticClass:"fas fa-times click-icon",staticStyle:{"font-size":"1.25rem"},on:{click:function(e){return t.removeTimeSlot(i)}}})])])])}),s("li",{staticClass:"list-group-item"},[s("div",{staticClass:"custom-control custom-checkbox my-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.allowWaitlist,expression:"filter.allowWaitlist"}],staticClass:"custom-control-input",attrs:{id:"awt",type:"checkbox"},domProps:{checked:Array.isArray(t.filter.allowWaitlist)?t._i(t.filter.allowWaitlist,null)>-1:t.filter.allowWaitlist},on:{change:function(e){var s=t.filter.allowWaitlist,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);i.checked?r<0&&t.$set(t.filter,"allowWaitlist",s.concat([n])):r>-1&&t.$set(t.filter,"allowWaitlist",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.filter,"allowWaitlist",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"awt"}},[t._v("Allow Wait List")])]),s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.allowClosed,expression:"filter.allowClosed"}],staticClass:"custom-control-input",attrs:{id:"ac",type:"checkbox"},domProps:{checked:Array.isArray(t.filter.allowClosed)?t._i(t.filter.allowClosed,null)>-1:t.filter.allowClosed},on:{change:function(e){var s=t.filter.allowClosed,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);i.checked?r<0&&t.$set(t.filter,"allowClosed",s.concat([n])):r>-1&&t.$set(t.filter,"allowClosed",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.filter,"allowClosed",o)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"ac"}},[t._v("Allow Closed")])])]),s("li",{staticClass:"list-group-item"},[s("button",{staticClass:"btn btn-outline-info w-100",attrs:{type:"button"},on:{click:function(e){return t.generateSchedules()}}},[t._v("\n                Apply\n            ")])]),s("div",{staticClass:"btn bg-info nav-btn"},[t._v("\n            Sort Priority\n        ")]),s("li",{staticClass:"list-group-item px-3",attrs:{title:"Note that you can drag sort options to change their priority in fallback mode"}},[t._v("\n            Sort According to\n        ")]),s("draggable",{attrs:{handle:".drag-handle"},on:{end:function(e){return t.dragEnd()}},model:{value:t.filter.sortOptions.sortBy,callback:function(e){t.$set(t.filter.sortOptions,"sortBy",e)},expression:"filter.sortOptions.sortBy"}},t._l(t.filter.sortOptions.sortBy,function(e,i){return s("div",{key:e.name,staticClass:"list-group-item py-1 pl-3 pr-0"},[s("div",{staticClass:"row no-gutters w-100"},[s("div",{staticClass:"col col-sm-9 pr-1 drag-handle",attrs:{title:e.description}},[s("span",{staticClass:"sort-option"},[t._v(" "+t._s(e.title))])]),s("div",{staticClass:"col col-sm-3"},[s("i",{staticClass:"fas mr-2 click-icon",class:e.reverse?"fa-arrow-down":"fa-arrow-up",attrs:{title:"Click to reverse sorting"},on:{click:function(s){e.reverse=!e.reverse,t.changeSorting(+i)}}}),s("div",{staticClass:"custom-control custom-checkbox sort-option",staticStyle:{display:"inline-block"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.enabled,expression:"option.enabled"}],staticClass:"custom-control-input",attrs:{id:e.name,type:"checkbox"},domProps:{value:e.name,checked:Array.isArray(e.enabled)?t._i(e.enabled,e.name)>-1:e.enabled},on:{change:[function(s){var i=e.enabled,o=s.target,n=!!o.checked;if(Array.isArray(i)){var r=e.name,a=t._i(i,r);o.checked?a<0&&t.$set(e,"enabled",i.concat([r])):a>-1&&t.$set(e,"enabled",i.slice(0,a).concat(i.slice(a+1)))}else t.$set(e,"enabled",n)},function(e){return t.changeSorting(+i)}]}}),s("label",{staticClass:"custom-control-label",attrs:{for:e.name,title:"Enable this sorting option"}})])])])])}),0),s("li",{staticClass:"list-group-item"},[t._l(t.filter.sortModes,function(e){return[s("div",{key:"sm"+e.mode,staticClass:"custom-control custom-radio"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.filter.sortOptions.mode,expression:"filter.sortOptions.mode",modifiers:{number:!0}}],staticClass:"custom-control-input",attrs:{id:"sm"+e.mode,type:"radio"},domProps:{value:e.mode,checked:t._q(t.filter.sortOptions.mode,t._n(e.mode))},on:{change:[function(s){t.$set(t.filter.sortOptions,"mode",t._n(e.mode))},function(e){return t.changeSorting(void 0)}]}}),s("label",{staticClass:"custom-control-label",attrs:{for:"sm"+e.mode,title:e.description}},[t._v(t._s(e.title)+"\n                    ")])])]})],2)],2)])},ws=[],Cs=s("289a"),Ss=s.n(Cs);let _s=class extends ue{get days(){return b}dragEnd(){0===this.filter.sortOptions.mode&&this.changeSorting(void 0)}updateFilterDay(t,e){this.$set(this.filter.timeSlots[t],e,!this.filter.timeSlots[t][e])}addTimeSlot(){this.filter.timeSlots.push([!1,!1,!1,!1,!1,"",""])}removeTimeSlot(t){this.filter.timeSlots.splice(t,1)}changeSorting(t){if(this.validateSortOptions()){if(void 0!==t){const e=this.filter.sortOptions.sortBy[t];if(e.enabled)for(const t of e.exclusive)for(const e of this.filter.sortOptions.sortBy)e.name===t&&(e.enabled=!1)}window.scheduleEvaluator.empty()||(window.scheduleEvaluator.sort({newOptions:this.filter.sortOptions}),this.schedule.generated?this.schedule.currentSchedule=window.scheduleEvaluator.getSchedule(this.schedule.currentScheduleIndex):this.schedule.switchSchedule(!0))}}};_s=h["b"]([Object(f["a"])({components:{draggable:Ss.a}})],_s);var xs=_s,ks=xs,Os=Object(ye["a"])(ks,bs,ws,!1,null,null,null),Es=Os.exports,Ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"btn bg-info nav-btn"},[t._v("\n        Palette\n    ")]),s("ul",{staticClass:"list-group list-group-flush mx-1"},[t.numColors()?t._l(t.courseColors(),function(e,i){return s("li",{key:i,staticClass:"list-group-item py-1 px-2"},[s("div",{staticClass:"row no-gutters justify-content-between w-100 my-1"},[s("div",{staticClass:"col-sm-auto mr-auto",staticStyle:{"font-size":"14px"}},[t._v("\n                        "+t._s(t.convertKey(e[0]))+"\n                    ")]),s("div",{staticClass:"col-sm-auto align-self-center"},[s("i",{staticClass:"fas fa-times click-icon mr-2",staticStyle:{"font-size":"1.1rem"},attrs:{title:"reset to default"},on:{click:function(s){return t.$delete(t.palette.savedColors,e[0])}}}),s("i",{staticClass:"fas fa-sync-alt click-icon mr-1",attrs:{title:"get a random color"},on:{click:function(s){return t.randColor(e[0])}}}),s("input",{staticStyle:{width:"30px"},attrs:{type:"color"},domProps:{value:e[1]},on:{change:function(s){return t.set(e[0],s.target.value)}}})])])])}):s("li",{staticClass:"list-group-item"},[t._v("\n            You can only customize colors of things displayed in your schedule. Please select\n            your classes and generate your schedules, then come back to change the color for\n            them.\n        ")])],2)])},Is=[],Ns=s("fd9b"),As=s.n(Ns);let $s=class extends ue{set(t,e){this.$set(this.palette.savedColors,t,e)}randColor(t){this.$set(this.palette.savedColors,t,As()({luminosity:"dark"}))}colorEntries(){return Object.entries(this.palette.savedColors).filter(t=>this.schedule.currentSchedule.has(t[0],!0))}numColors(){return this.colorEntries().length+this.schedule.currentSchedule.colorSlots.reduce((t,e)=>e.size+t,0)}courseColors(){return this.colorEntries().concat(this.schedule.currentSchedule.colorSlots.reduce((t,e,s)=>t.concat([...e].filter(t=>this.schedule.currentSchedule.has(t,!0)&&!(t in this.palette.savedColors)).map(t=>[t,ut.bgColors[s]])),[])).sort((t,e)=>t[0]===e[0]?0:t[0]<e[0]?-1:1)}convertKey(t){return window.catalog.convertKey(t,this.schedule.currentSchedule)}};$s=h["b"]([f["a"]],$s);var Ps=$s,Bs=Ps,Ms=Object(ye["a"])(Bs,Ts,Is,!1,null,null,null),js=Ms.exports,Ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"btn bg-info nav-btn"},[t._v("\n        Log History\n    ")]),s("ul",{staticClass:"list-group list-group-flush mx-1"},t._l(t.noti.history,function(e,i){return s("li",{key:i,staticClass:"list-group-item pt-1 pb-2 px-2 my-0"},[s("span",{class:"text-"+e.cls},[t._v(t._s(e.msg))]),s("br"),s("small",{staticClass:"text-muted"},[s("span",{staticClass:"px-2 py-1",class:"bg-"+e.cls,staticStyle:{color:"white"}},[t._v(t._s("danger"===e.cls?"error":e.cls))]),t._v("\n                "+t._s(e.stamp)+"\n            ")])])}),0)])},Ds=[];let Fs=class extends ue{};Fs=h["b"]([f["a"]],Fs);var zs=Fs,Rs=zs,Js=Object(ye["a"])(Rs,Ls,Ds,!1,null,null,null),Ws=Js.exports,Hs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"bg-light sidebar"},[s("div",{staticClass:"btn bg-info nav-btn"},[t._v("\n            Compare Schedules\n        ")]),s("ul",{staticClass:"list-group list-group-flush mx-1"},[0===t.number?s("li",{staticClass:"list-group-item"},[t._v('\n                You haven\'t selected any schedule to compare yet. Select one by clicking the\n                "Compare" button at the top of the page when you have generated some schedules.\n                You can also compare generated schedules across different profiles.\n            ')]):t._e(),t._l(t.compare,function(e,i){return s("li",{key:e,staticClass:"list-group-item px-1",attrs:{title:t.getTitle(i)}},[s("div",{staticClass:"row no-gutters justify-content-between"},[s("div",{staticClass:"col-sm-auto mr-auto"},[t._v("\n                        Schedule "+t._s(e.index+1)),s("br"),s("small",{staticClass:"text-muted"},[t._v('Profile "'+t._s(e.profileName)+'"')]),s("br")]),s("div",{staticClass:"col-sm-auto text-right align-self-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.color,expression:"cur.color"}],staticClass:"mr-1",staticStyle:{width:"25px"},attrs:{type:"color"},domProps:{value:e.color},on:{change:function(e){return t.renderSchedule()},input:function(s){s.target.composing||t.$set(e,"color",s.target.value)}}}),s("i",{staticClass:"fas fa-sync-alt click-icon",attrs:{title:"get a random color"},on:{click:function(e){return t.randColor(i)}}}),s("i",{staticClass:"fa fa-times ml-2 click-icon",staticStyle:{"font-size":"16px"},attrs:{title:"delete this schedule"},on:{click:function(e){return t.deleteCompare(i)}}})])])])})],2)]),s("main-content",[s("grid-schedule",{attrs:{"current-schedule":t.compareSchedule}})],1)],1)},Us=[],Vs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticStyle:{width:"100%"}},[s("tr",[s("td",{staticStyle:{width:"3.5%"}},[s("div",{staticClass:"grid-container time mb-3",style:{"grid-template-columns":"auto",width:"100%",height:t.mainHeight,"grid-template-rows":t.heightInfo.reduce(function(t,e){return t+(e+"px ")},"35px ")}},[s("div"),t._l(t.hours,function(e){return s("div",{key:e},[t._v(t._s(e))])})],2)]),s("td",[s("div",{staticClass:"grid-container main mb-3",style:{"grid-template-columns":"20% 20% 20% 20% 20%",position:"relative","grid-template-rows":t.heightInfo.reduce(function(t,e){return t+(e+"px ")},"48px "),height:t.mainHeight},attrs:{id:"grid"}},[t.status.isMobile?t._l(t.days,function(e){return s("div",{key:e,staticClass:"placeholder day"},[t._v(t._s(e))])}):t._l(t.daysFull,function(e){return s("div",{key:e,staticClass:"placeholder day"},[t._v("\n                        "+t._s(e)+"\n                    ")])}),t._l(t.items,function(t){return s("div",{key:t,staticClass:"placeholder",staticStyle:{"z-index":"1"}})}),t._l(t.days,function(e,i){return t._l(t.currentSchedule.days[+i],function(o,n){return s("course-block",{key:e+n,style:{left:20*(+i+o.left)+"%",width:20*o.width+"%"},attrs:{"schedule-block":o,"height-info":t.heightInfo,"absolute-earliest":t.absoluteEarliest,day:e}})})})],2)])])])},Gs=[],qs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"courseBlock",class:{"block-strong":t.scheduleBlock.strong},style:{"margin-top":t.startPx+"px",height:t.endPx-t.startPx+"px","background-color":t.scheduleBlock.backgroundColor},on:{click:t.showModal}},[t.status.isMobile?s("div",{staticClass:"mt-2 ml-2",staticStyle:{color:"white","font-size":"10px"}},[t.isSection?s("div",[t._v("\n            "+t._s(t.firstSec.department)+" "),s("br"),t._v("\n            "+t._s(t.firstSec.number)+" "),s("br"),t._v("\n            "+t._s(t.firstSec.section)+"\n        ")]):t._e(),t.isCourse?s("div",[t._v("\n            "+t._s(t.firstSec.department)+" "),s("br"),t._v("\n            "+t._s(t.firstSec.number)+" "),s("br"),t._v("\n            "+t._s(t.firstSec.section)+" +"+t._s(t.scheduleBlock.section.length-1)+"\n        ")]):t._e(),t.isEvent?s("div",[t._v("\n            "+t._s(t.scheduleBlock.section.days)+"\n        ")]):t._e()]):s("div",[t.isSection?s("div",[s("div",{staticClass:"mt-2 ml-2",staticStyle:{color:"white","font-size":"13px"}},[t._v("\n                "+t._s(t.firstSec.displayName)+"\n            ")]),t.display.showInstructor?s("div",{staticClass:"ml-2 crs-info"},[t._v("\n                "+t._s(t.firstSec.instructors.join(", "))+"\n            ")]):t._e(),t.display.showRoom&&t.room?s("div",{staticClass:"ml-2 crs-info"},[t._v("\n                "+t._s(t.room)+"\n            ")]):t._e(),t.display.showTime?t._l(t.firstSec.meetings,function(e){return s("div",{key:e.days,staticClass:"ml-2 crs-info"},[t._v("\n                    "+t._s(e.days)+"\n                ")])}):t._e()],2):t._e(),t.isCourse?s("div",[s("div",{staticClass:"mt-2 ml-2",staticStyle:{color:"white","font-size":"13px"}},[t._v("\n                "+t._s(t.firstSec.department)+"\n                "+t._s(t.firstSec.number)+"-"+t._s(t.firstSec.section)+" +"+t._s(t.scheduleBlock.section.sections.length-1)+"\n                "+t._s(t.firstSec.type)+"\n            ")]),t.display.showTime?t._l(t.firstSec.meetings,function(e){return s("div",{key:e.days,staticClass:"ml-2 crs-info"},[t._v("\n                    "+t._s(e.days)+"\n                ")])}):t._e(),t.display.showInstructor?s("div",{staticClass:"ml-2 crs-info"},[t._v("\n                "+t._s(t.firstSec.instructors.join(", "))+" and\n                "+t._s(t.scheduleBlock.section.sections.reduce(function(t,e){return t+e.instructors.length},0)-1)+"\n                more\n            ")]):t._e(),t.display.showRoom?s("div",{staticClass:"ml-2 crs-info"},[t._v("\n                "+t._s(t.firstSec.meetings[0].room)+" and\n                "+t._s(t.scheduleBlock.section.sections.length-1)+" more\n            ")]):t._e()],2):t._e(),t.isEvent?s("div",[s("div",{staticClass:"ml-2 mt-2"},[t._v("\n                "+t._s(t.scheduleBlock.section.title)+"\n            ")]),s("div",{staticClass:"ml-2 crs-info"},[t._v("\n                "+t._s(t.scheduleBlock.section.days)),s("br"),t._v("\n                "+t._s(t.scheduleBlock.section.room)+"\n            ")]),s("div",{staticClass:"ml-2 crs-info",domProps:{innerHTML:t._s(t.scheduleBlock.section.description)}})]):t._e()])])},Ys=[];let Ks=class extends ue{get startPx(){return this.getPx(this.scheduleBlock.start)}get endPx(){return this.getPx(this.scheduleBlock.end)}getPx(t){let e=48;const s=t.split(":"),i=parseInt(s[1])>=30?parseInt(s[1])-30:parseInt(s[1]),o=B(t);for(let n=this.absoluteEarliest;n<o;n++)e+=this.heightInfo[n-this.absoluteEarliest];return e+=i/30*this.display.fullHeight,e}get firstSec(){const t=this.scheduleBlock.section;return t instanceof G?t.getFirstSection():t}get room(){if(!(this.firstSec instanceof U))return null;for(const t of this.firstSec.meetings)if(-1!==t.days.indexOf(this.day)){const e=$(this.scheduleBlock.start),s=$(this.scheduleBlock.end),i=t.days.split(" "),o=Object(u["a"])(i,4),n=o[1],r=o[3];if(e===n&&s===r)return t.room}return null}get isSection(){return this.scheduleBlock.section instanceof U}get isEvent(){return this.scheduleBlock.section instanceof q}get isCourse(){return this.scheduleBlock.section instanceof G}showModal(){const t=this.scheduleBlock.section;this.isSection?this.modal.showSectionModal(t):this.isCourse?this.modal.showCourseModal(t):this.isEvent&&(this.status.sideBar.showEvent||this.status.switchSideBar("showEvent"),this.status.eventToEdit=t)}};h["b"]([Object(f["b"])(ot)],Ks.prototype,"scheduleBlock",void 0),h["b"]([Object(f["b"])(Array)],Ks.prototype,"heightInfo",void 0),h["b"]([Object(f["b"])(Number)],Ks.prototype,"absoluteEarliest",void 0),h["b"]([Object(f["b"])(String)],Ks.prototype,"day",void 0),Ks=h["b"]([f["a"]],Ks);var Qs=Ks,Xs=Qs,Zs=(s("218d"),Object(ye["a"])(Xs,qs,Ys,!1,null,"ab5d4176",null)),ti=Zs.exports;let ei=class extends ue{constructor(){super(...arguments),this.daysFull=["Monday","Tuesday","Wednesday","Thursday","Friday"]}get days(){return b}get earliestBlock(){let t=817;const e=this.currentSchedule;for(const s of e.days)for(const e of s){const s=B(e.start);s<t&&void 0!==e&&null!==e&&(t=s)}return t}get latestBlock(){let t=0;const e=this.currentSchedule;for(const s of e.days)for(const e of s){const s=B(e.end);s>t&&void 0!==e&&null!==e&&(t=s)}return t}get absoluteEarliest(){const t=this.validate(this.display.earliest,"8:00");return B(t)>this.earliestBlock?this.earliestBlock:B(t)}get absoluteLatest(){const t=this.validate(this.display.latest,"19:00");return B(t)<this.latestBlock?this.latestBlock:B(t)}get numRow(){let t=0;for(let e=this.absoluteEarliest;e<=this.absoluteLatest;e++)t+=1;return t}get hours(){let t="";t=this.absoluteEarliest%2===0?this.absoluteEarliest/2+8+":00":(this.absoluteEarliest-1)/2+8+":30";const e=[],s=[],i=[];for(let o=this.absoluteEarliest;o<=this.absoluteLatest;o++)e.push(t),s.push($(t)),t=this.increTime(t),i.push(o%2!==0?"":(o/2+8).toString());return window.screen.width>450?this.display.standard?s:e:i}get items(){const t=[],e=5*(this.absoluteLatest-this.absoluteEarliest+1);for(let s=0;s<e;s++)t.push(s+1);return t}get heightInfo(){const t=new Array(this.numRow);t.fill(this.display.partialHeight);const e=this.absoluteEarliest,s=this.currentSchedule;for(const i of s.days)for(const s of i){const i=B(s.start),o=B(s.end);for(let s=i;s<=o;s++)t[s-e]=this.display.fullHeight}return t}get mainHeight(){let t=0;for(const e of this.heightInfo)t+=e;return t}validate(t,e){return t&&t.length>=3&&t.indexOf(":")>0?t:e}increTime(t){const e=t.split(" ")[0].split(":"),s=parseInt(e[0]),i=parseInt(e[1]);return s+((i+30)/60>=1?1:0)+":"+((i+30)%60<10?"0"+(i+30)%60:(i+30)%60)}};h["b"]([Object(f["b"])(ut)],ei.prototype,"currentSchedule",void 0),ei=h["b"]([Object(f["a"])({components:{CourseBlock:ti}})],ei);var si=ei,ii=si,oi=(s("d298"),Object(ye["a"])(ii,Vs,Gs,!1,null,"84eddaba",null)),ni=oi.exports;let ri=class extends ue{constructor(){super(...arguments),this.compareSchedule=new ut}get number(){return this.compare.length}created(){this.renderSchedule()}renderSchedule(){this.compareSchedule=new ut;for(const t of this.compare){const e=t.schedule,s=t.color;for(let t=0;t<5;t++)for(const i of e.days[t]){const e=new ot(s,i.start,i.end,i.section);this.compareSchedule.days[t].push(e)}}this.compareSchedule.computeBlockPositions()}randColor(t){this.compare[t].color=As()({luminosity:"dark"}),this.renderSchedule()}deleteCompare(t){this.compare.splice(t,1),this.renderSchedule()}getTitle(t){const e=this.compare[t].schedule;return"Total credits: "+e.totalCredit+"\n"+e.currentCourses.map(t=>t.department+" "+t.number+" "+t.title).reduce((t,e)=>t+"\n"+e)}};ri=h["b"]([Object(f["a"])({components:{GridSchedule:ni,MainContent:we}})],ri);var ai=ri,li=ai,ci=Object(ye["a"])(li,Hs,Us,!1,null,null,null),di=ci.exports,ui=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("ul",{staticClass:"pagination justify-content-center",staticStyle:{"margin-bottom":"0"}},[s("li",{staticClass:"input-group",staticStyle:{width:"80px"}},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.goto,expression:"goto",modifiers:{number:!0}}],staticClass:"form-control",staticStyle:{"border-radius":"4px 0px 0px 4px !important"},attrs:{type:"number",min:"1",step:"1",placeholder:"Go to"},domProps:{value:t.goto},on:{input:[function(e){e.target.composing||(t.goto=t._n(e.target.value))},function(e){t.switchPage((t.goto||1)-1)}],blur:function(e){return t.$forceUpdate()}}})]),s("li",{staticClass:"page-item",class:{disabled:t.start<=0&&t.idx<=t.start}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return t.switchPage(t.idx-1)}}},[t._v("Â«")])]),t._l(t.length,function(e){return s("li",{key:e,staticClass:"page-item",class:{active:t.idx===e+t.start-1}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(s){return t.switchPage(e+t.start-1)}}},[t._v("\n                "+t._s(e+t.start)+"\n            ")])])}),s("li",{staticClass:"page-item",class:{disabled:t.idx>=t.scheduleLength-1}},[s("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return t.switchPage(t.idx+1)}}},[t._v("Â»")])])],2)])},hi=[];let mi=class extends ue{constructor(){super(...arguments),this.idx=0,this.start=0,this.goto=null}get curIdx(){return this.schedule.currentScheduleIndex}get scheduleLength(){return this.schedule.numGenerated}get length(){return window.screen.width<900?this.scheduleLength<3?this.scheduleLength:3:this.scheduleLength<10?this.scheduleLength:10}updateStart(){this.idx<this.start?this.start=this.idx:this.idx>=this.start+this.length&&(this.start=this.idx-this.length+1),this.start<0&&(this.start=0)}switchPage(t){t=isNaN(t)?0:+t,t>=this.scheduleLength?this.idx=this.scheduleLength-1:this.idx=t<0?0:t,this.updateStart(),this.schedule.switchPage(this.idx)}autoSwitch(){this.switchPage(this.curIdx)}};h["b"]([Object(f["d"])("curIdx",{immediate:!0})],mi.prototype,"autoSwitch",null),mi=h["b"]([f["a"]],mi);var pi=mi,fi=pi,gi=Object(ye["a"])(fi,ui,hi,!1,null,null,null),vi=gi.exports,yi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"course-modal",tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[t.course?s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",domProps:{innerHTML:t._s(t.highlightMatch(t.course.displayName,"key",t.course.matches))}}),t._m(0)]),s("div",{staticClass:"modal-body"},[s("h6",{domProps:{innerHTML:t._s(t.highlightMatch(t.course.title,"title",t.course.matches))}}),s("div",{staticStyle:{width:"100%","overflow-x":"auto"}},[s("table",{staticStyle:{color:"#808080","font-size":"0.75rem"}},t._l(t.course.sections,function(e){return s("tr",{key:e.section},[s("td",{staticClass:"info"},[t._v("Section:Â "+t._s(e.section))]),s("td",{staticClass:"info"},[t._v("ID:Â "+t._s(e.id))]),s("td",{staticClass:"info",domProps:{innerHTML:t._s(t.highlightMatch(e.topic,"topic",e.matches))}}),s("td",{staticClass:"info",domProps:{innerHTML:t._s(t.highlightMatch(e.instructors.join(", "),"instructors",e.matches))}}),s("td",{staticClass:"info"},[t._l(e.meetings,function(e){return[t._v(t._s(e.days)+" "),s("br",{key:e.days})]})],2),s("td",{staticClass:"info"},[t._l(e.meetings,function(e){return[t._v(t._s(e.room)+" "),s("br",{key:e.days})]})],2),s("td",{staticClass:"info"},[t._v(t._s(e.status))]),s("td",{staticClass:"info"},[t._v("\n                                "+t._s(e.enrollment+"/"+e.enrollment_limit)+"\n                            ")])])}),0)]),s("p",{staticClass:"mt-2",domProps:{innerHTML:t._s(t.highlightMatch(t.course.description,"description",t.course.matches))}}),s("button",{staticClass:"btn btn-outline-info",on:{click:function(e){return t.openVAGrade(t.course)}}},[t._v("\n                    Grade Distribution\n                ")])])]):t._e()])])},bi=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])}];let wi=class extends f["c"]{};h["b"]([Object(f["b"])(G)],wi.prototype,"course",void 0),wi=h["b"]([f["a"]],wi);var Ci=wi,Si=Ci,_i=(s("687a"),Object(ye["a"])(Si,yi,bi,!1,null,"4b0304ec",null)),xi=_i.exports,ki=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"section-modal",tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[t.section?s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[t._v(t._s(t.section.displayName)+" "+t._s(t.section.id))]),t._m(0)]),s("div",{staticClass:"modal-body"},[t.section.topic?s("div",{staticStyle:{color:"#a0a0a0"}},[t._v(t._s(t.section.topic))]):t._e(),s("div",{staticStyle:{color:"#a0a0a0"}},[t._v(t._s(t.section.type)+" | "+t._s(t.section.units)+" units")]),s("div",{staticStyle:{color:"#a0a0a0"}},[t._v(t._s(t.section.instructors.join(", ")))]),t._l(t.section.meetings,function(e){return s("div",{key:e.days,staticStyle:{color:"#a0a0a0"}},[t._v("\n                    "+t._s(e.days)+" "+t._s(e.room)+"\n                ")])}),s("div",{staticStyle:{color:"#a0a0a0"}},[t._v("\n                    "+t._s(t.section.status)+" "+t._s(t.section.enrollment)+"/"+t._s(t.section.enrollment_limit)+"\n                ")]),s("br"),s("div",[t._v(t._s(t.section.description))]),t.semester?s("div",{staticClass:"mt-2"},[s("button",{staticClass:"btn btn-outline-info mr-2",on:{click:function(e){return t.openLousList(t.semester.id,t.section.id)}}},[t._v("\n                        More Details (Lou's List)\n                    ")]),s("button",{staticClass:"btn btn-outline-info",on:{click:function(e){return t.openVAGrade(t.section)}}},[t._v("\n                        Grade Distribution\n                    ")])]):t._e()],2)]):t._e()])])},Oi=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])}];let Ei=class extends f["c"]{};h["b"]([Object(f["b"])(U)],Ei.prototype,"section",void 0),h["b"]([Object(f["b"])(Object)],Ei.prototype,"semester",void 0),Ei=h["b"]([f["a"]],Ei);var Ti=Ei,Ii=Ti,Ni=Object(ye["a"])(Ii,ki,Oi,!1,null,null,null),Ai=Ni.exports,$i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"url-modal",tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),s("div",{staticClass:"modal-body"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"form-control",staticStyle:{width:"100%"},attrs:{id:"url-text",rows:"10"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}}),s("button",{staticClass:"btn btn-primary px-3 mt-3",attrs:{id:"copy-url-btn","data-toggle":"popover","data-content":"success"},on:{click:function(e){return t.copy()}}},[t._v("\n                    Copy\n                ")])])])])])},Pi=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h4",{staticClass:"modal-title"},[t._v("URL Sharing")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])}];let Bi=class extends f["c"]{constructor(){super(...arguments),this.handler=-1}copy(){const t=document.getElementById("url-text"),e=Et()("#copy-url-btn");t.focus(),t.select();const s=document.execCommand("copy");s?e.popover("show"):console.error("unsuccessful copy"),window.clearTimeout(this.handler),this.handler=window.setTimeout(()=>e.popover("dispose"),2e3)}};h["b"]([Object(f["b"])(String)],Bi.prototype,"url",void 0),Bi=h["b"]([f["a"]],Bi);var Mi=Bi,ji=Mi,Li=Object(ye["a"])(ji,$i,Pi,!1,null,null,null),Di=Li.exports;function Fi(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Jt("timeMatrix",Ri,t=>Int32Array.from(t.timeMatrix),{succMsg:"Walking distance matrix loaded",warnMsg:t=>`Failed to load walking distance matrix: ${t}. Old data is used instead`,errMsg:t=>`Failed to load walking distance matrix: ${t}. `,expireTime:864e5,timeoutTime:1e4,force:t})}function zi(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Jt("buildingList",Ji,t=>t.buildingList,{succMsg:"Building list loaded",warnMsg:t=>`Failed to load building list: ${t}. Old data is used instead`,errMsg:t=>`Failed to load building list: ${t}. `,expireTime:864e5,timeoutTime:1e4,force:t})}function Ri(){return h["a"](this,void 0,void 0,function*(){const t=yield o.a.get(`${Ht()}/data/Distance/Time_Matrix.json`),e=t.data;if(e instanceof Array&&e.length){const t=new Int32Array(Math.pow(e.length,2));for(let s=0;s<e.length;s++)t.set(e[s],s*e.length);return localStorage.setItem("timeMatrix",JSON.stringify({modified:(new Date).toJSON(),timeMatrix:Array.from(t)})),t}throw new Error("Data format error")})}function Ji(){return h["a"](this,void 0,void 0,function*(){const t=yield o.a.get(`${Ht()}/data/Distance/Building_Array.json`),e=t.data;if(e instanceof Array&&"string"===typeof e[0])return localStorage.setItem("buildingList",JSON.stringify({modified:(new Date).toJSON(),buildingList:e})),e;throw new Error("Data format error")})}let Wi=class extends ue{get sideBar(){return this.status.sideBar}loadConfigFromURL(){return h["a"](this,void 0,void 0,function*(){const t=new URLSearchParams(window.location.search).get("config");if(t)try{return this.profile.addProfile(p.a.decompressFromEncodedURIComponent(t.trim()),"url loaded"),yield this.loadProfile(),this.noti.success("Configuration loaded from URL!",3,!0),!0}catch(e){console.error(e),this.noti.error(e.message+": Parsing error")}return!1})}created(){return h["a"](this,void 0,void 0,function*(){this.status.loading=!0;const t=yield Promise.all([Fi(),zi(),this.semester.loadSemesters()]),e=Object(u["a"])(t,3),s=e[0],i=e[1],o=e[2];if(this.noti.notify(s),s.payload&&(window.timeMatrix=s.payload),this.noti.notify(i),i.payload&&(window.buildingList=i.payload),this.noti.notify(o),o.payload){const t=yield this.loadConfigFromURL();t?history.replaceState(history.state,"current","/"):(this.profile.initProfiles(this.semester.semesters),yield this.loadProfile(this.profile.current))}this.status.loading=!1})}indexOfCompare(){return this.compare.findIndex(t=>t.schedule.equals(this.schedule.currentSchedule))}addToCompare(){const t=this.indexOfCompare();if(-1!==t)this.compare.splice(t,1);else{const t=As()({luminosity:"dark"});this.compare.push({schedule:this.schedule.currentSchedule,profileName:this.profile.current,index:this.schedule.currentScheduleIndex,color:t})}}};Wi=h["b"]([Object(f["a"])({components:{MainContent:we,ClassView:De,FuzzyView:ns,EventView:Xe,DisplayView:Ue,FilterView:Es,PaletteView:js,ExportView:hs,CompareView:di,Pagination:vi,GridSchedule:ni,SectionModal:Ai,CourseModal:xi,URLModal:Di,Information:()=>s.e("chunk-5dee0256").then(s.bind(null,"a8cc")),External:ys,LogView:Ws}})],Wi);var Hi=Wi,Ui=Hi,Vi=(s("034f"),Object(ye["a"])(Ui,c,d,!1,null,null,null)),Gi=Vi.exports,qi=(s("da64"),s("bb71")),Yi=s("7496"),Ki=s("553a"),Qi=s("b0af"),Xi=s("12b2"),Zi=s("99d9"),to=s("132d"),eo=s("8336");l.a.use(qi["a"],{iconfont:"fa",icons:{complete:"fas fa-check"},components:{VApp:Yi["a"],VFooter:Ki["a"],VCard:Qi["a"],VCardTitle:Xi["a"],VCardText:Zi["b"],VCardActions:Zi["a"],VIcon:to["a"],VBtn:eo["a"]}}),l.a.directive("top",{inserted:()=>{window.scrollTo(0,0)}}),window.axios=o.a,window.querystring=r.a,l.a.config.productionTip=!1,l.a.config.devtools=!0,l.a.prototype.openLousList=j,l.a.prototype.openVAGrade=L,l.a.prototype.highlightMatch=D,new l.a({render:t=>t(Gi)}).$mount("#app")},d298:function(t,e,s){"use strict";var i=s("69ee"),o=s.n(i);o.a},d3be:function(t,e,s){"use strict";var i=s("a272"),o=s.n(i);o.a},e7e7:function(t,e,s){}});
//# sourceMappingURL=app.b416023f.js.map