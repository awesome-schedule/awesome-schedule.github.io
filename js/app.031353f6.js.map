{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/models/ScheduleBlock.ts","webpack:///./src/App.vue?4241","webpack:///./src/workers/SearchWorker.ts","webpack:///./src/store/display.ts","webpack:///./src/store/notification.ts","webpack:///./src/store/filter.ts","webpack:///./src/store/modal.ts","webpack:///./src/store/palette.ts","webpack:///./src/store/profile.ts","webpack:///./src/store/schedule.ts","webpack:///./src/data/SemesterListLoader.ts","webpack:///./src/models/Catalog.ts","webpack:///./src/models/Meeting.ts","webpack:///./src/data/CatalogLoader.ts","webpack:///./src/store/semester.ts","webpack:///./src/store/status.ts","webpack:///./src/store/store.ts","webpack:///./src/store/watch.ts","webpack:///./src/store/index.ts","webpack:///./src/components/MainContent.vue?a736","webpack:///./src/components/Expand.vue?97dc","webpack:///./src/components/CourseModal.vue?b25e","webpack:///./src/components/CourseBlock.vue?d20e","webpack:///external \"vuedraggable\"","webpack:///./src/algorithm/Graph.ts","webpack:///./src/algorithm/Coloring.ts","webpack:///./src/models/Schedule.ts","webpack:///external \"bootstrap\"","webpack:///./src/components/ClassList.vue?15a6","webpack:///./src/components/Expand.vue?e9be","webpack:///src/components/Expand.vue","webpack:///./src/components/Expand.vue?f808","webpack:///./src/components/ClassList.ts","webpack:///./src/components/ClassList.ts?590a","webpack:///./src/components/ClassList.vue?4077","webpack:///./src/models/Event.ts","webpack:///./src/components/SectionModal.vue?24d9","webpack:///./src/models/Meta.ts","webpack:///./src/components/Expand.vue?0346","webpack:///./src/components/tabs/External.vue?a7fa","webpack:///./src/data/index.ts","webpack:///external \"Vue\"","webpack:///./src/assets/placeholder.jpg","webpack:///external \"Papa\"","webpack:///./src/assets/cover.jpg","webpack:///./src/components/ClassList.vue?3899","webpack:///./src/data/Loader.ts","webpack:///external \"jQuery\"","webpack:///./src/App.vue?b68b","webpack:///./src/components/MainContent.vue?0782","webpack:///./src/config.ts","webpack:///./src/components/MainContent.ts","webpack:///./src/components/MainContent.ts?ac56","webpack:///./src/components/MainContent.vue?ee72","webpack:///./src/components/tabs/ClassView.vue?220f","webpack:///./src/components/tabs/ClassView.ts","webpack:///./src/components/tabs/ClassView.ts?60d5","webpack:///./src/components/tabs/ClassView.vue","webpack:///./src/components/tabs/CompareView.vue?4ae1","webpack:///./src/components/GridSchedule.vue?1fb1","webpack:///./src/components/CourseBlock.vue?6817","webpack:///./src/components/CourseBlock.ts","webpack:///./src/components/CourseBlock.ts?9857","webpack:///./src/components/CourseBlock.vue?1889","webpack:///./src/components/GridSchedule.ts","webpack:///./src/components/GridSchedule.ts?ebe0","webpack:///./src/components/GridSchedule.vue?9461","webpack:///./src/components/tabs/CompareView.ts","webpack:///./src/components/tabs/CompareView.ts?e998","webpack:///./src/components/tabs/CompareView.vue","webpack:///./src/components/tabs/DisplayView.vue?dfda","webpack:///./src/components/tabs/DisplayView.ts","webpack:///./src/components/tabs/DisplayView.ts?2989","webpack:///./src/components/tabs/DisplayView.vue","webpack:///./src/components/tabs/EventView.vue?8a18","webpack:///./src/components/tabs/EventView.ts","webpack:///./src/components/tabs/EventView.ts?e73a","webpack:///./src/components/tabs/EventView.vue","webpack:///./src/components/tabs/ExportView.vue?e999","webpack:///./src/components/tabs/ExportView.ts","webpack:///./src/components/tabs/ExportView.ts?1909","webpack:///./src/components/tabs/ExportView.vue?0260","webpack:///./src/components/tabs/External.vue?448c","webpack:///./src/components/tabs/External.vue","webpack:///./src/components/tabs/External.vue?d415","webpack:///./src/components/tabs/External.vue?5021","webpack:///./src/components/tabs/FilterView.vue?7046","webpack:///./src/components/tabs/FilterView.ts","webpack:///./src/components/tabs/FilterView.ts?1424","webpack:///./src/components/tabs/FilterView.vue","webpack:///./src/components/tabs/PaletteView.vue?e1fd","webpack:///./src/components/tabs/PaletteView.ts","webpack:///./src/components/tabs/PaletteView.ts?a243","webpack:///./src/components/tabs/PaletteView.vue","webpack:///./src/components/DateSeparator.vue?20cb","webpack:///./src/components/DateSeparator.ts","webpack:///./src/components/DateSeparator.ts?7461","webpack:///./src/components/DateSeparator.vue","webpack:///./src/components/Pagination.vue?38ab","webpack:///./src/components/Pagination.ts","webpack:///./src/components/Pagination.ts?1537","webpack:///./src/components/Pagination.vue","webpack:///./src/components/CourseModal.vue?8aaf","webpack:///./src/components/CourseModal.ts","webpack:///./src/components/CourseModal.ts?c67e","webpack:///./src/components/CourseModal.vue?2e51","webpack:///./src/components/SectionModal.vue?dd58","webpack:///./src/components/SectionModal.ts","webpack:///./src/components/SectionModal.ts?17f7","webpack:///./src/components/SectionModal.vue?ec94","webpack:///./src/components/URLModal.vue?ce0e","webpack:///./src/components/URLModal.ts","webpack:///./src/components/URLModal.ts?25de","webpack:///./src/components/URLModal.vue","webpack:///./src/components/VersionModal.vue?06f9","webpack:///./src/components/VersionModal.ts","webpack:///./src/components/VersionModal.ts?919c","webpack:///./src/components/VersionModal.vue","webpack:///./src/algorithm/Searcher.ts","webpack:///./src/data/BuildingLoader.ts","webpack:///./src/App.ts","webpack:///./src/App.ts?1f59","webpack:///./src/App.vue?bff9","webpack:///./src/main.ts","webpack:///./src/utils/time.ts","webpack:///./src/utils/other.ts","webpack:///./src/utils/ICal.ts","webpack:///./src/utils/index.ts","webpack:///./src/algorithm/ScheduleEvaluator.ts","webpack:///./src/models/Course.ts","webpack:///./src/models/Section.ts","webpack:///./src/algorithm/ScheduleGenerator.ts","webpack:///./src/database/CatalogDB.ts","webpack:///./src/components/tabs/ExportView.vue?d1b3","webpack:///./src/components/GridSchedule.vue?2c68"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","ScheduleBlock","backgroundColor","start","end","section","left","width","strong","this","startMin","endMin","duration","other","includeEnd","olap","Worker","bound","num","low","high","Math","min","max","showTime","showRoom","showInstructor","showClasslistTitle","standard","multiSelect","combineSections","expandOnEntering","enableLog","enableFuzzy","showWeekend","_fullHeight","_partialHeight","_maxNumSchedules","_numSearchResults","_earliest","_latest","_width","obj","keys","sort","bits","counter","displaySettings","mask","startsWith","Boolean","x","defaultVal","getDefault","val","defVal","CLAS","freeze","info","warn","success","LEVELS","danger","warning","Notification","msg","cls","history","job","override","level","unshift","stamp","Date","toLocaleTimeString","clear","notify","defaultOptions","sortBy","enabled","reverse","weight","exclusive","title","description","combined","map","raw","raw_sort","getDefaultOptions","options","assign","scheduleEvaluator","ScheduleEvaluator","timeSlots","allowWaitlist","allowClosed","sortOptions","refSchedule","sortModes","fallback","filterBits","sortBits","initials","weights","charCodeAt","Schedule","fromJSON","All","events","schedule","payload","timeSlot","flag","compressJSON","toJSON","filter","slots","ref","slot","sortCopy","initial","sortOpt","find","decompressJSON","time","days","startTime","split","endTime","isNaN","Event","Array","others","course","url","match","Map","modal","Palette","savedColors","Profile","current","localStorage","getItem","profiles","JSON","parse","semesters","sem","concat","oldData","id","parsed","removeItem","setItem","stringify","latest","includes","idx","oldName","newName","fallbackName","sw","raw_data","profileName","prevIdx","findIndex","confirm","currentScheduleIndex","proposedScheduleIndex","cpIndex","generated","proposedSchedules","index","switchSchedule","saveStatus","switchProposed","len","proposedSchedule","copy","numGenerated","switchPage","currentSchedule","getSchedule","clean","defaultState","proposed","temp","loadSemesterList","count","requestSemesterList","semesterList","expireTime","succMsg","errMsg","warnMsg","timeoutTime","response","location","host","a","random","element","innerHTML","records","option","semesterId","substr","html","join","modified","semester","courseDict","courses","sections","worker","prom","onmessage","postMessage","terminate","getCourse","getSectionById","displayName","query","args","matches","Set","max_results","trim","toLowerCase","spec","queryNoSp","field","substring","results","searchKey","searchField","searchTopic","searchProf","keyIdx","indexOf","deptLen","department","targetIdx","prev","topicMatches","sec","topic","topicIdx","set","size","appendToResult","profMatches","profs","instructors","profIdx","allMatches","ids","combSecMatches","mats","prevMats","getInstructors","meetings","meeting","meetingProfs","instructor","prof","loadSemesterData","force","db","CatalogDB","empty","new","requestSemesterData","timestamp","now","newData","old","retrieveFromDB","res","post","Semester","Group","Description","submit","Extended","parseSemesterData","skipEmptyLines","header","rawData","CLASS_TYPES","allSections","date","valid","room","meetingDate","startT","endT","k","Course","number","units","Section","status","enrollment","enrollment_limit","wait_list","dateArray","dates","allCourses","values","bulkAdd","saveTimeStamp","toArray","arr","item","secMap","rawCourse","desc","getOwnPropertyDescriptors","configurable","writable","secDesc","currentSemester","lastUpdate","pendingPromise","cancel","catalog","toLocaleString","Status","sideBar","showSelectClass","screen","height","showFuzzy","showEvent","showFilter","showSetting","showExport","showSelectColor","showInfo","showExternal","showLog","showCompare","loading","eventToEdit","isMobile","foldAllSideBar","bar","isAncient","isLegacy","profile","display","palette","compare","noti","selectSemester","ancient","oldStore","newStore","generateSchedules","some","buildingSearcher","timeMatrix","filteredStatus","computeFilter","validateSortOptions","maxNumSchedules","foldView","getGeneratorOptions","generator","ScheduleGenerator","getSchedules","evaluator","loadProfile","parsedLatest","Infinity","getTime","jsonString","parseFromURL","config","decompressFromEncodedURIComponent","computeSchedule","immediate","deep","watchers","vuedraggable","Vertex","visited","depth","pathDepth","DFS","adjList","neighbors","componentNodes","graphColorBackTrack","graph","colors","colorOrder","opCount","numColors","v","vertex","outer","color","dsatur","fill","numNodes","saturations","maxDegree","degree","add","maxSat","sat","graphColoringExact","dsaturOrder","Int32Array","totalCount","verifyColoring","curCol","adj","colorDepthSearch","vertices","_","v1","v2","depthFirstSearchRec","pendingCompute","dateSeparators","separatedAll","dateSelector","_preview","colorSlots","from","bgColors","totalCredit","currentCourses","currentIds","constructDateSeparator","shortAll","reduce","acc","toJSONShort","entry","fromJSONShort","setPrototypeOf","warnings","regex","parts","convKey","toUpperCase","secs","sid","record","userColor","hash","remove","delete","blocks","block","hoverEvent","forEach","container","has","hover","sync","_computeSchedule","cleanSchedule","getMonth","getDate","credit","parseFloat","currentIdKey","place","getFirstSection","toString","getCombined","crs","found","b","computeBlockPositions","tempSeparator","_temp","sep","conflict","constructAdjList","Uint8Array","components","bls","_computeBlockPositions","Int16Array","node","maxLeft","newLeft","delta","minLeft","getColor","placeHelper","allSameTime","courseSec","firstSec","dayTimes","scheduleBlock","deepCopyEvent","AllCopy","rendered","days1","days2","allEquals","val1","val2","maxDuration","minDuration","floor","addEvent","seal","bootstrap","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","$event","_k","keyCode","$emit","_l","unhover","collapse","class","expanded","staticStyle","domProps","_s","highlightMatch","_v","emptyCourse","_e","isEntering","showAny","active","select","separatedCourses","selectAll","allTimeSelected","isActive","preview","removePreview","validMsg","staticRenderFns","component","collapsed","notSelected","every","courseObj","segments","$set","default","Expand","dayToInt","Mo","Tu","We","Th","Fr","Sa","Su","DAYS","TYPES","0","1","2","3","4","5","6","7","8","9","TYPES_PARSE","Clinical","Discussion","Drill","Laboratory","Lecture","Practicum","Seminar","Studio","Workshop","semesterListExpirationTime","semesterDataExpirationTime","getApi","protocol","Vue","Papa","loadFromCache","construct","validator","defaultValidator","storage","err_2","jQuery","version","switchSideBar","addToCompare","indexOfCompare","style","scheduleWidth","scheduleLeft","directives","rawName","_t","_m","backend","up","down","edit","external","enableDetails","courseId","open","enableGrades","sideBarWidth","sideMargin","tabBarWidthMobile","tabBarWidth","sideBarActive","getClass","closeClassList","inputCourses","inputMatches","updateCourse","showCourseModal","newProposed","copyCurrent","deleteProposed","removeCourse","expression","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","entries","search","numSearchResults","$refs","classSearch","update","selectedClassList","$forceUpdate","classList","enteringClassList","ClassList","cur","highlight","getTitle","pIdx","similarity","isSimilarSchedule","renderSchedule","composing","randColor","deleteCompare","compareSchedule","mainHeight","heightInfo","hour","gridTemplateCols","position","day","numRow","numCol","absoluteEarliest","startPx","endPx","showModal","getPx","px","parseInt","fullHeight","convedStart","convedEnd","isSection","showSectionModal","isCourse","isEvent","Number","String","df","earliest","early","earliestBlock","late","latestBlock","absoluteLatest","repeat","curTime","stdTime","reducedTime","increTime","partialHeight","sum","h","hr","CourseBlock","highlightIdx","getDesc","sb","nsb","luminosity","y","z","sortCoeffCache","opt","GridSchedule","MainContent","modifiers","_n","_q","clearCache","reload","eventTitle","eventTimeFrom","eventTimeTo","eventWeek","updateDay","eventRoom","eventDescription","endEditEvent","cleanup","deleteEvent","ev","unhoverEvent","copyEvent","toBeModifiedDays","editEvent","getEventDays","week","regenerate","onUploadJson","saveToJson","saveToIcal","exportToURL","print","sel","selectProfile","getMeta","renameProfile","deleteProfile","canSync","uploadProfile","remoteNewName","renameRemote","deleteRemote","downloadProfile","logout","remoteProfiles","_cre","username","credential","fetchRemoteProfiles","meta","input","files","reader","FileReader","prevLen","addProfile","readAsText","json","URL","compressed","searchParams","compressToEncodedURIComponent","showURLModal","pop","rIdx","action","local","remote","extend","addTimeSlot","updateFilterDay","removeTimeSlot","dragEnd","model","callback","optIdx","changeSorting","similarityEnabled","newOptions","draggable","courseColors","pair","convertKey","$delete","colorEntries","bucket","curSchedule","selectInterval","convDate","offset","goto","disabled","scheduleLength","updateStart","curIdx","viewGrades","viewDetails","handler","box","getElementById","focus","succ","execCommand","popover","compareTwoStrings","first","second","len1","len2","firstBigrams","bigram","intersectionSize","findBestMatch","mainString","targetStrings","bestMatchIndex","bestMatchRating","currentTargetString","currentRating","FastSearcher","targets","replace","loadTimeMatrix","requestTimeMatrix","loadBuildingSearcher","requestBuildingSearcher","buildingList","flattened","checkVersion","note","$","courseArray","URLSearchParams","decodeURIComponent","encoded","loadSemesters","pay1","pay2","pay3","cre","loadCredentials","urlResult","loadConfigFromURL","loadCoursesFromURL","initProfiles","replaceState","state","equals","ClassView","EventView","DisplayView","FilterView","PaletteView","ExportView","CompareView","External","Information","FuzzyView","LogView","Pagination","DateSeparator","SectionModal","CourseModal","URLModal","VersionModal","directive","scrollTo","productionTip","devtools","currentRoute","pathname","$mount","parseTimeAll","dayList","hr12toInt","parseTimeAsTimeArray","lIdx","hr24toInt","to24hr","checkTimeConflict","timeArray1","timeArray2","step1","step2","s2","e2","e1","begin1","end1","begin2","end2","parseDate","sm","sd","sy","startDate","em","ed","ey","endDate","calcOverlap","to12hr","pre","minute","numHour","padStart","timeToNum","intTo24hr","str","expMatch","lastEnd","hashCode","hval","cancelablePromise","catch","reason","savePlain","filename","Blob","errToStr","errStr","isNumberArray","isStringArray","getReleaseNote","ul","notes","tag_name","body","li","s1","match1","match2","exec","toICal","ical","startWeekDay","sl","sr","el","er","getDay","dayoffset","dateToICalString","getHours","getMinutes","getFullYear","SortMode","allChoices","timeArrays","timeLen","buf","ArrayBuffer","indices","Uint32Array","coeffs","Float32Array","offsets","numCourses","arrOffset","vToBeInserted","realBound","funcName","cache","newCache","evalFunc","sortFunctions","thresh","distance","isRandom","countSortOpt","lastIdx","computeCoeffFor","coeff","range","normalizeRatio","quick","quickThresh","computeCoeff","_size","_indices","shuffle","isCombined","cmpFunc","partialSort","ifReverse","fbCoeffs","func","slc","choice","classNum","sumSq","oEnd","classTime","compact","totalOverlap","dayOverlap","refTime","total","threshold","dist","r1","r2","sim","isSubset","sameTimeAs","combinedTime","Validity","dayArray","searcher","tmp1","timeBlock","dayBlock","rating","timeBlocks","sc","timeArrayToCompact","timeArrayList","timeArrLens","computeTimeArrLens","arrs","computeConflict","dateList","conflictCache","sideLen","arrs1","arrs2","dates1","dates2","i1","i2","toTimeArray","classes","courseRec","timeArray","getTimeRoom","td","secIndices","maxLen","buffer","sectionLens","computeSchedules","pathMemory","currentChoices","choiceNum","super","stores","table","put"],"mappings":"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","file":"js/app.031353f6.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0b250d\":\"fd6dc541\",\"chunk-2d224d50\":\"08a28b68\",\"chunk-a58a97e4\":\"1a9aeeae\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-a58a97e4\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0b250d\":\"31d6cfe0\",\"chunk-2d224d50\":\"31d6cfe0\",\"chunk-a58a97e4\":\"31497ed3\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/**\n * @author Hanzhi Zhou\n * @module models\n */\n\n/**\n *\n */\nimport { calcOverlap, hr24toInt } from '../utils';\nimport Course from './Course';\nimport Event from './Event';\nimport Section from './Section';\n\n/**\n * A `ScheduleBlock` is a data structure that holds\n * all the necessary information to render a schedule on `GridSchedule`\n *\n * @see [[GridSchedule]]\n */\nexport default class ScheduleBlock {\n    /**\n     * duration of the block, in minutes\n     */\n    public readonly duration: number;\n    /**\n     * the left of the block relative to the column, a decimal between 0 and 1\n     */\n    public left = -1;\n    /**\n     * the width of the block relative to the column, a decimal between 0 and 1\n     */\n    public width = -1;\n    /**\n     * whether the block is highlighted\n     */\n    public strong = false;\n\n    private readonly startMin: number;\n    private readonly endMin: number;\n\n    /**\n     * @param backgroundColor background color in hex, e.g. `#ffffff`\n     * @param start start time in 24hr format: `13:00`\n     * @param end end time in 24hr format: `15:00`\n     * @param section the stuff contained in this block\n     */\n    constructor(\n        public readonly backgroundColor: string,\n        public readonly start: string,\n        public readonly end: string,\n        public readonly section: Section | Course | Event\n    ) {\n        this.startMin = hr24toInt(start);\n        this.endMin = hr24toInt(end);\n        this.duration = this.endMin - this.startMin;\n    }\n\n    /**\n     * returns whether this block has conflict with another block\n     * @param other\n     * @param includeEnd whether to treat end-point touch as conflict\n     */\n    public conflict(other: ScheduleBlock, includeEnd = false) {\n        const olap = calcOverlap(this.startMin, this.endMin, other.startMin, other.endMin);\n        if (includeEnd) {\n            return olap >= 0;\n        } else {\n            return olap > 0;\n        }\n    }\n}\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"45397acdcb84412ec93e.worker.js\");\n};","/**\n * @module store\n */\n\n/**\n *\n */\nimport { hr24toInt, intTo24hr } from '@/utils';\nimport { StoreModule } from '.';\n\nexport interface DisplayState {\n    [x: string]: any;\n    // course block options\n    showTime: boolean;\n    showRoom: boolean;\n    showInstructor: boolean;\n    showClasslistTitle: boolean;\n\n    // grid schedule options\n    fullHeight: number;\n    partialHeight: number;\n    earliest: string;\n    latest: string;\n    standard: boolean;\n\n    // schedule compute options\n    multiSelect: boolean;\n    combineSections: boolean;\n    maxNumSchedules: number;\n\n    // search options\n    expandOnEntering: boolean;\n    numSearchResults: number;\n\n    // weekdays\n    showWeekend: boolean;\n}\n\nfunction bound(num: number, low: number, high: number) {\n    return Math.min(Math.max(low, num), high);\n}\n\nexport type DisplayJSONShort = [number, ...any[]];\n\n/**\n * the display module handles global display options\n * @author Hanzhi Zhou\n */\nexport class Display implements StoreModule<DisplayState, DisplayState> {\n    public static compressJSON(obj: DisplayState) {\n        // get all keys in the display object and sort them\n        const keys = Object.keys(obj).sort();\n        const result: DisplayJSONShort = [0];\n\n        // convert to binary, the first key => the first/rightmost bit\n        let bits = 0;\n        let counter = 1;\n        for (const key of keys) {\n            if (obj[key] === true) {\n                bits |= counter;\n                counter <<= 1;\n            } else if (obj[key] === false) {\n                counter <<= 1;\n            } else {\n                result.push(obj[key]);\n            }\n        }\n        result[0] = bits;\n        return result;\n    }\n    public static decompressJSON(obj: DisplayJSONShort) {\n        const displaySettings = new Display();\n\n        // get and sort keys in displaySettings\n        const keys = Object.keys(displaySettings).sort();\n\n        // if the key name contains '_' then it corresponds to a certain index in data\n        // else it is in the binary\n        let counter = 1,\n            mask = 1;\n        const bits = obj[0];\n        for (const key of keys) {\n            if (key.startsWith('_')) {\n                displaySettings[key] = obj[counter++];\n            } else {\n                displaySettings[key] = Boolean(bits & mask);\n                mask <<= 1;\n            }\n        }\n        return displaySettings;\n    }\n\n    [x: string]: any;\n    showTime = false;\n    showRoom = true;\n    showInstructor = true;\n    showClasslistTitle = true;\n    standard = false;\n    multiSelect = true;\n    combineSections = true;\n    expandOnEntering = false;\n    enableLog = false;\n    enableFuzzy = false;\n    showWeekend = true;\n\n    private _fullHeight = 40;\n    private _partialHeight = 30;\n    private _maxNumSchedules = 200000;\n    private _numSearchResults = 6;\n    private _earliest = '08:00';\n    private _latest = '19:00';\n    private _width = 100;\n\n    // validators\n    get fullHeight() {\n        return this._fullHeight;\n    }\n    set fullHeight(x) {\n        this._fullHeight = bound(x, 1, 100);\n    }\n    get partialHeight() {\n        return this._partialHeight;\n    }\n    set partialHeight(x) {\n        this._partialHeight = bound(x, 1, 100);\n    }\n    get numSearchResults() {\n        return this._numSearchResults;\n    }\n    set numSearchResults(x) {\n        this._numSearchResults = bound(x, 1, 20);\n    }\n    get maxNumSchedules() {\n        return this._maxNumSchedules;\n    }\n    set maxNumSchedules(x) {\n        this._maxNumSchedules = bound(x, 1000, 5000000);\n    }\n    get earliest() {\n        return this._earliest;\n    }\n    set earliest(e) {\n        this._earliest = intTo24hr(bound(hr24toInt(e || '8:00'), 0, 12 * 60 - 1));\n    }\n    get latest() {\n        return this._latest;\n    }\n    set latest(e) {\n        this._latest = intTo24hr(bound(hr24toInt(e || '22:00'), 12 * 60, 24 * 60 - 1));\n    }\n    get width() {\n        return this._width;\n    }\n    set width(e) {\n        this._width = bound(e, 10, 1000);\n    }\n\n    // when doing serialization, we only record the enumerable properties, excluding the getters\n    fromJSON(obj: Partial<DisplayState>) {\n        const defaultVal = this.getDefault();\n        for (const key in defaultVal) {\n            const val = obj[key];\n            const defVal = defaultVal[key];\n            if (typeof val === typeof defVal) {\n                this[key] = val;\n            } else {\n                this[key] = defVal;\n            }\n        }\n    }\n\n    toJSON() {\n        return this;\n    }\n\n    getDefault() {\n        return new Display();\n    }\n}\n\nexport default new Display();\n","/**\n * @module store\n * @author Hanzhi Zhou\n */\n\n/**\n * the noti level type corresponds to the three different log levels available in Console\n * @see console.info\n * @see console.warn\n * @see console.error\n */\ntype ConsoleLevel = 'info' | 'error' | 'warn';\n/**\n * the noti class type corresponds to the bootstrap color classes\n */\ntype NotiClass = 'info' | 'danger' | 'success' | 'warning';\n\n/**\n * @typeparam T the type of the payload\n */\nexport interface NotiMsg<T> {\n    level: ConsoleLevel | 'success';\n    msg: string;\n    payload?: T;\n}\n\n/**\n * the current state of the notification\n */\ninterface NotiState {\n    /**\n     * the notification message\n     */\n    msg: string;\n    /**\n     * @see [[NotiClass]]\n     */\n    cls: NotiClass | '';\n}\n\n/**\n * A notification item represents a notification state in the past\n */\ninterface NotiItem extends NotiState {\n    /**\n     * time stamp created by\n     * ```js\n     * new Date().toLocaleTimeString()\n     * ```\n     */\n    stamp: string;\n}\n\n/**\n * map console types to bootstrap css classes\n */\nconst CLAS = Object.freeze({\n    info: 'info',\n    error: 'danger',\n    warn: 'warning',\n    success: 'success'\n}) as { [x in ConsoleLevel | 'success']: NotiClass };\n\n/**\n * map bootstrap css classes to notification type\n */\nconst CONS = Object.freeze({\n    info: 'info',\n    danger: 'error',\n    success: 'info',\n    warning: 'warn'\n}) as { [x in NotiClass]: ConsoleLevel };\n\nconst LEVELS: { [x in NotiClass]: number } = Object.freeze({\n    info: 0,\n    success: 1,\n    warning: 2,\n    danger: 3\n});\n\n/**\n * the notification module encapsulates common functions used to\n * inform user about the results of certain actions\n */\nclass Notification implements NotiState {\n    public msg = '';\n    public cls: NotiClass | '' = '';\n    /**\n     * history of the notification states. index 0 corresponds to the most recent one\n     */\n    public history: Readonly<NotiItem>[] = [];\n    private job: number | null = null;\n\n    /**\n     * display notification to users.\n     * by default, only notifications of higher level will override the previous notification.\n     * @param msg the message to display\n     * @param type the type of notification\n     * @param timeout timeout in second. this noti msg will be automatically cleared after timeout.\n     * @param override force-override the previous notification, if it exists\n     */\n    public notify<T>(\n        msg: string | NotiMsg<T>,\n        cls: NotiClass = 'info',\n        timeout = 5,\n        override = false\n    ) {\n        if (typeof msg !== 'string') {\n            cls = CLAS[msg.level];\n            msg = msg.msg;\n        }\n        // new notification comes first\n        this.history.unshift({\n            msg,\n            cls,\n            stamp: new Date().toLocaleTimeString()\n        });\n        console[CONS[cls]](msg);\n\n        if (!this.cls || LEVELS[cls] >= LEVELS[this.cls] || override) {\n            if (this.job) window.clearTimeout(this.job);\n            this.msg = msg;\n            this.cls = cls;\n            this.clear(timeout);\n        }\n    }\n\n    public empty() {\n        return !this.msg && !this.cls;\n    }\n\n    public clear(timeout = 0) {\n        if (timeout <= 0) {\n            this.msg = '';\n            this.cls = '';\n            this.job = null;\n        } else {\n            this.job = window.setTimeout(() => this.clear(0), timeout * 1000);\n        }\n    }\n\n    public clearHistory() {\n        this.history = [];\n    }\n\n    public warn(msg: string, timeout = 5, override = false) {\n        this.notify(msg, 'warning', timeout, override);\n    }\n    public error(msg: string, timeout = 5, override = false) {\n        this.notify(msg, 'danger', timeout, override);\n    }\n    public success(msg: string, timeout = 5, override = false) {\n        this.notify(msg, 'success', timeout, override);\n    }\n    public info(msg: string, timeout = 5, override = false) {\n        this.notify(msg, 'info', timeout, override);\n    }\n}\n\nexport default new Notification();\n","/**\n * @module store\n */\n\n/**\n *\n */\nimport Event from '@/models/Event';\nimport { DAYS } from '@/models/Meta';\nimport Schedule, { ScheduleAll, SectionJSON } from '@/models/Schedule';\nimport { to12hr } from '@/utils';\nimport { StoreModule } from '.';\nimport ScheduleEvaluator, {\n    EvaluatorOptions,\n    SortFunctions,\n    SortMode,\n    SortOption\n} from '../algorithm/ScheduleEvaluator';\nimport noti, { NotiMsg } from './notification';\n\ninterface FilterStateBase {\n    readonly timeSlots: TimeSlot[];\n    allowWaitlist: boolean;\n    allowClosed: boolean;\n}\n\nexport interface FilterState extends FilterStateBase {\n    sortOptions: DetailedEvaluatorOptions;\n    refSchedule: ScheduleAll;\n}\n\nexport interface FilterStateJSON extends FilterStateBase {\n    sortOptions: EvaluatorOptions;\n    refSchedule: ScheduleAll<SectionJSON[]>;\n}\n\n/**\n * A sort option with detailed description\n * @see [[SortOption]]\n */\ninterface DetailedSortOption extends SortOption {\n    /**\n     * the names of the sorting options that cannot be applied when this option is enabled\n     */\n    readonly exclusive: readonly (keyof SortFunctions)[];\n    /**\n     * text displayed next to the checkbox\n     */\n    readonly title: string;\n    /**\n     * text displayed in tooltip\n     */\n    readonly description: string;\n}\n\n/**\n * A JSON-serializable version of the [[EvaluatorOptions]] with more details\n */\ninterface DetailedEvaluatorOptions extends EvaluatorOptions {\n    sortBy: readonly DetailedSortOption[];\n    toJSON: () => EvaluatorOptions;\n    fromJSON: (x?: EvaluatorOptions) => DetailedEvaluatorOptions;\n}\n\n/**\n * index 0 - 6: whether Mo - Su are selected\n *\n * 7: start time, of 24 hour format\n *\n * 8: end time, of 24 hour format\n */\nexport type TimeSlot = [\n    boolean,\n    boolean,\n    boolean,\n    boolean,\n    boolean,\n    boolean,\n    boolean,\n    string,\n    string\n];\nexport type TimeSlotShort = [number, string, string];\n\n/**\n * a list of sort options with default values assigned\n */\nconst defaultOptions: DetailedEvaluatorOptions = {\n    sortBy: [\n        {\n            name: 'distance',\n            enabled: true,\n            reverse: false,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'Walking Distance',\n            description: 'Avoid long distance walking between classes'\n        },\n        {\n            name: 'variance',\n            enabled: true,\n            reverse: false,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'Variance',\n            description: 'Balance the class time each day'\n        },\n        {\n            name: 'compactness',\n            enabled: false,\n            reverse: false,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'Vertical compactness',\n            description: 'Make classes back-to-back'\n        },\n        {\n            name: 'lunchTime',\n            enabled: false,\n            reverse: false,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'Lunch Time',\n            description: 'Leave spaces for lunch'\n        },\n        {\n            name: 'noEarly',\n            enabled: false,\n            reverse: false,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'No Early',\n            description: 'Start my day as late as possible'\n        },\n        {\n            name: 'similarity',\n            enabled: false,\n            reverse: false,\n            weight: 1,\n            exclusive: ['IamFeelingLucky'],\n            title: 'Similarity',\n            description: 'Similar to a selected schedule'\n        },\n        {\n            name: 'IamFeelingLucky',\n            enabled: false,\n            reverse: false,\n            weight: 1,\n            exclusive: ['variance', 'compactness', 'lunchTime', 'noEarly', 'distance'],\n            title: `I'm Feeling Lucky`,\n            description: 'Sort randomly'\n        }\n    ],\n    mode: SortMode.combined,\n    toJSON() {\n        return {\n            sortBy: this.sortBy.map(x => ({\n                name: x.name,\n                enabled: x.enabled,\n                reverse: x.reverse,\n                weight: x.weight\n            })),\n            mode: this.mode\n        };\n    },\n    fromJSON(raw?: EvaluatorOptions) {\n        if (raw && raw.mode !== undefined && raw.sortBy) {\n            this.mode = raw.mode;\n            for (const raw_sort of raw.sortBy) {\n                for (const sort of this.sortBy) {\n                    if (sort.name === raw_sort.name) {\n                        sort.enabled = raw_sort.enabled;\n                        sort.reverse = raw_sort.reverse;\n                        sort.weight = raw_sort.weight || 1;\n                        break;\n                    }\n                }\n            }\n        }\n        return this;\n    }\n};\n\n/**\n * get a copy of the default options\n */\nfunction getDefaultOptions() {\n    const options = Object.assign({}, defaultOptions);\n    options.sortBy = options.sortBy.map(x => Object.assign({}, x));\n    return options;\n}\n\n// this property must be non-reactive,\n// otherwise the reactive observer will slow down execution significantly\nwindow.scheduleEvaluator = new ScheduleEvaluator();\n\n/**\n * the filter module handles the storage and manipulation of filters\n * @author Hanzhi Zhou\n */\nexport class FilterStore implements StoreModule<FilterState, FilterStateJSON> {\n    public static compressJSON(obj: FilterStateJSON) {\n        // convert allowClosed, allowWaitlist, mode to binary\n        let filterBits = 0;\n        if (obj.allowClosed) filterBits += 2 ** 0;\n        if (obj.allowWaitlist) filterBits += 2 ** 1;\n        if (obj.sortOptions.mode === 1) filterBits += 2 ** 2;\n\n        // sorting\n        // add all initial ascii to the array in order\n        // add the binary of their respective state: enabled or reverse\n        let mask = 1;\n        let sortBits = 0;\n\n        // name_initial ascii code :[c,d,l,n,s,v,I] --> could change in order\n        const initials: number[] = [];\n        const weights: number[] = [];\n        for (const sortBy of obj.sortOptions.sortBy) {\n            initials.push(sortBy.name.charCodeAt(0));\n            if (sortBy.enabled) sortBits |= mask;\n            mask <<= 1;\n            if (sortBy.reverse) sortBits |= mask;\n            mask <<= 1;\n            weights.push(sortBy.weight);\n        }\n        const { payload: schedule, level, msg } = Schedule.fromJSON({\n            All: obj.refSchedule,\n            events: []\n        });\n        if (level === 'warn')\n            noti.warn(\n                'Warning: Reference schedule used in sort by similarity is removed because <br>' +\n                    msg\n            );\n\n        return [\n            filterBits,\n            sortBits,\n            initials,\n            weights,\n            // use 7 bits to represent the 7 days\n            obj.timeSlots.map(timeSlot => {\n                let m = 1,\n                    flag = 0;\n                for (let i = 0; i < 7; i++) {\n                    if (timeSlot[i]) flag |= m;\n                    m <<= 1;\n                }\n                return [flag, timeSlot[7], timeSlot[8]] as const;\n            }),\n            // we ignore the events\n            schedule && level !== 'warn' ? Schedule.compressJSON(schedule.toJSON())[0] : {}\n        ] as const;\n    }\n\n    public static decompressJSON(obj: ReturnType<typeof FilterStore.compressJSON>) {\n        const filter = new FilterStore();\n        const [filterBits, sortBits, initials, weights, slots, ref] = obj;\n\n        // get allowClosed, allowWaitlist, mode from binary\n        filter.allowClosed = Boolean(filterBits & 1);\n        filter.allowWaitlist = Boolean(filterBits & 2);\n        filter.sortOptions.mode = +Boolean(filterBits & 4); // convert to 0 or 1\n\n        // decode time slots\n        filter.timeSlots = slots.map(slot => {\n            const timeSlot: TimeSlot = [\n                false,\n                false,\n                false,\n                false,\n                false,\n                false,\n                false,\n                slot[1],\n                slot[2]\n            ];\n            const bits = slot[0];\n            let m = 1;\n            for (let i = 0; i < 7; i++) {\n                timeSlot[i] = Boolean(m & bits);\n                m <<= 1;\n            }\n            return timeSlot;\n        });\n\n        // decode the enable and reverse info of sort\n        const sortBy = filter.sortOptions.sortBy;\n        const sortCopy = [];\n        // loop through the ascii initials and match to the object name\n        let mask = 1;\n        for (let i = 0; i < initials.length; i++) {\n            const initial = initials[i];\n            const sortOpt = sortBy.find(s => s.name.charCodeAt(0) === initial)!;\n\n            // if matched, decode the enabled and reverse info from the binary\n            sortOpt.enabled = Boolean(sortBits & mask);\n            mask <<= 1;\n\n            sortOpt.reverse = Boolean(sortBits & mask);\n            mask <<= 1;\n\n            sortOpt.weight = weights[i];\n\n            sortCopy.push(sortOpt);\n        }\n        filter.sortOptions.sortBy = sortCopy;\n        const { payload: schedule, level } = Schedule.fromJSON(Schedule.decompressJSON([ref]));\n        if (schedule && level !== 'warn') filter.refSchedule = schedule.All;\n        return filter.toJSON();\n    }\n\n    timeSlots: TimeSlot[] = [];\n    allowWaitlist = true;\n    allowClosed = true;\n    sortOptions = getDefaultOptions();\n    refSchedule: ScheduleAll = {};\n    readonly sortModes = [\n        {\n            mode: SortMode.combined,\n            title: 'Combined',\n            description: 'Combine all sorting options enabled and given them equal weight'\n        },\n        {\n            mode: SortMode.fallback,\n            title: 'Fallback',\n            description:\n                'Sort using the options on top first. If compare equal, sort using the next option.' +\n                ' You can drag the sorting options to change their order.'\n        }\n    ] as const;\n\n    get similarityEnabled() {\n        return Object.keys(this.refSchedule).length !== 0;\n    }\n\n    addTimeSlot() {\n        this.timeSlots.push([false, false, false, false, false, false, false, '', '']);\n    }\n    removeTimeSlot(n: number) {\n        this.timeSlots.splice(n, 1);\n    }\n\n    /**\n     * Preprocess the time filters and convert them to an array of event.\n     * returns null on parsing error\n     */\n    computeFilter(): NotiMsg<Event[]> {\n        const events: Event[] = [];\n\n        // no time slots => no time filter\n        if (!this.timeSlots.length)\n            return {\n                msg: 'no filters',\n                level: 'success',\n                payload: events\n            };\n\n        for (const time of this.timeSlots) {\n            let days = '';\n            for (let j = 0; j < 7; j++) {\n                if (time[j]) days += DAYS[j];\n            }\n\n            if (!days) continue;\n\n            const startTime = time[7].split(':');\n            const endTime = time[8].split(':');\n            if (\n                isNaN(+startTime[0]) ||\n                isNaN(+startTime[1]) ||\n                isNaN(+endTime[0]) ||\n                isNaN(+endTime[1])\n            ) {\n                return {\n                    msg: 'Invalid time input! Please check your filters.',\n                    level: 'error'\n                };\n            }\n            days += ' ' + to12hr(time[7]) + ' - ' + to12hr(time[8]);\n            events.push(new Event(days, false));\n        }\n\n        if (!events.length)\n            return {\n                msg: 'You need to select at least one day! Please check your filters.',\n                level: 'error'\n            };\n\n        return {\n            msg: 'success',\n            level: 'success',\n            payload: events\n        };\n    }\n\n    fromJSON(obj: Partial<FilterStateJSON>) {\n        const defaultVal = this.getDefault();\n        this.timeSlots = obj.timeSlots instanceof Array ? obj.timeSlots : defaultVal.timeSlots;\n        this.allowClosed =\n            typeof obj.allowClosed === 'boolean' ? obj.allowClosed : defaultVal.allowClosed;\n        this.allowWaitlist =\n            typeof obj.allowWaitlist === 'boolean' ? obj.allowWaitlist : defaultVal.allowWaitlist;\n        this.sortOptions = defaultVal.sortOptions.fromJSON(obj.sortOptions);\n\n        const { payload: schedule, level, msg } = Schedule.fromJSON({\n            All: obj.refSchedule || {},\n            events: []\n        });\n        if (level === 'warn')\n            noti.warn(\n                'Warning: Reference schedule used in sort by similarity is removed because <br>' +\n                    msg\n            );\n        this.refSchedule = schedule && level !== 'warn' ? schedule.All : defaultVal.refSchedule;\n    }\n\n    toJSON(): FilterStateJSON {\n        // exclude sort modes\n        const { sortModes, refSchedule: ref, ...others } = this;\n        const refSchedule = new Schedule(ref).toJSON().All;\n        return { refSchedule, ...others };\n    }\n\n    getDefault() {\n        return new FilterStore();\n    }\n}\n\nexport default new FilterStore();\n","/**\n * @module store\n * @author Hanzhi Zhou\n */\n\n/**\n *\n */\nimport { SearchMatch } from '@/models/Catalog';\nimport 'bootstrap';\nimport $ from 'jquery';\nimport Course from '../models/Course';\nimport Section from '../models/Section';\n\n/**\n * the modal module handles modal triggering\n */\nclass Modal {\n    section: Section | null = null;\n    course: Course | null = null;\n    url = '';\n    match: SearchMatch = [[], new Map()];\n\n    showSectionModal(section: Section) {\n        this.section = section;\n        $('#section-modal').modal();\n    }\n\n    showCourseModal(course: Course, match?: SearchMatch) {\n        this.course = course;\n        this.match = match || [[], new Map()];\n        $('#course-modal').modal();\n    }\n\n    showURLModal(url: string) {\n        this.url = url;\n        $('#url-modal').modal();\n    }\n}\n\nexport default new Modal();\n","/**\n * @module store\n */\n\n/**\n *\n */\nimport { StoreModule } from '.';\n\nexport interface PaletteState {\n    savedColors: { [x: string]: string };\n}\n\n/**\n * the palette module handles the customization of colors of courses and events\n * @author Hanzhi Zhou\n */\nexport class Palette implements StoreModule<PaletteState, PaletteState> {\n    public static compressJSON(obj: PaletteState) {\n        return obj.savedColors;\n    }\n    public static decompressJSON(obj: ReturnType<typeof Palette.compressJSON>) {\n        return { savedColors: obj };\n    }\n    public savedColors: { [x: string]: string } = {};\n\n    fromJSON(obj: PaletteState) {\n        this.savedColors = obj.savedColors || {};\n    }\n\n    getDefault() {\n        return new Palette();\n    }\n\n    toJSON() {\n        return this;\n    }\n}\n\nexport default new Palette();\n","/**\n * @module store\n */\n\n/**\n *\n */\nimport { SemesterJSON } from '@/models/Catalog';\nimport { SemesterStorage } from '.';\n\n/**\n * the profile class handles profiles adding, renaming and deleting\n * @note profile selection is handled in the [[Store]] class\n * because it also needs to manipulate other store modules\n * @author Hanzhi Zhou\n */\nclass Profile {\n    /**\n     * a reactive property. whenever changed, the `currentProfile` in the `localStorage` will be updated\n     * @see [[Store.c]]\n     */\n    current: string;\n    profiles: string[];\n\n    constructor() {\n        this.current = localStorage.getItem('currentProfile') || '';\n        this.profiles = JSON.parse(localStorage.getItem('profiles') || '[]');\n    }\n\n    /**\n     * initialize profile storage if it does not exist already\n     */\n    initProfiles(semesters: SemesterJSON[]) {\n        if (!semesters.length) return;\n\n        const name = localStorage.getItem('currentProfile');\n        const profiles = [];\n        if (!name) {\n            // backward compatibility\n            for (const sem of semesters.concat().reverse()) {\n                const oldData = localStorage.getItem(sem.id);\n                if (oldData) {\n                    let parsed: Partial<SemesterStorage> | null = null;\n                    try {\n                        parsed = JSON.parse(oldData);\n                    } catch (e) {\n                        console.error(e);\n                    }\n                    if (parsed) {\n                        parsed.name = sem.name;\n                        localStorage.removeItem(sem.id);\n                        localStorage.setItem(sem.name, JSON.stringify(parsed));\n                        profiles.push(sem.name);\n                    }\n                }\n            }\n\n            // latest semester\n            const latest = semesters[0].name;\n            if (!profiles.includes(latest)) profiles.push(latest);\n\n            this.current = latest;\n            this.profiles = profiles;\n        }\n    }\n\n    /**\n     * rename a profile.\n     * note that name duplication is not checked! This check is done in [[ExportView.finishEdit]]\n     * @param idx\n     * @param oldName\n     * @param newName\n     * @param raw\n     */\n    renameProfile(idx: number, oldName: string, newName: string, raw: string) {\n        if (oldName === this.current) this.current = newName;\n\n        const parsed = JSON.parse(raw);\n        parsed.name = newName;\n        localStorage.removeItem(oldName);\n        localStorage.setItem(newName, JSON.stringify(parsed));\n\n        // use splice for reactivity purpose\n        this.profiles.splice(idx, 1, newName);\n    }\n\n    /**\n     * delete a profile\n     * @param name\n     * @param idx\n     * @returns the name of the previous profile if the deleted profile is selected,\n     * returns undefined otherwise\n     */\n    deleteProfile(name: string, idx: number) {\n        this.profiles.splice(idx, 1);\n        localStorage.removeItem(name);\n        if (name === this.current) {\n            if (idx === this.profiles.length) {\n                return (this.current = this.profiles[idx - 1]);\n            } else {\n                return (this.current = this.profiles[idx]);\n            }\n        }\n    }\n\n    /**\n     * parse a profile from string, add it to the list of profiles and store it in localStorage\n     * @note you need to call loadProfile() manually if you set `sw` to `true`\n     * @param raw\n     * @param fallbackName the fallback name if the raw does not contain the name of the profile\n     * @param sw whether to switch to the newly added schedule\n     * by setting `current` to the name of the newly added profile\n     */\n    addProfile(raw: string, fallbackName: string, sw = true) {\n        const raw_data: SemesterStorage = JSON.parse(raw);\n        let profileName = raw_data.name || fallbackName;\n        const prevIdx = this.profiles.findIndex(p => p === profileName);\n        if (prevIdx !== -1) {\n            if (\n                !confirm(\n                    `A profile named ${profileName} already exists! Click confirm to overwrite, click cancel to keep both`\n                )\n            ) {\n                let idx = 2;\n                while (this.profiles.includes(`${profileName} (${idx})`)) idx++;\n                profileName = `${profileName} (${idx})`;\n\n                raw_data.name = profileName;\n                localStorage.setItem(profileName, JSON.stringify(raw_data));\n                this.profiles.push(profileName);\n            }\n        } else {\n            this.profiles.push(profileName);\n        }\n\n        if (!raw_data.name) {\n            // backward compatibility\n            raw_data.name = profileName;\n            localStorage.setItem(profileName, JSON.stringify(raw_data));\n        } else {\n            localStorage.setItem(profileName, raw);\n        }\n        if (sw) this.current = profileName;\n    }\n}\n\nexport default new Profile();\n","/**\n * @module store\n */\n\n/**\n *\n */\nimport { saveStatus, StoreModule } from '.';\nimport Schedule, { ScheduleJSON } from '../models/Schedule';\nimport noti from './notification';\nimport ScheduleEvaluator from '@/algorithm/ScheduleEvaluator';\n\ninterface ScheduleStateBase {\n    /**\n     * the index of the current schedule in the scheduleEvaluator.schedules array,\n     * only applicable when generated=true\n     */\n    currentScheduleIndex: number;\n    /**\n     * the index of the active proposed\n     */\n    proposedScheduleIndex: number;\n    /**\n     * The index of the proposed schedule corresponding to the generated schedules contained in\n     * `window.scheduleEvaluator`\n     */\n    cpIndex: number;\n    /**\n     * indicates whether the currently showing schedule is the generated schedule\n     */\n    generated: boolean;\n    /**\n     * the array of proposed schedules\n     */\n    proposedSchedules: any[];\n}\n\nexport interface ScheduleState extends ScheduleStateBase {\n    proposedSchedules: Schedule[];\n    /**\n     * currently rendered schedule\n     */\n    currentSchedule: Schedule;\n    /**\n     * total number of generated schedules, has the same value as\n     * `window.scheduleEvaluator.size()`\n     */\n    numGenerated: number;\n}\n\nexport interface ScheduleStateJSON extends ScheduleStateBase {\n    proposedSchedules: ScheduleJSON[];\n}\n\nexport interface ScheduleStore extends ScheduleState {}\n\n/**\n * the schedule module provides methods to manipulate schedules\n * @author Hanzhi Zhou\n */\nexport class ScheduleStore implements StoreModule<ScheduleState, ScheduleStateJSON> {\n    public static compressJSON(obj: ScheduleStateJSON) {\n        return [\n            obj.currentScheduleIndex,\n            obj.proposedScheduleIndex,\n            obj.cpIndex,\n            +obj.generated,\n            obj.proposedSchedules.map(s => Schedule.compressJSON(s))\n        ] as const;\n    }\n\n    public static decompressJSON(\n        obj: ReturnType<typeof ScheduleStore.compressJSON>\n    ): ScheduleStateJSON {\n        return {\n            currentScheduleIndex: obj[0],\n            proposedScheduleIndex: obj[1],\n            cpIndex: obj[2],\n            generated: Boolean(obj[3]),\n            proposedSchedules: obj[4].map(s => Schedule.decompressJSON(s))\n        };\n    }\n\n    constructor() {\n        Object.assign(this, this.getDefault());\n    }\n    /**\n     * the proposed schedule that is currently active\n     */\n    get proposedSchedule() {\n        return this.proposedSchedules[this.proposedScheduleIndex];\n    }\n    /**\n     * switch to next or previous proposed schedule. has bound checking.\n     */\n    switchProposed(index: number) {\n        if (index < this.proposedSchedules.length && index >= 0) {\n            this.proposedScheduleIndex = index;\n            this.switchSchedule(false);\n            saveStatus();\n        }\n    }\n    /**\n     * create a new empty schedule at the end of the proposedSchedules array and immediately switch to it\n     */\n    newProposed() {\n        this.proposedSchedules.push(new Schedule());\n        this.switchProposed(this.proposedSchedules.length - 1);\n        saveStatus();\n    }\n    /**\n     * copy the current schedule and append to the `proposedSchedules` array.\n     * Immediately switch to the newly copied schedule.\n     */\n    copyCurrent() {\n        const len = this.proposedSchedules.length;\n        this.proposedSchedules.push(this.proposedSchedule.copy());\n        this.switchProposed(len);\n        saveStatus();\n    }\n    /**\n     * delete the current proposed schedule, switch to the schedule after the deleted schedule.\n     * do nothing if this is the last proposed schedule\n     */\n    deleteProposed() {\n        if (this.proposedSchedules.length === 1) return;\n        const idx = this.proposedScheduleIndex;\n\n        if (!confirm(`Are you sure to delete schedule ${idx + 1}?`)) return;\n\n        // if the schedule to be deleted corresponds to generated schedules,\n        // this deletion invalidates the generated schedules immediately.\n        if (idx === this.cpIndex) {\n            window.scheduleEvaluator = new ScheduleEvaluator();\n            this.numGenerated = 0;\n            this.cpIndex = -1;\n        }\n        this.proposedSchedules.splice(idx, 1);\n        if (idx >= this.proposedSchedules.length) {\n            this.switchProposed(idx - 1);\n        } else {\n            this.switchProposed(idx);\n        }\n        saveStatus();\n    }\n    /**\n     * @param generated\n     * if **true**, try to switch to generated schedules if none of the following conditions are met,\n     * - there are no generated schedules\n     * - or the generated schedules do not correspond to the current schedule\n     *\n     * switch to current proposed schedule if **false**\n     */\n    switchSchedule(generated: boolean) {\n        if (generated) {\n            if (this.cpIndex === this.proposedScheduleIndex && this.numGenerated) {\n                this.generated = true;\n                this.switchPage(this.currentScheduleIndex);\n            }\n        } else {\n            this.generated = false;\n            this.currentSchedule = this.proposedSchedule;\n        }\n        saveStatus();\n    }\n\n    /**\n     * Switch to `idx` page\n     * assign `currentSchedule` with the generated schedule at index `idx`\n     * @param idx\n     */\n    switchPage(idx: number) {\n        if (this.numGenerated <= 0) return;\n        if (idx < 0) {\n            this.currentScheduleIndex = 0;\n        } else if (idx >= this.numGenerated) {\n            this.currentScheduleIndex = this.numGenerated - 1;\n        } else {\n            this.currentScheduleIndex = idx;\n        }\n        this.currentSchedule = window.scheduleEvaluator.getSchedule(this.currentScheduleIndex);\n        saveStatus();\n    }\n\n    /**\n     * clear the currently active schedules and its corresponding generated schedules, if applicable\n     */\n    clear() {\n        this.proposedSchedule.clean();\n        if (this.cpIndex === this.proposedScheduleIndex) {\n            this.cpIndex = -1;\n            window.scheduleEvaluator = new ScheduleEvaluator();\n            this.numGenerated = 0;\n        }\n        this.switchSchedule(false);\n        saveStatus();\n    }\n\n    fromJSON(obj: Partial<ScheduleStateJSON>) {\n        const defaultState = this.getDefault();\n\n        const proposed = obj.proposedSchedules;\n        if (proposed instanceof Array) {\n            this.proposedSchedules = proposed.map(x => {\n                const result = Schedule.fromJSON(x);\n                const temp = result.payload;\n                if (temp) {\n                    if (result.level === 'warn') noti.notify(result);\n                    return temp;\n                } else return new Schedule();\n            });\n        } else {\n            this.proposedSchedules = defaultState.proposedSchedules;\n        }\n\n        this.currentScheduleIndex =\n            typeof obj.currentScheduleIndex === 'number'\n                ? obj.currentScheduleIndex\n                : defaultState.currentScheduleIndex;\n\n        this.proposedScheduleIndex =\n            typeof obj.proposedScheduleIndex === 'number'\n                ? obj.proposedScheduleIndex\n                : defaultState.proposedScheduleIndex;\n\n        this.cpIndex = typeof obj.cpIndex === 'number' ? obj.cpIndex : defaultState.cpIndex;\n        this.generated =\n            typeof obj.generated === 'boolean' ? obj.generated : defaultState.generated;\n\n        this.numGenerated = 0;\n        saveStatus();\n    }\n\n    toJSON() {\n        // exclude numGenerated and currentSchedule\n        const { numGenerated, currentSchedule, ...others } = this;\n        return (others as any) as ScheduleStateJSON;\n    }\n\n    getDefault(): ScheduleState {\n        const currentSchedule = new Schedule();\n        return {\n            currentScheduleIndex: 0,\n            currentSchedule,\n            proposedSchedules: [currentSchedule],\n            proposedScheduleIndex: 0,\n            cpIndex: -1,\n            generated: false,\n            numGenerated: 0\n        };\n    }\n}\n\nexport default new ScheduleStore();\n","/**\n * @module data\n * @author Hanzhi Zhou\n * Script for loading and parsing the list of semesters from Lou's list\n */\n\n/**\n *\n */\nimport axios from 'axios';\nimport { getApi } from '.';\nimport { SemesterJSON } from '../models/Catalog';\nimport { semesterListExpirationTime } from '../models/Meta';\nimport Expirable from './Expirable';\nimport { fallback, loadFromCache } from './Loader';\n\ninterface SemesterListJSON extends Expirable {\n    semesterList: SemesterJSON[];\n}\n\n/**\n * Try to load semester list from localStorage. If it expires or does not exist,\n * load a fresh semester list from Lou's list and store it in localStorage.\n *\n * storage key: \"semesters\"\n */\nexport function loadSemesterList(count = 5) {\n    // load the cached list of semesters, if it exists\n    return fallback(\n        loadFromCache<SemesterJSON[], SemesterListJSON>(\n            'semesters',\n            () => requestSemesterList(count),\n            x => x.semesterList,\n            {\n                expireTime: semesterListExpirationTime\n            }\n        ),\n        {\n            succMsg: 'Semester list loaded',\n            errMsg: x => `Failed to fetch semester list: ${x}`,\n            warnMsg: x => `Failed to fetch semester list: ${x}. Old data is used`,\n            timeoutTime: 10000\n        }\n    );\n}\n\n/**\n * Fetch the list of semesters from Lou's list\n */\nexport async function requestSemesterList(count = 5): Promise<SemesterJSON[]> {\n    console.time('get semester list');\n    const response = await (window.location.host === 'plannable.org'\n        ? axios.get<string>(\n              `https://rabi.phys.virginia.edu/mySIS/CS2/index.php?time=${Math.random()}`\n          )\n        : axios.get<string>(`${getApi()}/data/Semester Data/index.html?time=${Math.random()}`));\n    console.timeEnd('get semester list');\n\n    const element = document.createElement('html');\n    element.innerHTML = response.data;\n    const options = element.getElementsByTagName('option');\n    const records: SemesterJSON[] = [];\n    for (let i = 0; i < Math.min(count, options.length); i++) {\n        const option = options[i];\n        const key = option.getAttribute('value');\n        if (key) {\n            const semesterId = key.substr(-4);\n            const html = option.innerHTML;\n            records.push({\n                id: semesterId,\n                name: html\n                    .split(' ')\n                    .splice(0, 2)\n                    .join(' ')\n            });\n        }\n    }\n\n    localStorage.setItem(\n        'semesters',\n        JSON.stringify({\n            modified: new Date().toJSON(),\n            semesterList: records\n        })\n    );\n\n    return records;\n}\n","// note: this is the description for the entire module.\n/**\n * models and data structures used across the website\n * @module models\n * @preferred\n */\n\n/**\n *\n */\nimport { RawAlgoCourse } from '@/algorithm';\nimport Course, { CourseMatch } from './Course';\nimport Schedule from './Schedule';\nimport Section, { SectionMatch } from './Section';\n/**\n * represents a semester\n */\nexport interface SemesterJSON {\n    /**\n     * semester id, e.g. `1198`\n     */\n    readonly id: string;\n    /**\n     * semester name, e.g. Fall 2019\n     */\n    readonly name: string;\n}\n\ninterface SearchWorker extends Worker {\n    onmessage(x: MessageEvent): void;\n    postMessage(x: [readonly Course[], readonly Section[]] | string): void;\n}\n/**\n * the match indices for a [[Course]]\n *\n * 0: the array of matches for the fields of this Course\n *\n * 1: the Map that maps [[Section.id]] to the array of matches for the fields of that section\n */\nexport type SearchMatch = [CourseMatch[], Map<number, SectionMatch[]>];\n\n/**\n * Catalog wraps the raw data of a semester, providing methods to access and search for courses/sections\n * @author Hanzhi Zhou\n */\nexport default class Catalog {\n    public worker?: SearchWorker;\n    public readonly courseDict: { readonly [courseKey: string]: Course };\n    public readonly courses: readonly Course[];\n    public readonly sections: readonly Section[];\n    /**\n     * @param semester the semester corresponding to the catalog stored in this object\n     * @param courseDict mapping from course key to course itself\n     * borrowing python's snake_case (not changed due to backward compatibility issues)\n     * @param modified\n     */\n    constructor(\n        public readonly semester: SemesterJSON,\n        data: ReturnType<Catalog['data']>,\n        public readonly modified: number\n    ) {\n        [this.courseDict, this.courses, this.sections] = data;\n    }\n\n    /**\n     * only for type reflection and testing\n     */\n    private data() {\n        return [this.courseDict, this.courses, this.sections] as const;\n    }\n\n    /**\n     * initialize the web worker for searching\n     */\n    public initWorker(): Promise<'ready'> {\n        if (!this.worker) {\n            const Worker = require('worker-loader!../workers/SearchWorker');\n            const worker: SearchWorker = new Worker();\n            const prom: Promise<'ready'> = new Promise(resolve => {\n                worker.onmessage = ({ data }) => {\n                    resolve(data);\n                };\n            });\n            worker.postMessage([this.courses, this.sections]);\n            this.worker = worker;\n            return prom;\n        }\n        return Promise.resolve('ready');\n    }\n\n    /**\n     * terminate the worker and free memory\n     */\n    public disposeWorker() {\n        if (this.worker) {\n            this.worker.terminate();\n            delete this.worker;\n        }\n    }\n\n    /**\n     * Get a Course associated with the given key\n     *\n     * you may specify a set of section indices so that you can\n     * only obtain a subset of the original course sections\n     */\n    public getCourse(key: string, sections?: Set<number> | -1) {\n        const course = this.courseDict[key];\n        if (!sections || sections === -1) return course;\n        else return course.getCourse([...sections]);\n    }\n\n    /**\n     * Get a Course associated with the given key and section id\n     */\n    public getSectionById(key: string, id: number) {\n        return this.courseDict[key].getSectionById(id);\n    }\n\n    public getSection(key: string, idx: number) {\n        return this.courseDict[key].sections[idx];\n    }\n\n    /**\n     * convert `cs11105` style key to `CS 1110 Lecture`\n     *\n     * convert key of an event (e.g. `MoFr 1:00PM - 2:00PM`) to its title\n     */\n    convertKey(key: string, schedule?: Schedule) {\n        const course = this.courseDict[key];\n        if (course) return course.displayName;\n        else if (schedule) {\n            const event = schedule.events.find(e => e.key === key);\n            if (event) return event.title === '' ? key : event.title;\n            else return key;\n        }\n    }\n\n    /**\n     * perform fuzzy search in the dedicated web worker\n     */\n    public fuzzySearch(query: string) {\n        const worker = this.worker;\n        if (!worker) return Promise.reject('Worker not initialized!');\n        const promise = new Promise((resolve, reject) => {\n            worker.onmessage = ({\n                data: [args, matches]\n            }: {\n                data: [RawAlgoCourse[], SearchMatch[]];\n            }) => resolve([args.map(x => this.getCourse(x[0], new Set(x[1]))), matches]);\n            worker.onerror = err => reject(err);\n        });\n        worker.postMessage(query);\n        return promise as Promise<[Course[], SearchMatch[]]>;\n    }\n\n    /**\n     * Perform a linear search in the catalog against\n     * course number, title, topic, professor name and description, in the order specified.\n     * @param query\n     * @param max_results\n     */\n    public search(query: string, max_results = 6): [Course[], SearchMatch[]] {\n        query = query\n            .trim()\n            .toLowerCase()\n            .split(/ +/) // remove redundant spaces\n            .join(' ');\n        const temp = query.split(' ');\n        /**\n         * is special search\n         */\n        const spec = query.startsWith(':') && temp.length > 1;\n        let field = '';\n        /**\n         * query no space\n         */\n        let queryNoSp: string;\n        if (spec) {\n            field = temp[0].substring(1);\n            queryNoSp = temp.slice(1).join('');\n            query = temp.slice(1).join(' ');\n        } else {\n            queryNoSp = temp.join('');\n        }\n\n        const results: Course[] = [];\n        const matches: SearchMatch[] = [];\n        const courses = this.courses;\n        const len = courses.length;\n\n        if (!spec || field === 'num' || field === 'key')\n            for (let i = 0; i < len; i++) {\n                this.searchKey(queryNoSp, courses[i], results, matches);\n                if (results.length >= max_results) return [results, matches];\n            }\n\n        if (!spec || field === 'title')\n            for (let i = 0; i < len; i++) {\n                this.searchField(query, 'title', courses[i], results, matches);\n                if (results.length >= max_results) return [results, matches];\n            }\n\n        if (!spec || field === 'topic')\n            for (let i = 0; i < len; i++) {\n                this.searchTopic(query, courses[i], results, matches);\n                if (results.length >= max_results) return [results, matches];\n            }\n\n        if (!spec || field === 'prof')\n            for (let i = 0; i < len; i++) {\n                this.searchProf(query, courses[i], results, matches);\n                if (results.length >= max_results) return [results, matches];\n            }\n\n        if (!spec || field === 'desc')\n            for (let i = 0; i < len; i++) {\n                this.searchField(query, 'description', courses[i], results, matches);\n                if (results.length >= max_results) return [results, matches];\n            }\n        return [results, matches];\n    }\n\n    private searchKey(\n        queryNoSp: string,\n        course: Course,\n        results: Course[],\n        matches: SearchMatch[]\n    ) {\n        const key = course.key;\n        const keyIdx = key.indexOf(queryNoSp);\n        // match with the course number\n        if (keyIdx !== -1) {\n            const deptLen = course.department.length;\n            const end = keyIdx + queryNoSp.length;\n            results.push(course);\n            matches.push([\n                [\n                    {\n                        match: 'key',\n                        start: keyIdx + +(keyIdx >= deptLen),\n                        end: end + +(end > deptLen)\n                    }\n                ],\n                new Map()\n            ]);\n        }\n    }\n\n    private searchField(\n        query: string,\n        field: 'title' | 'description',\n        course: Course,\n        results: Course[],\n        matches: SearchMatch[]\n    ) {\n        const target = course[field].toLowerCase();\n        const key = course.key;\n        const targetIdx = target.indexOf(query);\n        if (targetIdx !== -1) {\n            const prev = results.findIndex(x => x.key === key);\n            const match: CourseMatch = {\n                match: field,\n                start: targetIdx,\n                end: targetIdx + query.length\n            };\n            if (prev !== -1) {\n                matches[prev][0].push(match);\n            } else {\n                results.push(course);\n                matches.push([[match], new Map()]);\n            }\n        }\n    }\n\n    private searchTopic(query: string, course: Course, results: Course[], matches: SearchMatch[]) {\n        // check any topic/professor match. Select the sections which only match the topic/professor\n        const topicMatches = new Map<number, [SectionMatch]>();\n        for (const sec of course.sections) {\n            const topic = sec.topic;\n            const topicIdx = topic.toLowerCase().indexOf(query);\n            if (topicIdx !== -1) {\n                topicMatches.set(sec.id, [\n                    {\n                        match: 'topic',\n                        start: topicIdx,\n                        end: topicIdx + query.length\n                    }\n                ]);\n            }\n        }\n        if (topicMatches.size) this.appendToResult(course, topicMatches, results, matches);\n    }\n\n    private searchProf(query: string, course: Course, results: Course[], matches: SearchMatch[]) {\n        // check any topic/professor match. Select the sections which only match the topic/professor\n        const profMatches = new Map<number, [SectionMatch]>();\n        for (const sec of course.sections) {\n            const profs = sec.instructors.join(', ').toLowerCase();\n            const profIdx = profs.indexOf(query);\n            if (profIdx !== -1) {\n                profMatches.set(sec.id, [\n                    {\n                        match: 'instructors',\n                        start: profIdx,\n                        end: profIdx + query.length\n                    }\n                ]);\n            }\n        }\n        if (profMatches.size) this.appendToResult(course, profMatches, results, matches);\n    }\n\n    private appendToResult(\n        course: Course,\n        matches: Map<number, SectionMatch[]>,\n        results: Course[],\n        allMatches: SearchMatch[]\n    ) {\n        const prev = results.findIndex(x => x.key === course.key);\n        if (prev !== -1) {\n            results[prev] = course.getCourse([\n                ...new Set(course.ids.concat([...matches.keys()])) // merge sids and eliminate duplicates\n            ]);\n            // merge the section matches with the previously recorded section matches\n            const combSecMatches = allMatches[prev][1];\n            for (const [id, mats] of matches) {\n                const prevMats = combSecMatches.get(id);\n                if (prevMats) prevMats.push(...mats);\n                else combSecMatches.set(id, mats);\n            }\n        } else {\n            results.push(course.getCourse([...matches.keys()]));\n            allMatches.push([[], matches]);\n        }\n    }\n}\n","/**\n * @author Hanzhi Zhou\n * @module models\n */\n\nexport function getInstructors(meetings: readonly Meeting[]) {\n    const profs: string[] = [];\n    for (const meeting of meetings) {\n        const meetingProfs = meeting.instructor.split(', ');\n        for (const prof of meetingProfs) {\n            if (!profs.includes(prof)) profs.push(prof);\n        }\n    }\n    return profs;\n}\n\n/**\n * A meeting represents a specific meeting time \\w information about the instructor and location\n */\nexport default interface Meeting {\n    readonly instructor: string;\n    readonly days: string;\n    readonly room: string;\n}\n","/**\n * @module data\n * @author Hanzhi Zhou, Kaiying Shan\n * Script for loading the catalog for a given semester\n */\n\n/**\n *\n */\nimport CatalogDB, { SectionTableItem } from '@/database/CatalogDB';\nimport Section, { SectionFields, ValidFlag } from '@/models/Section';\nimport axios from 'axios';\nimport { parse } from 'papaparse';\nimport { stringify } from 'querystring';\nimport { getApi } from '.';\nimport Catalog, { SemesterJSON } from '../models/Catalog';\n\nimport Course from '@/models/Course';\nimport Meeting, { getInstructors } from '@/models/Meeting';\nimport { CourseType, semesterDataExpirationTime, TYPES_PARSE } from '../models/Meta';\nimport { cancelablePromise, CancelablePromise, parseDate } from '../utils';\n\ntype SectionPropertyDescriptors = {\n    [x in keyof SectionFields]: TypedPropertyDescriptor<Section[x]>;\n};\n\n/**\n * Try to load semester data from `localStorage`. If data expires/does not exist, fetch a fresh\n * set of data from Lou's list and save to `localStorage`.\n *\n * storage key: 1198data\n *\n * @param semester the semester to load data\n * @param force force update\n */\n\nexport async function loadSemesterData(\n    semester: SemesterJSON,\n    force = false\n): Promise<{\n    new: CancelablePromise<Catalog>;\n    old?: Catalog;\n}> {\n    const db = new CatalogDB(semester);\n    if (!(await db.empty())) {\n        const time = await db.timestamp();\n        if (force || Date.now() - time > semesterDataExpirationTime) {\n            // send the request first, then fetch the local data\n            const newData = cancelablePromise(requestSemesterData(semester, db));\n            return {\n                new: newData,\n                old: new Catalog(semester, await retrieveFromDB(db), time)\n            };\n        } else {\n            return {\n                new: cancelablePromise(\n                    retrieveFromDB(db).then(data => new Catalog(semester, data, time))\n                )\n            };\n        }\n    } else {\n        return {\n            new: cancelablePromise(requestSemesterData(semester, db))\n        };\n    }\n}\n\nexport async function requestSemesterData(semester: SemesterJSON, db?: CatalogDB) {\n    console.time(`request semester ${semester.name} data`);\n\n    const res = await (window.location.host === 'plannable.org' // Running on GitHub pages (primary address)?\n        ? axios.post<string>(\n              `https://rabi.phys.virginia.edu/mySIS/CS2/deliverData.php`, // yes\n              stringify({\n                  Semester: semester.id,\n                  Group: 'CS',\n                  Description: 'Yes',\n                  submit: 'Submit Data Request',\n                  Extended: 'Yes'\n              })\n          ) // use the mirror/local dev server\n        : axios.get<string>(\n              `${getApi()}/data/Semester%20Data/CS${semester.id}Data.csv?time=${Math.random()}`\n          ));\n    console.timeEnd(`request semester ${semester.name} data`);\n    return new Catalog(\n        semester,\n        parseSemesterData(\n            parse(res.data, {\n                skipEmptyLines: true,\n                header: false\n            }).data,\n            db\n        ),\n        Date.now()\n    );\n}\n\nexport function parseSemesterData(rawData: string[][], db?: CatalogDB) {\n    console.time('parse semester data');\n\n    const CLASS_TYPES = TYPES_PARSE;\n    const courseDict: { [x: string]: Course } = Object.create(null);\n    const allSections: Section[] = [];\n    for (let j = 1; j < rawData.length; j++) {\n        const data = rawData[j];\n\n        // todo: robust data validation\n        const type = CLASS_TYPES[data[4] as CourseType];\n        const key = (data[1] + data[2] + type).toLowerCase();\n\n        const meetings: Meeting[] = [];\n        let date = data[6 + 3];\n        let valid: ValidFlag = 0;\n        for (let i = 0; i < 4; i++) {\n            const start = 6 + i * 4; // meeting information starts at index 6\n            const instructor = data[start],\n                days = data[start + 1],\n                room = data[start + 2];\n            if (instructor || days || room) {\n                const meetingDate = data[start + 3];\n                if (!date) date = meetingDate;\n                // inconsistent date\n                if (meetingDate && meetingDate !== date) valid |= 2;\n\n                // incomplete information\n                if (\n                    !instructor ||\n                    !room ||\n                    instructor === 'TBA' ||\n                    room === 'TBA' ||\n                    instructor === 'TBD' ||\n                    room === 'TBD'\n                )\n                    valid |= 1;\n\n                // unknown meeting time\n                if (!days || days === 'TBA' || days === 'TBD') {\n                    valid |= 4;\n                } else {\n                    const [, startT, , endT] = days.split(' ');\n                    // invalid meeting time\n                    if (startT === endT) valid |= 4;\n                }\n\n                // insertion sort\n                let k = 0;\n                for (; k < meetings.length; k++) {\n                    if (days < meetings[k].days) break;\n                }\n                meetings.splice(k, 0, {\n                    instructor,\n                    days,\n                    room\n                });\n            }\n        }\n        // unknown date\n        if (!date || date === 'TBD' || date === 'TBA') valid |= 8;\n        if (typeof date !== 'string') date = '';\n\n        let course = courseDict[key];\n        if (!course) {\n            course = courseDict[key] = Object.create(Course.prototype, {\n                department: {\n                    value: data[1],\n                    enumerable: true\n                },\n                number: {\n                    value: +data[2],\n                    enumerable: true\n                },\n                type: {\n                    value: data[4],\n                    enumerable: true\n                },\n                key: {\n                    value: key,\n                    enumerable: true\n                },\n                units: {\n                    value: data[5],\n                    enumerable: true\n                },\n                title: {\n                    value: data[22],\n                    enumerable: true\n                },\n                description: {\n                    value: data[28],\n                    enumerable: true\n                },\n                sections: {\n                    value: [] as Section[] // non-enumerable\n                },\n                ids: {\n                    value: [] as number[],\n                    enumerable: true\n                }\n            } as { [x in keyof Course]: TypedPropertyDescriptor<Course[x]> });\n        }\n\n        const section: Section = Object.create(Section.prototype, {\n            course: {\n                value: course // back ref to course, non-enumerable\n            },\n            key: {\n                value: key,\n                enumerable: true\n            },\n            id: {\n                value: +data[0],\n                enumerable: true\n            },\n            section: {\n                value: data[3],\n                enumerable: true\n            },\n            topic: {\n                value: data[23],\n                enumerable: true\n            },\n            status: {\n                value: data[24],\n                enumerable: true\n            },\n            enrollment: {\n                value: +data[25],\n                enumerable: true\n            },\n            enrollment_limit: {\n                value: +data[26],\n                enumerable: true\n            },\n            wait_list: {\n                value: +data[27],\n                enumerable: true\n            },\n            valid: {\n                value: valid,\n                enumerable: true\n            },\n            meetings: {\n                value: meetings,\n                enumerable: true\n            },\n            instructors: {\n                value: getInstructors(meetings),\n                enumerable: true\n            },\n            dateArray: {\n                value: parseDate(date),\n                enumerable: true\n            },\n            dates: {\n                value: date,\n                enumerable: true\n            }\n        } as SectionPropertyDescriptors);\n\n        course.ids.push(+data[0]);\n        course.sections.push(section);\n        allSections.push(section);\n    }\n    const allCourses = Object.values(courseDict);\n    console.timeEnd('parse semester data');\n    if (db) {\n        Promise.all([db.courses.clear(), db.sections.clear()])\n            .then(() => {\n                console.time('save to db');\n                return Promise.all([\n                    db.courses.bulkAdd(allCourses),\n                    db.sections.bulkAdd(allSections)\n                ]);\n            })\n            .then(() => {\n                db.saveTimeStamp();\n                console.timeEnd('save to db');\n            });\n    }\n    return [courseDict, allCourses, allSections] as const;\n}\n\nasync function retrieveFromDB(db: CatalogDB) {\n    const courseDict: { [x: string]: Course } = {};\n\n    console.time('get courses from db');\n    const [courses, secMap] = await Promise.all([\n        db.courses.toArray(),\n        db.sections.toArray(arr => {\n            const map = new Map<number, SectionTableItem>();\n            for (const item of arr) map.set(item.id, item);\n            return map;\n        })\n    ]);\n    console.timeEnd('get courses from db');\n\n    console.time('retrieve from db');\n    const allSections: Section[] = [];\n    for (const rawCourse of courses) {\n        // descriptors for this course\n        const desc = Object.getOwnPropertyDescriptors(rawCourse);\n        for (const key in desc) {\n            desc[key].configurable = false;\n            desc[key].writable = false;\n        }\n        const sections: Section[] = [];\n        desc.sections = {\n            value: sections // non-enumerable\n        };\n        const course: Course = Object.create(Course.prototype, desc);\n        for (const id of rawCourse.ids) {\n            const sec = secMap.get(id);\n            if (!sec) continue;\n            // descriptor for this section\n            const secDesc = Object.getOwnPropertyDescriptors(sec);\n            for (const key in secDesc) {\n                secDesc[key].configurable = false;\n                secDesc[key].writable = false;\n            }\n            // add missing property descriptors\n            secDesc.course = {\n                value: course // non-enumerable\n            };\n            const section = Object.create(Section.prototype, secDesc);\n            sections.push(section);\n            allSections.push(section);\n        }\n        courseDict[rawCourse.key] = course;\n    }\n    console.timeEnd('retrieve from db');\n    return [courseDict, Object.values(courseDict), allSections] as const;\n}\n","/**\n * @module store\n */\n\n/**\n *\n */\nimport { fallback } from '@/data/Loader';\nimport { loadSemesterList } from '@/data/SemesterListLoader';\nimport { CancelablePromise } from '@/utils';\nimport { loadSemesterData } from '../data/CatalogLoader';\nimport Catalog, { SemesterJSON } from '../models/Catalog';\n\nexport interface SemesterState {\n    [x: string]: any;\n    semesters: SemesterJSON[];\n    currentSemester: SemesterJSON | null;\n    lastUpdate: string;\n}\n\n/**\n * the semester module handles semester switching and data retrieval\n * @author Hanzhi Zhou\n */\nclass Semesters implements SemesterState {\n    semesters: SemesterJSON[] = [];\n    currentSemester: SemesterJSON | null = null;\n    lastUpdate = '';\n    pendingPromise: CancelablePromise<Catalog> | null = null;\n\n    /**\n     * load the list of semesters\n     */\n    async loadSemesters() {\n        const result = await loadSemesterList();\n        const semesters = result.payload;\n        if (semesters) {\n            this.semesters = semesters;\n        } else {\n            this.semesters = [];\n        }\n\n        return result;\n    }\n\n    /**\n     * cancel the pendingPromise\n     */\n    cancel() {\n        const p = this.pendingPromise;\n        if (p) p.cancel('Canceled');\n    }\n\n    /**\n     * DO NOT call this method. call [[Store.selectSemester]] instead.\n     */\n    async selectSemester(currentSemester: SemesterJSON, force: boolean = false) {\n        const temp = await loadSemesterData(currentSemester, force);\n\n        // allow one to cancel the pending promise if old data exists\n        if (temp.old) this.pendingPromise = temp.new;\n\n        const { name } = currentSemester;\n        const result = await fallback(temp, {\n            errMsg: x => `Failed to fetch ${name} data: ${x}`,\n            warnMsg: x => `Failed to fetch ${name} data: ${x}. Old data is used`,\n            succMsg: `Successfully loaded ${name} data!`,\n            timeoutTime: 1500000\n        });\n        //  if the a catalog object is returned\n        if (result.payload) {\n            window.catalog = result.payload;\n            this.currentSemester = currentSemester;\n            this.lastUpdate = new Date(window.catalog.modified).toLocaleString();\n        } else {\n            this.currentSemester = null;\n            this.lastUpdate = '';\n        }\n        this.pendingPromise = null;\n        return result;\n    }\n}\n\nexport default new Semesters();\n","/**\n * @module store\n */\n\n/**\n *\n */\nimport Event from '../models/Event';\n\ninterface Sidebars {\n    showSelectClass: boolean;\n    showEvent: boolean;\n    showFilter: boolean;\n    showSetting: boolean;\n    showExport: boolean;\n    showSelectColor: boolean;\n    showInfo: boolean;\n    showExternal: boolean;\n    showCompare: boolean;\n    showLog: boolean;\n    showFuzzy: boolean;\n}\n\ninterface SidebarStatus extends Sidebars {\n    [key: string]: boolean;\n}\n\n/**\n * the status module stores the temporary statuses of the webpage. We do not save these statuses to localStorage\n * @author Hanzhi Zhou, Zichao Hu\n */\nclass Status {\n    get sideBarActive() {\n        for (const key in this.sideBar) {\n            if (this.sideBar[key]) return true;\n        }\n        return false;\n    }\n    /**\n     * **sidebar display status**\n     * show the specific sidebar when true, and hide when all false\n     */\n    sideBar: SidebarStatus = {\n        showSelectClass: window.screen.width / window.screen.height > 1 ? true : false,\n        showFuzzy: false,\n        showEvent: false,\n        showFilter: false,\n        showSetting: false,\n        showExport: false,\n        showSelectColor: false,\n        showInfo: false,\n        showExternal: false,\n        showLog: false,\n        showCompare: false\n    };\n\n    /**\n     * indicates whether some IO action is running in the background, such as semester data update\n     *\n     * no need to assign to this value when doing computationally expensive operations\n     */\n    loading = false;\n    /**\n     * the event to edit\n     */\n    eventToEdit: Event | null = null;\n\n    isMobile = window.screen.width < 600;\n    /**\n     * fold sidebar if on mobile\n     */\n    foldView() {\n        if (this.isMobile) this.foldAllSideBar();\n    }\n\n    switchSideBar(key: keyof Sidebars) {\n        for (const other in this.sideBar) {\n            if (other !== key) this.sideBar[other] = false;\n        }\n        this.sideBar[key] = !this.sideBar[key];\n    }\n\n    foldAllSideBar() {\n        for (const bar in this.sideBar) {\n            this.sideBar[bar] = false;\n        }\n    }\n}\n\nexport default new Status();\n","/**\n * @module store\n */\n\n/**\n *\n */\nimport lz from 'lz-string';\n\nimport Expirable from '@/data/Expirable';\nimport { Component, Vue } from 'vue-property-decorator';\nimport ScheduleEvaluator, { EvaluatorOptions } from '../algorithm/ScheduleEvaluator';\nimport ScheduleGenerator, { GeneratorOptions } from '../algorithm/ScheduleGenerator';\nimport { SemesterJSON } from '../models/Catalog';\nimport { CourseStatus } from '../models/Meta';\nimport Schedule, { ScheduleJSON } from '../models/Schedule';\nimport display, { Display, DisplayState } from './display';\nimport filter, { FilterStateJSON, FilterStore, TimeSlot } from './filter';\nimport modal from './modal';\nimport noti from './notification';\nimport palette, { Palette, PaletteState } from './palette';\nimport profile from './profile';\nimport schedule, { ScheduleStateJSON, ScheduleStore } from './schedule';\nimport semester, { SemesterState } from './semester';\nimport status from './status';\n\nexport interface SemesterStorage extends Expirable {\n    name: string;\n    currentSemester: SemesterJSON;\n    display: DisplayState;\n    filter: FilterStateJSON;\n    schedule: ScheduleStateJSON;\n    palette: PaletteState;\n}\n\ninterface LegacyScheduleJSON extends ScheduleJSON {\n    savedColors: { [x: string]: string };\n}\n\n/**\n * the storage format prior to v4.5\n */\ninterface LegacyStorage {\n    currentSemester: SemesterJSON;\n    currentScheduleIndex: number;\n    proposedScheduleIndex: number;\n    cpIndex: number;\n    currentSchedule: LegacyScheduleJSON;\n    proposedSchedules: LegacyScheduleJSON[];\n\n    display: DisplayState;\n\n    timeSlots: TimeSlot[];\n    allowWaitlist: boolean;\n    allowClosed: boolean;\n    sortOptions: EvaluatorOptions;\n}\n\n/**\n * the storage format prior to v3.0\n */\ninterface AncientStorage extends DisplayState {\n    currentSemester: SemesterJSON;\n    currentScheduleIndex: number;\n    currentSchedule: LegacyScheduleJSON;\n    proposedSchedule: LegacyScheduleJSON;\n\n    timeSlots: TimeSlot[];\n    allowWaitlist: boolean;\n    allowClosed: boolean;\n    sortOptions: EvaluatorOptions;\n}\n\ninterface StorageItem<State, JSONState> {\n    /**\n     * a method to obtain the default state\n     */\n    getDefault(): State;\n    /**\n     * serialize `this` (the store module) to its JSON representation\n     */\n    toJSON(this: StoreModule<State, JSONState>): JSONState;\n    /**\n     * recover the state from its JSON representation\n     *\n     * An object that has all or some properties of the `JSONState` will be passed as a parameter.\n     * The missing properties will be assigned with the value returned by the `getDefault` method.\n     */\n    fromJSON(obj: Partial<JSONState>): void;\n}\n\n/**\n * A Store Module must have\n * @typeparam State\n * @typeparam JSONState the JSON representation of its state\n *\n * and the three methods defined by [[StorageItem]]\n */\nexport type StoreModule<State, JSONState> = State & StorageItem<State, JSONState>;\n\nfunction isAncient(parsed: any): parsed is AncientStorage {\n    return !!parsed.currentSchedule && !!parsed.proposedSchedule;\n}\n\nfunction isLegacy(parsed: any): parsed is LegacyStorage {\n    return !!parsed.currentSchedule && !!parsed.proposedSchedules;\n}\n\nexport function saveStatus() {\n    const { currentSemester } = semester;\n    if (!currentSemester) return;\n    const name = profile.current;\n\n    const obj: SemesterStorage = {\n        name,\n        modified: new Date().toJSON(),\n        currentSemester,\n        display,\n        filter: filter.toJSON(),\n        schedule: schedule.toJSON(),\n        palette\n    };\n\n    localStorage.setItem(name, JSON.stringify(obj));\n    console.log('status saved');\n}\n\ninterface CompareCandidate {\n    schedule: Schedule;\n    profileName: string;\n    /**\n     * index of the generated schedule\n     */\n    index: number;\n    /**\n     * index of proposed schedule\n     */\n    pIdx: number;\n    color: string;\n}\n\nconst compare: CompareCandidate[] = [];\n/**\n * The Store module provides methods to save, retrieve and manipulate store.\n * It gathers all children modules and store their references in a single store class, which is provided as a Mixin\n * @noInheritDoc\n */\n@Component\nexport default class Store extends Vue {\n    filter = filter;\n    display = display;\n    status = status;\n    modal = modal;\n    schedule = schedule;\n    semester = semester;\n    palette = palette;\n    noti = noti;\n    profile = profile;\n    compare = compare;\n\n    /**\n     * save all store modules to localStorage\n     */\n    saveStatus() {\n        saveStatus();\n    }\n\n    /**\n     * given the profile name, switch to the profile's semester.\n     * recover all store modules' states from the localStorage,\n     * and assign a correct Catalog object to `window.catalog`,\n     * @param name\n     * @param force force update current semester data and load the given profile\n     */\n    async loadProfile(name?: string, force = false) {\n        if (!this.semester.semesters.length) {\n            this.noti.error('No semester data! Please refresh this page');\n            return;\n        }\n        if (!name) name = this.profile.current;\n\n        window.scheduleEvaluator = new ScheduleEvaluator();\n        let parsed: Partial<AncientStorage> | Partial<LegacyStorage> | Partial<SemesterState> = {};\n        const data = localStorage.getItem(name);\n        if (data) {\n            try {\n                parsed = JSON.parse(data);\n            } catch (e) {\n                console.error(e);\n            }\n        }\n\n        // do not re-select current semester if it is already selected and this is not a force-update\n        if (\n            parsed.currentSemester &&\n            this.semester.currentSemester &&\n            parsed.currentSemester.id === this.semester.currentSemester.id &&\n            !force\n        ) {\n            console.warn('Semester data loading aborted');\n        } else {\n            const msg = await this.semester.selectSemester(\n                parsed.currentSemester || this.semester.semesters[0],\n                force\n            );\n            this.noti.notify(msg);\n            if (!msg.payload) return;\n        }\n\n        if (isAncient(parsed)) {\n            const ancient: AncientStorage = parsed || {};\n            const oldStore: Partial<LegacyStorage> & AncientStorage = ancient;\n            oldStore.proposedScheduleIndex = 0;\n            oldStore.proposedSchedules = [oldStore.proposedSchedule];\n            this.display.fromJSON(oldStore);\n            this.filter.fromJSON(oldStore);\n            this.schedule.fromJSON(oldStore);\n            this.palette.fromJSON(oldStore.currentSchedule || { savedColors: {} });\n        } else if (isLegacy(parsed)) {\n            this.display.fromJSON(parsed.display || {});\n            this.filter.fromJSON(parsed);\n            this.schedule.fromJSON(parsed);\n            this.palette.fromJSON(parsed.currentSchedule || { savedColors: {} });\n        } else {\n            const newStore = parsed as SemesterStorage;\n            this.display.fromJSON(newStore.display || {});\n            this.filter.fromJSON(newStore.filter || {});\n            this.schedule.fromJSON(newStore.schedule || {});\n            this.palette.fromJSON(newStore.palette || {});\n        }\n        if (this.schedule.generated) this.generateSchedules();\n        else this.schedule.switchSchedule(false);\n    }\n\n    /**\n     * @returns true if the current combination of sort options is valid, false otherwise\n     */\n    validateSortOptions() {\n        if (!Object.values(this.filter.sortOptions.sortBy).some(x => x.enabled)) {\n            this.noti.error('Filter: You must have at least one sort option!');\n            return false;\n        } else if (\n            Object.values(this.filter.sortOptions.sortBy).some(\n                x => x.name === 'distance' && x.enabled\n            ) &&\n            (!window.buildingSearcher || !window.timeMatrix)\n        ) {\n            this.noti.error(\n                'Filter: Building list fails to load. Please disable \"walking distance\"'\n            );\n            return false;\n        }\n        return true;\n    }\n\n    /**\n     * convert filter to generator options\n     */\n    getGeneratorOptions(): GeneratorOptions | void {\n        const filteredStatus: CourseStatus[] = [];\n        if (!this.filter.allowWaitlist) filteredStatus.push('Wait List');\n        if (!this.filter.allowClosed) filteredStatus.push('Closed');\n\n        const msg = this.filter.computeFilter();\n        const timeSlots = msg.payload;\n        if (!timeSlots) return this.noti.notify(msg);\n\n        if (!this.validateSortOptions()) return;\n\n        return {\n            timeSlots,\n            status: filteredStatus,\n            sortOptions: this.filter.sortOptions,\n            combineSections: this.display.combineSections,\n            maxNumSchedules: this.display.maxNumSchedules\n        };\n    }\n\n    generateSchedules() {\n        this.status.foldView();\n\n        if (this.schedule.proposedSchedule.empty())\n            return this.noti.warn(`There are no classes in your schedule!`) as undefined;\n        const options = this.getGeneratorOptions();\n        if (!options) return;\n\n        const generator = new ScheduleGenerator(window.catalog, window.timeMatrix, options);\n\n        console.time('schedule generation');\n        const msg = generator.getSchedules(\n            this.schedule.proposedSchedule,\n            true,\n            this.filter.refSchedule\n        );\n        console.timeEnd('schedule generation');\n\n        this.noti.notify(msg, 'info', 3, true);\n        const evaluator = msg.payload;\n        if (evaluator) {\n            window.scheduleEvaluator = evaluator;\n            this.schedule.numGenerated = evaluator.size;\n            this.schedule.cpIndex = this.schedule.proposedScheduleIndex;\n            this.schedule.switchSchedule(true);\n        } else {\n            window.scheduleEvaluator = new ScheduleEvaluator();\n            this.schedule.switchSchedule(false);\n            this.schedule.cpIndex = -1;\n            this.schedule.numGenerated = 0;\n        }\n        return evaluator;\n    }\n\n    /**\n     * Select a semester and fetch all its associated data,\n     * note that the first profile corresponding to the target semester will be loaded.\n     *\n     * @param target the semester to switch to\n     * @param force whether to force-update semester data\n     */\n    async selectSemester(target: SemesterJSON | null | undefined, force = false) {\n        if (!this.semester.semesters.length) {\n            this.noti.error('No semester data! Please refresh this page');\n            return;\n        }\n        this.status.loading = true;\n        if (!target) target = this.semester.semesters[0];\n\n        if (force) {\n            this.noti.info(`Updating ${target.name} data...`, 3600, true);\n            await this.loadProfile(this.profile.current, force);\n            this.status.loading = false;\n            return;\n        } else if (\n            this.semester.currentSemester &&\n            target.id === this.semester.currentSemester.id\n        ) {\n            this.status.loading = false;\n            return;\n        }\n\n        const { profiles } = this.profile;\n        let parsed: Partial<SemesterStorage> = {};\n        let parsedLatest = -Infinity;\n\n        // find the latest profile corresponding to the semester to be switched\n        for (const profileName of profiles) {\n            const data = localStorage.getItem(profileName);\n            if (data) {\n                const temp: Partial<SemesterStorage> = JSON.parse(data);\n                const { currentSemester, modified } = temp;\n                if (currentSemester && currentSemester.id === target.id) {\n                    if (modified) {\n                        const time = new Date(modified).getTime();\n                        if (time > parsedLatest) {\n                            parsed = temp;\n                            parsedLatest = time;\n                        }\n                    } else {\n                        if (!parsed.currentSemester) parsed = temp;\n                    }\n                }\n            }\n        }\n        // no profile for target semester exists. let's create one\n        if (!parsed.currentSemester) {\n            const { name } = target;\n            if (profiles.includes(name)) {\n                if (\n                    !confirm(\n                        `You already have a profile named ${name}. However, it does not correspond to the ${name} semester. Click Ok to overwrite, click Cancel to keep both.`\n                    )\n                ) {\n                    let idx = 2;\n                    while (profiles.includes(`${name} (${idx})`)) idx++;\n                    profiles.push(`${name} (${idx})`);\n                }\n            } else {\n                profiles.push(name);\n            }\n            parsed.currentSemester = target;\n            this.profile.current = parsed.name = name;\n            localStorage.setItem(name, JSON.stringify(parsed));\n        } else {\n            this.profile.current = parsed.name!;\n        }\n        await this.loadProfile();\n        this.status.loading = false;\n    }\n}\n\n/**\n * See [[parseFromURL]]\n * convert JSON string to tuple of tuples to reduce the num of chars\n * @author Zichao Hu\n * @param jsonString\n */\nexport function compressJSON(jsonString: string) {\n    const { name, modified, currentSemester, display, filter, schedule, palette } = JSON.parse(\n        jsonString\n    ) as SemesterStorage;\n\n    return [\n        name,\n        modified,\n        currentSemester.id,\n        currentSemester.name,\n        Display.compressJSON(display),\n        FilterStore.compressJSON(filter),\n        ScheduleStore.compressJSON(schedule),\n        Palette.compressJSON(palette)\n    ] as const;\n}\n\n/**\n * @author Zichao Hu, Hanzhi Zhou\n * @param config\n * @note JSON decompression requires the catalog of the semester to be pre-loaded,\n * because the reference schedule conversion in filter requires it\n */\nexport async function parseFromURL(config: string): Promise<SemesterStorage> {\n    // get URL and convert to JSON\n    const data: ReturnType<typeof compressJSON> = JSON.parse(\n        lz.decompressFromEncodedURIComponent(config.trim())\n    );\n    const currentSemester = { id: data[2], name: data[3] };\n    await semester.selectSemester(currentSemester);\n    return {\n        name: data[0],\n        modified: data[1],\n        currentSemester,\n        display: Display.decompressJSON(data[4]),\n        filter: FilterStore.decompressJSON(data[5]),\n        schedule: ScheduleStore.decompressJSON(data[6]),\n        palette: Palette.decompressJSON(data[7])\n    };\n}\n","/**\n * @module store\n */\n\n/**\n *\n */\nimport Schedule from '@/models/Schedule';\nimport { Component, Watch } from 'vue-property-decorator';\nimport Store from './store';\n/**\n * the watch factory defines some watchers on the members in `Store`.\n * these watchers are defined outside of the `Store` class because they should only be registered once.\n * @author Hanzhi Zhou\n */\n@Component\nexport default class WatchFactory extends Store {\n    @Watch('status.loading')\n    loadingWatch() {\n        if (this.status.loading) {\n            if (this.noti.empty()) {\n                this.noti.info('Loading...');\n            }\n        } else {\n            if (this.noti.msg === 'Loading...') {\n                this.noti.clear();\n            }\n        }\n    }\n\n    @Watch('display.multiSelect', { immediate: true })\n    private w0() {\n        Schedule.options.multiSelect = this.display.multiSelect;\n        this.schedule.currentSchedule.computeSchedule(false, 100);\n    }\n\n    @Watch('display.combineSections', { immediate: true })\n    private a() {\n        Schedule.options.combineSections = this.display.combineSections;\n        this.schedule.currentSchedule.computeSchedule(false, 100);\n    }\n\n    @Watch('palette.savedColors', { deep: true, immediate: true })\n    private b() {\n        Schedule.savedColors = this.palette.savedColors;\n        this.schedule.currentSchedule.computeSchedule(false, 100);\n    }\n\n    @Watch('profile.current')\n    private c() {\n        localStorage.setItem('currentProfile', this.profile.current);\n    }\n\n    @Watch('profile.profiles', { deep: true })\n    private d() {\n        localStorage.setItem('profiles', JSON.stringify(this.profile.profiles));\n    }\n\n    // @Watch('schedule', { deep: true })\n    // private w1() {\n    //     this.saveStatus();\n    // }\n\n    @Watch('display', { deep: true })\n    private w2() {\n        this.saveStatus();\n    }\n\n    @Watch('filter', { deep: true })\n    private w3() {\n        this.saveStatus();\n    }\n\n    @Watch('palette', { deep: true })\n    private w4() {\n        this.saveStatus();\n    }\n}\n","/**\n * The Store module provides methods to save, retrieve and manipulate store.\n * It gathers all children modules and store their references in a single store class,\n * which is provided as a Mixin\n * @module store\n * @preferred\n */\n\n/**\n *\n */\nimport Store from './store';\nexport default Store;\nexport * from './store';\nimport WatchFactory from './watch';\ndeclare global {\n    interface Window {\n        watchers: WatchFactory;\n    }\n}\n// just need to instantiate it\nwindow.watchers = new WatchFactory();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainContent.vue?vue&type=style&index=0&id=728a3146&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainContent.vue?vue&type=style&index=0&id=728a3146&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Expand.vue?vue&type=style&index=0&id=e47a4968&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Expand.vue?vue&type=style&index=0&id=e47a4968&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseModal.vue?vue&type=style&index=0&id=33a697cb&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseModal.vue?vue&type=style&index=0&id=33a697cb&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseBlock.vue?vue&type=style&index=0&id=ab5d4176&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseBlock.vue?vue&type=style&index=0&id=ab5d4176&scoped=true&lang=css&\"","module.exports = vuedraggable;","/**\n * the graph model and algorithm used primarily for schedule rendering\n * @author Hanzhi Zhou\n * @module algorithm\n */\n\n/**\n * The vertex of the graph.\n * It holds many attributes that are modified **in-place** when running a graph algorithm\n */\nexport class Vertex<T> {\n    public visited = false;\n    /**\n     * depth of the node relative to the root\n     */\n    public depth = 0;\n    /**\n     * the maximum depth of the path starting from the root that the current node is on\n     */\n    public pathDepth = 0;\n    /**\n     * @param val the value contained in this node\n     */\n    constructor(public readonly val: T) {}\n}\n\n/**\n * adjacency list representation of a graph\n */\nexport type Graph<T> = Map<Vertex<T>, Vertex<T>[]>;\n\n/**\n * perform depth first search to find a connected component\n * @note the start node is not marked as visited\n * @returns node indices belonging to the connected component found\n */\nexport function DFS(start: number, adjList: number[][], visited: Uint8Array): number[] {\n    const neighbors = adjList[start];\n    const componentNodes = [start];\n    for (const i of neighbors) {\n        if (!visited[i]) {\n            visited[i] = 1;\n            componentNodes.push(...DFS(i, adjList, visited));\n        }\n    }\n    return componentNodes;\n}\n","/**\n * Utilities for graph coloring, used for rendering conflicting courses/events\n * @author Hanzhi Zhou, Kaiying Cat\n * @module algorithm\n */\n\n/**\n *\n */\nimport { Graph, Vertex } from './Graph';\n\n/**\n * An exact graph coloring algorithm using backtracking\n *\n * @remark It will give up if the number of function calls exceed 200000\n * @requires optimization\n * @param graph\n * @param colors array of colors of the vertices\n * @param colorOrder A good initial ordering of vertices, probably given by some heuristic.\n * @param opCount variable for counting the total number of function calls\n * @param numColors number of colors\n * @param v the number of vertex already colored\n */\nexport function graphColorBackTrack(\n    graph: Int16Array[] | number[][],\n    colors: Int16Array,\n    colorOrder: Int16Array,\n    opCount: Int32Array,\n    numColors: number,\n    v: number\n) {\n    if (v === graph.length) return true;\n    if (opCount[0]++ > 200000) {\n        // console.warn('break at', numColors);\n        return false;\n    }\n    const vertex = colorOrder[v];\n    const neighbors = graph[vertex];\n\n    outer: for (let color = 0; color < numColors; color++) {\n        for (let i = 0; i < neighbors.length; i++) {\n            if (colors[neighbors[i]] === color) continue outer;\n        }\n\n        colors[vertex] = color;\n        if (graphColorBackTrack(graph, colors, colorOrder, opCount, numColors, v + 1)) return true;\n        colors[vertex] = -1;\n    }\n    return false;\n}\n\n/**\n * Greedily color a graph using degree of saturation algorithm\n * @param adjList\n * @param colors an array used to record the colors of nodes. colors start from 0.\n * length must equal to the length of adjList.\n * @param colorOrder an array used to record the order of coloring\n */\nexport function dsatur(adjList: number[][], colors: Int16Array, colorOrder: Int16Array): number {\n    colors.fill(-1);\n    const numNodes = adjList.length;\n    if (!numNodes) return 0;\n\n    // keep track of the saturation\n    const saturations = adjList.map(() => new Set<number>());\n\n    // first node is just the one of the maximum degree\n    let current = 0,\n        maxDegree = -1;\n    for (let i = 0; i < numNodes; i++) {\n        const degree = adjList[i].length;\n        if (degree > maxDegree) {\n            maxDegree = degree;\n            current = i;\n        }\n    }\n\n    let neighbors = adjList[current];\n    for (const v of neighbors) saturations[v].add(0);\n\n    colors[current] = 0;\n    colorOrder[0] = current;\n    let numColors = 0;\n\n    for (let i = 1; i < numNodes; i++) {\n        // find the next node to be colored:\n        // find the node of the maximum degree of saturation and break ties by degrees\n        let maxSat = -1;\n        for (let j = 0; j < numNodes; j++) {\n            if (colors[j] === -1) {\n                const sat = saturations[j].size;\n                if (sat > maxSat) {\n                    current = j;\n                    maxSat = sat;\n                } else if (sat === maxSat) {\n                    if (adjList[j].length > adjList[current].length) current = j;\n                }\n            }\n        }\n\n        neighbors = adjList[current];\n        outer: for (let color = 0; color < 19260817; color++) {\n            // find a available color\n            for (const v of neighbors) if (colors[v] === color) continue outer;\n\n            // update the saturation degrees of the neighbors\n            colors[current] = color;\n            if (color > numColors) numColors = color;\n            colorOrder[i] = current;\n            for (const v of neighbors) saturations[v].add(color);\n            break;\n        }\n    }\n    return numColors + 1;\n}\n\n/**\n * the entry point of the backtrack graph coloring\n * @see [[graphColorBackTrack]]\n * @param adjList adjacency list representation of the graph\n * @param colors an array used to record the colors of nodes. colors start from 0.\n * length must equal to the length of adjList.\n * @returns total number of colors\n */\nexport function graphColoringExact(adjList: number[][], colors: Int16Array, fallback = true) {\n    // get a good initial color order using the DSATUR algorithm\n    const dsaturOrder = colors.slice();\n    colors.fill(-1);\n    let numColors = dsatur(adjList, colors, dsaturOrder);\n\n    // fallback to dsatur algorithm if too many nodes\n    if (fallback && adjList.length >= 40) {\n        console.warn('Fallback to dsatur');\n        return numColors;\n    }\n    colors.fill(-1);\n    const opCount = new Int32Array(1);\n    let totalCount = 0;\n    numColors = 1;\n    for (; numColors < 19260817; numColors++) {\n        if (graphColorBackTrack(adjList, colors, dsaturOrder, opCount, numColors, 0)) break;\n\n        colors.fill(-1);\n        totalCount += opCount[0];\n        opCount[0] = 0;\n    }\n    // console.log('op count', totalCount);\n    // colorSpread(adjList, colors, numColors);\n    verifyColoring(adjList, colors);\n    return numColors;\n}\n\nfunction verifyColoring(adjList: number[][], colors: Int16Array) {\n    for (let i = 0; i < adjList.length; i++) {\n        const curCol = colors[i];\n        for (const adj of adjList[i]) {\n            if (curCol === colors[adj]) {\n                console.warn(i, 'and', adj, 'have the same color', curCol);\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\n/**\n * @requires optimization\n */\nexport function colorSpread(adjList: number[][], colors: Int16Array, numColors: number) {\n    // sort nodes with ascending number of conflicts\n    const rank = adjList\n        .map((x: number[], i) => [x.length, i])\n        .sort((a: number[], b: number[]) => a[0] - b[0])\n        .map(x => x[1]);\n    /**\n     * Records the nodes that correspond to each color\n     */\n    const col2nodes: number[][] = new Array(numColors);\n    for (let i = 0; i < col2nodes.length; i++) {\n        col2nodes[i] = [];\n    }\n    for (let i = 0; i < colors.length; i++) {\n        col2nodes[colors[i]].push(i);\n    }\n    for (let i = 0; i < rank.length; i++) {\n        const cur = rank[i]; // current node\n        let maxCol = -1; // original color\n        let maxLen = 0; // maximum number of colors that current block spreads\n        let curCol = maxCol; // current color\n        let curLen = maxLen; // current number of colors that current block spreads\n        let curColStart = maxCol; // the start of the spread of colors\n        let changed = false;\n        if (adjList[rank[i]].length === 0) continue;\n        /**\n         * This loop goes through each color to figure out which color would make the node\n         * spread the widest without conflicting any other nodes in the color and colors that\n         * it spreads\n         */\n        nextColor: for (let j = 0; j < col2nodes.length; j++) {\n            for (let k = 0; k < col2nodes[j].length; k++) {\n                if (adjList[cur].includes(col2nodes[j][k])) {\n                    continue nextColor;\n                }\n            }\n            if (j !== curCol + 1) {\n                curColStart = j;\n                curLen = 1;\n            } else {\n                curLen++;\n            }\n            curCol = j;\n            if (curLen > maxLen) {\n                maxLen = curLen;\n                maxCol = curColStart;\n                changed = true;\n            }\n        }\n        if (changed && maxLen > 1) {\n            /**\n             * Between the original color and the new color, there must be\n             * color(s) in which ALL of the nodes that have conflict with the\n             * current node have conflict with at least one nodes\n             * of of the nodes in the new color or the color that current node\n             * spreads\n             */\n            let flip = false;\n            const nodesAfter = col2nodes[maxCol];\n            const start = colors[cur] < maxCol ? colors[cur] + 1 : maxCol + 1;\n            const end = colors[cur] < maxCol ? maxCol : colors[cur];\n            for (let c = start; c < end; c++) {\n                const nodesBetween = col2nodes[c].filter(x => adjList[cur].includes(x));\n                if (nodesBetween.length > 1) {\n                    flip = false;\n                    break;\n                }\n                for (let j = 0; j < nodesBetween.length; j++) {\n                    for (let k = 0; k < nodesAfter.length; k++) {\n                        if (adjList[nodesAfter[k]].includes(nodesBetween[j])) {\n                            flip = true;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            if (flip) {\n                // change the color of node\n                col2nodes[colors[cur]].splice(col2nodes[colors[cur]].indexOf(cur), 1);\n                colors[cur] = maxCol;\n                col2nodes[colors[maxCol]].push(cur);\n                /**\n                 * In the following context, \"color rule\" refers to that every node n has\n                 * a color c, and either c is 0 or n is connected to a node with color c - 1.\n                 */\n                /**\n                 * Loop through every node connected to the node that changes color because\n                 * only nodes connected to the node that changes color would possibly break\n                 * the color rule.\n                 */\n                nextNode: for (const a of adjList[cur]) {\n                    const original = colors[a];\n                    if (colors[a] === 0) continue;\n                    /**\n                     * whether a's color is less than its connected nodes'\n                     */\n                    let min = true;\n                    /**\n                     * the largest node less than a's original color\n                     */\n                    let max = 0;\n                    for (const b of adjList[a]) {\n                        // does not break the color rule; check the next node\n                        if (colors[b] === colors[a] - 1) {\n                            continue nextNode;\n                        } else {\n                            if (colors[b] < original) {\n                                min = false;\n                            }\n                            if (colors[b] > max && colors[b] < original) {\n                                max = colors[b];\n                            }\n                        }\n                    }\n                    // if break the color rule\n                    col2nodes[colors[a]].splice(col2nodes[colors[a]].indexOf(a), 1);\n                    colors[a] = min ? 0 : max + 1;\n                    col2nodes[colors[a]].push(a);\n                }\n            }\n        }\n    }\n}\n\n/**\n * calculate the actual path depth of the nodes\n * @requires optimization\n * @param adjList\n * @param colors\n * @param values the array of things contained in each node\n */\nexport function colorDepthSearch<T = number>(\n    adjList: number[][],\n    colors: Int16Array,\n    values: T[]\n): Graph<T> {\n    const graph: Graph<T> = new Map();\n    const vertices = adjList.map((_, i) => {\n        const v = new Vertex(values[i]);\n        v.depth = colors[i];\n        return v;\n    });\n\n    for (let i = 0; i < colors.length; i++) {\n        graph.set(vertices[i], adjList[i].map(x => vertices[x]));\n    }\n\n    vertices.sort((v1, v2) => v2.depth - v1.depth);\n    for (const start of vertices)\n        if (!start.visited) depthFirstSearchRec(start, graph, start.depth + 1);\n\n    return graph;\n}\n\n/**\n * A special implementation of depth first search on a single connected component,\n * used to find the maximum depth of the path that the current node is on.\n *\n * The depth of all nodes are known beforehand.\n * @requires optimization\n */\nfunction depthFirstSearchRec<T>(start: Vertex<T>, graph: Graph<T>, depth: number) {\n    const neighbors = graph.get(start)!;\n    start.visited = true;\n    start.pathDepth = depth;\n\n    for (const adj of neighbors) {\n        // we only visit nodes of lower depth\n        if (!adj.visited && adj.depth < start.depth) depthFirstSearchRec(adj, graph, depth);\n    }\n}\n\nexport function recursiveLargestFirst(adjList: number[][], colors: Int16Array): number {\n    colors.fill(-1);\n    const notColored = new Set(colors.keys());\n    const degrees = adjList.map((x, i) => x.length);\n    let color = 0;\n    while (notColored.size) {\n        const remained = new Set(notColored);\n        while (remained.size) {\n            const itr = remained.values();\n            let v = itr.next().value;\n            for (let i = 1; i < remained.size; i++) {\n                const tempV = itr.next().value;\n                if (degrees[tempV] > degrees[v]) {\n                    v = tempV;\n                }\n            }\n            const adj = adjList[v];\n            remained.delete(v);\n            notColored.delete(v);\n            colors[v] = color;\n            for (const a of adj) {\n                remained.delete(a);\n                degrees[a] -= 1;\n            }\n        }\n        color++;\n    }\n    return color;\n}\n","/**\n * @author Hanzhi Zhou, Kaiying Shan\n * @module models\n */\n\n/**\n *\n */\nimport { NotiMsg } from '@/store/notification';\nimport { colorDepthSearch, DFS, graphColoringExact, Vertex } from '../algorithm';\nimport { RawAlgoCourse } from '../algorithm/ScheduleGenerator';\nimport * as Utils from '../utils';\nimport Course from './Course';\nimport Event from './Event';\nimport Hashable from './Hashable';\nimport { Day, dayToInt, TYPES, DAYS } from './Meta';\nimport ScheduleBlock from './ScheduleBlock';\nimport Section from './Section';\n\n/**\n * the structure of a Section in local storage\n */\nexport interface SectionJSON {\n    id: number;\n    /**\n     * This property is\n     * - not present if parsed from URL,\n     * - present if parsed from JSON\n     */\n    section?: string;\n}\n\n/**\n * represents all courses in a schedule, stored as `(key, set of sections)` pair\n *\n * Note that if **section** is -1, it means that all sections are allowed.\n * Otherwise, **section** should be a Set/array of object corresponding to each section\n *\n * @typeparam T the type of the container used for the set of sections.\n * By default, this is a set of numbers, corresponding to the `id` field of each section\n * @remarks This field is called `All` (yes, with the first letter capitalized) since the very beginning\n */\nexport interface ScheduleAll<T = Set<number>> {\n    [courseKey: string]: T | -1;\n}\n\nexport interface ScheduleJSON {\n    All: ScheduleAll<SectionJSON[]>;\n    events: Event[];\n}\n\ninterface ScheduleOptions {\n    multiSelect: boolean;\n    combineSections: boolean;\n}\n\n/**\n * Schedule handles the storage, access, mutation and render of courses and events.\n * @requires window.catalog\n */\nexport default class Schedule {\n    public static readonly options: ScheduleOptions = Object.seal({\n        combineSections: true,\n        multiSelect: true\n    });\n\n    public static readonly bgColors: readonly string[] = [\n        '#f7867e',\n        '#ffb74c',\n        '#82677E',\n        '#2C577C',\n        '#6D838A',\n        '#00a0a0',\n        '#355dff',\n        '#7790ff',\n        '#9B5656',\n        '#CC9393',\n        '#993D5F'\n    ];\n\n    public static savedColors: { [x: string]: string } = {};\n\n    public static compressJSON(obj: ScheduleJSON) {\n        const { All, events } = obj;\n        const shortAll: ScheduleAll<number[]> = {};\n        for (const key in All) {\n            const sections = All[key];\n            shortAll[key] =\n                sections === -1\n                    ? sections\n                    : sections.reduce<number[]>((acc, { id }) => {\n                          acc.push(id);\n                          return acc;\n                      }, []);\n        }\n        return [shortAll, ...events.map(e => Event.prototype.toJSONShort.call(e))] as const;\n    }\n\n    public static decompressJSON(obj: ReturnType<typeof Schedule.compressJSON>): ScheduleJSON {\n        const All: ScheduleAll<SectionJSON[]> = {};\n        const [shortAll, ...events] = obj;\n        for (const key in shortAll) {\n            const entry = shortAll[key];\n            All[key] = entry instanceof Array ? entry.map(e => ({ id: e })) : entry;\n        }\n        return {\n            All,\n            events: events.map(e => Event.fromJSONShort(e))\n        };\n    }\n\n    /**\n     * instantiate a `Schedule` object from its JSON representation.\n     * the `computeSchedule` method will be invoked after instantiation\n     *\n     * @returns NotiMsg, whose level might be one of the following\n     * 1. success: a schedule is successfully parsed from the JSON object\n     * 2. warn: a schedule is successfully parsed, but some of the courses/sections recorded no longer exist\n     * in the catalog\n     * 3. error: the object passed in is falsy\n     */\n    public static fromJSON(obj?: ScheduleJSON): NotiMsg<Schedule> {\n        if (!obj)\n            return {\n                level: 'error',\n                msg: 'Invalid object'\n            };\n        const schedule = new Schedule();\n        if (obj.events)\n            schedule.events = obj.events.map(x =>\n                x instanceof Event ? x : Object.setPrototypeOf(x, Event.prototype)\n            );\n\n        const keys = Object.keys(obj.All).map(x => x.toLowerCase());\n        if (keys.length === 0)\n            return {\n                level: 'success',\n                msg: 'Empty schedule',\n                payload: schedule\n            };\n\n        const warnings = [];\n        const catalog = window.catalog;\n        const regex = /([a-z]{1,5})([0-9]{1,5})([0-9])$/i;\n        // convert array to set\n        for (const key of keys) {\n            const sections = obj.All[key];\n            const course = catalog.getCourse(key);\n            const parts = key.match(regex);\n\n            // converted key\n            let convKey = key;\n            if (parts && parts.length === 4) {\n                parts[3] = TYPES[+parts[3]];\n                parts[1] = parts[1].toUpperCase();\n                convKey = parts.slice(1).join(' ');\n            }\n            // non existent course\n            if (!course) {\n                warnings.push(`${convKey} does not exist anymore! It probably has been removed!`);\n                continue;\n            }\n            const allSections = course.sections;\n            if (sections instanceof Array) {\n                if (!sections.length) {\n                    schedule.All[key] = new Set();\n                } else {\n                    // backward compatibility for version prior to v5.0 (inclusive)\n                    if (Utils.isNumberArray(sections)) {\n                        const secs = sections as number[];\n                        schedule.All[key] = new Set(\n                            secs\n                                .filter(sid => {\n                                    // sid >= length possibly implies that section is removed from SIS\n                                    if (sid >= allSections.length) {\n                                        warnings.push(\n                                            `Invalid section id ${sid} for ${convKey}. It probably has been removed!`\n                                        );\n                                    }\n                                    return sid < allSections.length;\n                                })\n                                .map(idx => allSections[idx].id)\n                        );\n                    } else {\n                        const set = new Set<number>();\n                        for (const record of sections) {\n                            // check whether the identifier of stored sections match with the existing sections\n                            const target =\n                                typeof record.section === 'undefined' // \"section\" property may not be recorded\n                                    ? allSections.find(sec => sec.id === record.id) // in that case we only compare id\n                                    : allSections.find(\n                                          sec =>\n                                              sec.id === record.id && sec.section === record.section\n                                      );\n                            if (target) set.add(target.id);\n                            // if not exist, it possibly means that section is removed from SIS\n                            else\n                                warnings.push(\n                                    `Section ${record.section} of ${convKey} does not exist anymore! It probably has been removed!`\n                                );\n                        }\n                        schedule.All[key] = set;\n                    }\n                }\n            } else {\n                schedule.All[key] = sections;\n            }\n        }\n        schedule.constructDateSeparator();\n        schedule.computeSchedule();\n        if (warnings.length) {\n            return {\n                level: 'warn',\n                payload: schedule,\n                msg: warnings.join('<br>')\n            };\n        } else {\n            return {\n                level: 'success',\n                payload: schedule,\n                msg: 'Success'\n            };\n        }\n    }\n\n    public All: ScheduleAll;\n    /**\n     * computed based on `this.All` by `computeSchedule`\n     */\n    public days: [\n        ScheduleBlock[], // Monday\n        ScheduleBlock[],\n        ScheduleBlock[],\n        ScheduleBlock[],\n        ScheduleBlock[],\n        ScheduleBlock[],\n        ScheduleBlock[] // Sunday\n    ];\n    /**\n     * total credits stored in this schedule, computed based on `this.All`\n     */\n    public totalCredit: number;\n    /**\n     * a computed list that's updated by the `computeSchedule` method\n     */\n    public currentCourses: Course[];\n    /**\n     * a computed dictionary that's updated by the `computeSchedule` method.\n     * keys are courses' `displayName`s, and values are the array of ids (as strings).\n     *\n     * Example:\n     * ```js\n     * {\"CS 2110 Lecture\": [\"16436\"], \"Chem 1410 Laboratory\": [\"13424\", \"17596\"]}\n     * ```\n     */\n    public currentIds: { [x: string]: string[] };\n\n    /**\n     * keep track of used colors to avoid color collision\n     */\n    public colorSlots: Set<string>[];\n    public pendingCompute = 0;\n\n    /**\n     * The separator of sections in different time periods,\n     * representing different end times of sections. Elements are dates in milliseconds\n     * Example:\n     * ```js\n     * [1567457860885, 1567458860885]\n     * ```\n     */\n    public dateSeparators: number[] = [];\n    public separatedAll: { [date: string]: ScheduleAll } = {};\n    public dateSelector = -1;\n\n    /**\n     * the currently previewed (hovered) section\n     */\n    private _preview: Section | null;\n\n    /**\n     * Construct a `Schedule` object from its raw representation\n     */\n    constructor(raw: RawAlgoCourse[] | ScheduleAll = [], public events: Event[] = []) {\n        this.All = {};\n        this.days = [[], [], [], [], [], [], []];\n        this._preview = null;\n        this.colorSlots = Array.from({ length: Schedule.bgColors.length }, () => new Set<string>());\n        this.totalCredit = 0;\n        this.currentCourses = [];\n        this.currentIds = {};\n        if (raw instanceof Array) {\n            for (const [key, sections] of raw) {\n                this.All[key] = new Set(sections);\n            }\n        } else {\n            this.All = raw;\n        }\n        this.constructDateSeparator();\n        this.computeSchedule();\n    }\n\n    /**\n     * Get the background color of a hashable object\n     * Usually the object is either a `Course`, a `Section`, or an `Event`\n     *\n     * @remarks color collision is handled by separate chaining\n     */\n    public getColor(obj: Hashable): string {\n        const userColor = Schedule.savedColors[obj.key];\n        if (userColor) {\n            return userColor;\n        }\n        const idx = obj.hash() % Schedule.bgColors.length;\n        this.colorSlots[idx].add(obj.key);\n        return Schedule.bgColors[idx];\n    }\n\n    /**\n     * Update a section in the schedule\n     * - If the section is **already in** the schedule, delete it from the schedule\n     * - If the section is **not** in the schedule, add it to the schedule\n     * @param remove whether to remove the key if the set of sections is empty\n     */\n    public update(key: string, section: number, remove = true) {\n        if (section === -1) {\n            if (this.All[key] === -1) {\n                if (remove) delete this.All[key];\n                // empty set if remove is false\n                else this.All[key] = new Set();\n            } else this.All[key] = -1;\n        } else {\n            const sections = this.All[key];\n            if (sections instanceof Set) {\n                if (sections.delete(section)) {\n                    if (sections.size === 0 && remove) delete this.All[key];\n                } else {\n                    sections.add(section);\n                }\n            } else {\n                this.All[key] = new Set([section]);\n            }\n        }\n        this.constructDateSeparator();\n        this.computeSchedule();\n    }\n\n    /**\n     * preview and remove preview need to use the async version of compute\n     */\n    public removePreview() {\n        this._preview = null;\n        this.computeSchedule(false);\n    }\n\n    public preview(section: Section) {\n        this._preview = section;\n        this.computeSchedule(false);\n    }\n\n    /**\n     * add an event to this schedule\n     * @throws error if an existing event conflicts with this event\n     */\n    public addEvent(\n        days: string,\n        display: boolean,\n        title?: string,\n        room?: string,\n        description?: string\n    ) {\n        for (const e of this.events) {\n            if (e.days === days) {\n                throw new Error(\n                    `Your new event's time is identical to ${e.title}. Please consider merging these two events.`\n                );\n            }\n        }\n        this.events.push(new Event(days, display, title, description, room));\n        this.computeSchedule();\n    }\n\n    public deleteEvent(days: string) {\n        for (let i = 0; i < this.events.length; i++) {\n            if (this.events[i].days === days) {\n                this.events.splice(i, 1);\n                break;\n            }\n        }\n        this.computeSchedule();\n    }\n\n    public hoverEvent(key: string, strong = true) {\n        for (const blocks of this.days) {\n            for (const block of blocks) {\n                if (block.section.key === key) block.strong = strong;\n            }\n        }\n    }\n\n    public unhoverEvent(key: string) {\n        this.hoverEvent(key, false);\n    }\n\n    public hover(key: string, strong = true) {\n        const sections = this.All[key];\n        if (sections instanceof Set) {\n            this.days.forEach(blocks => {\n                for (const block of blocks) {\n                    const container = block.section;\n                    if (!(container instanceof Event)) {\n                        if (container.has(sections, key)) block.strong = strong;\n                    }\n                }\n            });\n        }\n    }\n\n    public unhover(key: string) {\n        this.hover(key, false);\n    }\n\n    /**\n     * Compute the schedule view based on `this.All` and `this.preview`.\n     * If there is a pending compute task, remove that pending task.\n     * @param sync if true, synchronously execute this function, otherwise use setTimeout\n     * @param time the delay of setTimeout, in milliseconds\n     * @remarks this method has a very high time complexity.\n     * However, because we're running on small input sets (usually contain no more than 20 sections), it\n     * usually completes within 50ms.\n     */\n    public computeSchedule(sync = true, time = 10) {\n        window.clearTimeout(this.pendingCompute);\n        if (sync) {\n            console.time('compute schedule');\n            this._computeSchedule();\n            console.timeEnd('compute schedule');\n        } else {\n            this.pendingCompute = window.setTimeout(() => {\n                this._computeSchedule();\n            }, time);\n        }\n    }\n\n    /**\n     * synchronous version of `computeSchedule`\n     */\n    private _computeSchedule() {\n        const catalog = window.catalog;\n        if (!catalog) return;\n\n        this.cleanSchedule();\n        const temp = new Date(this.dateSeparators[this.dateSelector]);\n\n        const all =\n            this.dateSelector === -1 || this.dateSelector >= this.dateSeparators.length\n                ? this.All\n                : this.separatedAll[temp.getMonth() + 1 + '/' + temp.getDate()];\n\n        for (const key in all) {\n            const sections = all[key];\n            // we need a full course record of key `key`\n            this.currentCourses.push(catalog.getCourse(key));\n            // a \"partial\" course with only selected sections\n            const course = catalog.getCourse(key, sections);\n            // skip placing empty courses\n            if (!course.sections.length) continue;\n\n            const credit = parseFloat(course.units);\n            this.totalCredit += isNaN(credit) ? 0 : credit;\n\n            const currentIdKey = course.displayName;\n            // if any section\n            if (sections === -1) {\n                this.currentIds[currentIdKey] = [' - '];\n                this.place(course);\n            } else {\n                // only one section: place that section\n                if (sections.size === 1) {\n                    const sec = course.getFirstSection();\n                    this.currentIds[currentIdKey] = [sec.id.toString()];\n                    this.place(sec);\n                } else if (sections.size > 0) {\n                    if (Schedule.options.multiSelect) {\n                        // try to combine sections even if we're in multi-select mode\n                        const combined = Object.values(course.getCombined()).map(secs =>\n                            catalog.getCourse(course.key, new Set(secs.map(sec => sec.id)))\n                        );\n                        for (const crs of combined) this.place(crs);\n                    } else {\n                        // a subset of the sections\n                        this.place(course);\n                    }\n                    this.currentIds[currentIdKey] = course.sections.map(sec => sec.id.toString());\n                }\n            }\n        }\n\n        if (this._preview) {\n            const section = this._preview;\n\n            // do not place into the schedule if the section is already rendered\n            // instead, we highlight the schedule\n            let found = false;\n            for (const blocks of this.days) {\n                for (const block of blocks) {\n                    if (!(block.section instanceof Event) && block.section.has(section))\n                        found = block.strong = true;\n                }\n            }\n            if (!found) this.place(section);\n        }\n\n        // sort currentCourses in alphabetical order\n        this.currentCourses.sort((a, b) => (a.key === b.key ? 0 : a.key < b.key ? -1 : 1));\n        for (const event of this.events) if (event.display) this.place(event);\n        this.computeBlockPositions();\n    }\n\n    public constructDateSeparator() {\n        const sections: Section[] = [];\n        for (const key in this.All) {\n            if (this.All[key] === -1) continue;\n            const course = window.catalog.getCourse(key, this.All[key]);\n            // skip invalid dates\n            for (const section of course.sections) {\n                if (section.dateArray) {\n                    sections.push(section);\n                }\n            }\n        }\n\n        // record all start and end points\n        const tempSeparator: [number, number][] = [];\n        for (const { dateArray } of sections) {\n            const start = dateArray[0];\n            let i = 0; // index for insertion\n            outer: for (; i < tempSeparator.length; i++) {\n                const target = tempSeparator[i][0];\n                if (start < target) break;\n                else if (start === target) continue outer; // remove repeated\n            }\n            // add one day to the end\n            tempSeparator.splice(i, 0, [start, dateArray[1] + 24 * 60 * 60 * 1000]);\n        }\n\n        const _temp = new Set<number>();\n        // abandon start points that are the same as some end points\n        // e.g. in [[8/26 - 10.17], [10.17 - 12.6]], one 10.17 would be abandoned\n        outer: for (let i = 0; i < tempSeparator.length; i++) {\n            for (let j = 0; j < i; j++) {\n                if (tempSeparator[i][0] === tempSeparator[j][1]) {\n                    _temp.add(tempSeparator[i][1]);\n                    continue outer;\n                }\n            }\n            _temp.add(tempSeparator[i][0]).add(tempSeparator[i][1]);\n        }\n        this.dateSeparators = [..._temp].sort((a, b) => a - b);\n\n        // create empty objects for separated \"All\"\n        this.separatedAll = Object.create(null);\n        for (let i = 1; i < this.dateSeparators.length; i++) {\n            const temp = new Date(this.dateSeparators[i]);\n            this.separatedAll[temp.getMonth() + 1 + '/' + temp.getDate()] = {};\n        }\n\n        for (const sec of sections) {\n            const [start, end] = sec.dateArray;\n            for (let i = 0; i < this.dateSeparators.length; i++) {\n                const sep = this.dateSeparators[i];\n                const temp = new Date(sep);\n                if (start < sep && (i === 0 || end >= this.dateSeparators[i - 1])) {\n                    const date = temp.getMonth() + 1 + '/' + temp.getDate();\n                    const all = this.separatedAll[date] || Object.create(null);\n                    const sections = all[sec.key];\n                    if (sections instanceof Set) {\n                        sections.add(sec.id);\n                    } else {\n                        all[sec.key] = new Set<number>().add(sec.id);\n                    }\n                    this.separatedAll[date] = all;\n                }\n                if (end < sep) break;\n            }\n        }\n    }\n\n    /**\n     * for the array of schedule blocks provided, construct an adjacency list\n     * to represent the conflicts between each pair of blocks\n     */\n    public constructAdjList(blocks: ScheduleBlock[]) {\n        const len = blocks.length;\n        const adjList: number[][] = blocks.map(() => []);\n\n        // construct an undirected graph\n        for (let i = 0; i < len; i++) {\n            for (let j = i + 1; j < len; j++) {\n                if (blocks[i].conflict(blocks[j])) {\n                    adjList[i].push(j);\n                    adjList[j].push(i);\n                }\n            }\n        }\n        return adjList;\n    }\n\n    /**\n     * compute the width and left of the blocks contained in each day\n     */\n    public computeBlockPositions() {\n        for (const blocks of this.days) {\n            const graph = this.constructAdjList(blocks);\n            const len = graph.length;\n            const visited = new Uint8Array(len);\n            // find all connected components\n            const components: ScheduleBlock[][] = [];\n            for (let i = 0; i < len; i++) {\n                if (!visited[i]) {\n                    visited[i] = 1;\n                    components.push(DFS(i, graph, visited).map(idx => blocks[idx]));\n                }\n            }\n\n            // we run coloring for each component\n            for (const bls of components) this._computeBlockPositions(bls);\n        }\n    }\n\n    /**\n     * compute the width and left of the blocks passed in\n     * @param blocks blocks belonging to the same connected component\n     */\n    private _computeBlockPositions(blocks: ScheduleBlock[]) {\n        blocks.sort((a, b) => b.duration - a.duration);\n        const adjList = this.constructAdjList(blocks);\n        const colors = new Int16Array(blocks.length);\n        const numColors = graphColoringExact(adjList, colors);\n\n        // note: blocks are contained in nodes\n        const graph = colorDepthSearch(adjList, colors, blocks);\n        const slots: Vertex<ScheduleBlock>[][] = Array.from({ length: numColors }, () => []);\n        for (const node of graph.keys()) {\n            slots[node.depth].push(node);\n            node.val.left = node.depth / node.pathDepth;\n            node.val.width = 1 / node.pathDepth;\n        }\n\n        // auto-expansion\n        // no need to expand for the first slot\n        for (let i = 1; i < slots.length; i++) {\n            const slot = slots[i];\n            for (const node of slot) {\n                // maximum left that the current block can possibly obtain\n                let maxLeft = 0;\n                const neighbors = graph.get(node)!;\n                for (const v of neighbors) {\n                    if (v.depth < node.depth) {\n                        const { left, width } = v.val;\n                        const newLeft = left + width;\n                        if (newLeft >= maxLeft) {\n                            maxLeft = newLeft;\n                        }\n                    }\n                }\n                // distribute deltas to remaining nodes\n                const delta = (node.val.left - maxLeft) / (node.pathDepth - node.depth);\n                if (delta <= 0) continue;\n                node.val.left = maxLeft;\n                node.val.width += delta;\n            }\n        }\n\n        for (const [node, neighbors] of graph) {\n            // minimum left of the block that has greater depth than the current block\n            let minLeft = Infinity;\n            for (const v of neighbors) {\n                if (v.depth > node.depth) {\n                    const left = v.val.left;\n                    if (left < minLeft) minLeft = left;\n                }\n            }\n            if (minLeft !== Infinity) {\n                node.val.width = minLeft - node.val.left;\n            }\n        }\n        graph.clear();\n    }\n\n    /**\n     * place a `Section`/`Course`/`Event`/ into one of the `Mo` to `Su` array according to its `days` property\n     * @remarks we can place a Course instance if all of its sections occur at the same time\n     */\n    public place(course: Section | Course | Event) {\n        if (course instanceof Section) {\n            const color = this.getColor(course);\n            for (const meeting of course.meetings) {\n                this.placeHelper(color, meeting.days, course);\n            }\n        } else if (course instanceof Event) {\n            if (course.display) {\n                this.placeHelper(this.getColor(course), course.days, course);\n            }\n        } else {\n            if (!course.allSameTime()) return;\n            const courseSec = course.sections;\n            const firstSec = courseSec[0];\n            // if only one section, just use the section rather than the section array\n            if (courseSec.length === 1) {\n                const color = this.getColor(firstSec);\n                for (const meeting of firstSec.meetings)\n                    this.placeHelper(color, meeting.days, firstSec);\n            } else {\n                if (Schedule.options.combineSections) {\n                    const color = this.getColor(course);\n                    for (const meeting of firstSec.meetings)\n                        this.placeHelper(color, meeting.days, course);\n                } else {\n                    // if we don't combined the sections, we call place for each section\n                    for (const section of courseSec) {\n                        // note: sections belonging to the same course will have the same color\n                        const color = this.getColor(section);\n                        for (const meeting of section.meetings)\n                            this.placeHelper(color, meeting.days, section);\n                    }\n                }\n            }\n        }\n    }\n\n    private placeHelper(color: string, dayTimes: string, events: Section | Course | Event) {\n        const [days, start, , end] = dayTimes.split(' ');\n        if (days && start && end) {\n            const startMin = Utils.to24hr(start);\n            const endMin = Utils.to24hr(end);\n            // wait... start time equals end time?\n            if (startMin === endMin) {\n                console.warn('start time equals end time:', events, startMin, endMin);\n                return;\n            }\n            for (let i = 0; i < days.length; i += 2) {\n                const scheduleBlock = new ScheduleBlock(color, startMin, endMin, events);\n                this.days[dayToInt[days.substr(i, 2) as Day]].push(scheduleBlock);\n            }\n        }\n    }\n\n    /**\n     * Remove a course (and all its sections) from the schedule\n     */\n    public remove(key: string) {\n        delete this.All[key];\n        this.constructDateSeparator();\n        this.computeSchedule();\n    }\n\n    /**\n     * clean the computed properties of the schedule. They can be recovered by calling the\n     * `computeSchedule method`\n     */\n    public cleanSchedule() {\n        this.days = [[], [], [], [], [], [], []];\n        this.colorSlots.forEach(x => x.clear());\n        this.totalCredit = 0;\n        this.currentCourses = [];\n        this.currentIds = {};\n    }\n\n    /**\n     * instantiate a `Schedule` object from its JSON representation\n     */\n    public fromJSON(obj?: ScheduleJSON) {\n        return Schedule.fromJSON(obj);\n    }\n\n    /**\n     * Serialize `this` to JSON\n     */\n    public toJSON(): ScheduleJSON {\n        const All: ScheduleAll<SectionJSON[]> = {};\n        const catalog = window.catalog;\n        // convert set to array\n        for (const key in this.All) {\n            const sections = this.All[key];\n            if (sections instanceof Set) {\n                All[key] = [...sections].map(id => {\n                    const { section } = catalog.getSectionById(key, id)!;\n                    return { id, section };\n                });\n            } else All[key] = sections;\n        }\n        return {\n            All,\n            events: this.events\n        };\n    }\n\n    /**\n     * get a copy of this schedule\n     */\n    public copy(deepCopyEvent = true) {\n        const AllCopy: ScheduleAll = {};\n        for (const key in this.All) {\n            const sections = this.All[key];\n            if (sections instanceof Set) {\n                AllCopy[key] = new Set(sections);\n            } else {\n                AllCopy[key] = sections;\n            }\n        }\n        // note: is it desirable to deep-copy all the events?\n        return new Schedule(AllCopy, deepCopyEvent ? this.events.map(e => e.copy()) : this.events);\n    }\n\n    /**\n     * Check whether the given key exists in the Schedule.\n     * @param key\n     * @param rendered (default to true)\n     * if true, only returns true if the course/event with the given key is rendered\n     */\n    public has(key: string, rendered = true) {\n        if (rendered)\n            return (\n                this.events.some(x => x.days === key) ||\n                this.days.some(blocks => blocks.some(block => block.section.key === key))\n            );\n        else return key in this.All || this.events.some(x => x.days === key);\n    }\n\n    public clean() {\n        this.cleanSchedule();\n        this.All = {};\n        this._preview = null;\n        this.events = [];\n    }\n\n    public empty() {\n        return Object.keys(this.All).length === 0;\n    }\n\n    public equals(s: Schedule) {\n        const days1 = this.events.map(x => x.days).sort();\n        const days2 = s.events.map(x => x.days).sort();\n        if (days1.length !== days2.length) return false;\n        for (let i = 0; i < days1.length; i++) if (days1[i] !== days2[i]) return false;\n\n        return this.allEquals(s.All);\n    }\n\n    /**\n     * returns if an \"All\" equals to another\n     * @param b another \"All\"\n     */\n    public allEquals(b: ScheduleAll) {\n        const a = this.All;\n        const keys = Object.keys(a);\n        // unequal length\n        if (keys.length !== Object.keys(b).length) return false;\n        for (const key of keys) {\n            const val1 = a[key],\n                val2 = b[key];\n            if (!val2) return false;\n            // unequal value\n            if (val1 === -1 || val2 === -1) {\n                if (val1 !== val2) return false;\n            } else {\n                if (val1.size !== val2.size) return false;\n                for (const v of val1) if (!val2.has(v)) return false;\n            }\n        }\n\n        return true;\n    }\n\n    /**\n     * add some random event to the schedule. For testing purposes only\n     */\n    private randEvents(num = 20, maxDuration = 120, minDuration = 20) {\n        for (let i = 0; i < num; i++) {\n            let days = '';\n            for (let j = 0; j < 7; j++) {\n                if (Math.random() < 0.5) {\n                    days += DAYS[j];\n                }\n            }\n            if (!days) {\n                i--;\n                continue;\n            }\n            const start = Math.floor(Math.random() * (1440 - maxDuration));\n            const end =\n                start +\n                minDuration +\n                Math.floor(Math.random() * Math.min(1440 - start, maxDuration));\n\n            days +=\n                ' ' +\n                Utils.to12hr(Utils.intTo24hr(start)) +\n                ' - ' +\n                Utils.to12hr(Utils.intTo24hr(end));\n            try {\n                this.addEvent(days, true, 'rand ' + i);\n            } catch (e) {\n                console.log(e);\n                i--;\n            }\n        }\n    }\n}\n","module.exports = bootstrap;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-body p-1 w-100\",attrs:{\"tabindex\":\"-1\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$emit('close')}}},_vm._l((_vm.courses),function(crs,idx){return _c('div',{key:crs.key,staticClass:\"list-group list-group-flush w-100\",on:{\"mouseenter\":function($event){return _vm.schedule.hover(crs.key)},\"mouseleave\":function($event){return _vm.schedule.unhover(crs.key)}}},[_c('div',{staticClass:\"list-group-item py-1 px-0 w-100\"},[_c('div',{staticClass:\"row flex-nowrap no-gutters justify-content-between\"},[_c('div',{staticClass:\"col col-1 pl-1 align-self-center\",on:{\"click\":function($event){return _vm.collapse(crs.key)}}},[_c('i',{staticClass:\"fas click-icon\",class:_vm.expanded(crs.key) ? 'fa-chevron-down' : 'fa-chevron-right'})]),_c('div',{staticClass:\"col-xs-auto mr-auto align-self-center my-0\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.collapse(crs.key)}}},[_c('h6',{staticClass:\"mb-1\"},[(_vm.matches.length)?_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.highlightMatch(crs.displayName, 'key', _vm.matches[idx][0]))}}):_c('span',[_vm._v(_vm._s(crs.displayName))]),(_vm.emptyCourse(crs))?_c('span',{staticClass:\"ml-1 text-warning\",attrs:{\"title\":\"No sections are selected! Any Section will be selected implicitly\"}},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"})]):_vm._e()]),(_vm.showClasslistTitle || _vm.isEntering)?[(_vm.matches.length)?_c('p',{staticStyle:{\"font-size\":\"0.85rem\",\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.highlightMatch(crs.title, 'title', _vm.matches[idx][0]))}}):_c('p',{staticStyle:{\"font-size\":\"0.85rem\",\"margin\":\"0\"}},[_vm._v(\"\\n                            \"+_vm._s(crs.title)+\"\\n                        \")])]:_vm._e()],2),_c('div',{staticClass:\"col align-self-center\",class:{\n                        'text-center': _vm.showClasslistTitle,\n                        'text-right': !_vm.showClasslistTitle,\n                        'col-1': _vm.showClasslistTitle,\n                        'col-xs-auto': !_vm.showClasslistTitle\n                    }},[_c('i',{staticClass:\"fas fa-info-circle click-icon\",class:{ 'pr-2': !_vm.showClasslistTitle },attrs:{\"title\":\"View class description\"},on:{\"click\":function($event){return _vm.$emit('course_modal', { crs: crs, match: _vm.matches[idx] })}}}),(_vm.showClasslistTitle)?_c('br'):_vm._e(),(!_vm.isEntering)?_c('i',{staticClass:\"fas fa-times click-icon\",class:{ 'pr-1': !_vm.showClasslistTitle },attrs:{\"title\":\"Remove this class and all its sections from your schedule\"},on:{\"click\":function($event){return _vm.$emit('remove_course', crs.key)}}}):_vm._e()])])]),_c('Expand',[(_vm.expanded(crs.key))?_c('div',{staticClass:\"trans\",attrs:{\"id\":((crs.key) + \"trans\")}},[(_vm.showAny && crs.department !== 'EGMT')?_c('a',{staticClass:\"list-group-item list-group-item-action class-section\",class:{ active: _vm.schedule.All[crs.key] === -1 },staticStyle:{\"font-size\":\"1rem\",\"padding\":\"0.5rem 0 0.5rem 1rem\"},attrs:{\"title\":_vm.schedule.All[crs.key] === -1 ? 'click to unselect' : 'click to select'},on:{\"click\":function($event){return _vm.select(crs.key, -1)}}},[_c('div',{staticClass:\"row no-gutters justify-content-between\"},[_c('div',{staticClass:\"col-md-auto\"},[_vm._v(\"Any Section\")]),_c('div',{staticClass:\"col col-sm-1 align-self-center\"},[(_vm.schedule.All[crs.key] === -1)?_c('i',{staticClass:\"far fa-check-square\"}):_c('i',{staticClass:\"far fa-square\"})])])]):_vm._e(),_vm._l((_vm.separatedCourses[crs.key]),function(value,key){return [(Object.keys(_vm.separatedCourses[crs.key]).length > 1)?_c('li',{key:key,staticClass:\"list-group-item list-group-item-action class-section py-2\",attrs:{\"title\":\"click to select all sections in this time period\"},on:{\"click\":function($event){return _vm.selectAll(value.key, value)}}},[_c('div',{staticClass:\"row no-gutters justify-content-between\"},[_c('div',{staticClass:\"col-md-auto\"},[_c('strong',[_vm._v(_vm._s(key))])]),_c('div',{staticClass:\"col col-sm-1 align-self-center\"},[(_vm.allTimeSelected(crs.key, key))?_c('i',{staticClass:\"far fa-check-square\"}):_c('i',{staticClass:\"far fa-square\"})])])]):_vm._e(),_vm._l((value.sections),function(sec){return _c('div',{key:sec.id,staticClass:\"list-group-item list-group-item-action container-fluid class-section\",class:{\n                            active: _vm.isActive(crs.key, sec.id)\n                        },attrs:{\"title\":_vm.isActive(crs.key, sec.id) ? 'click to unselect' : 'click to select'},on:{\"click\":function($event){return _vm.select(crs.key, sec.id)},\"mouseenter\":function($event){return _vm.schedule.preview(sec)},\"mouseleave\":function($event){return _vm.schedule.removePreview()}}},[_c('div',{staticClass:\"row no-gutters justify-content-between\"},[_c('div',{staticClass:\"col-md-auto\"},[_c('ul',{staticClass:\"list-unstyled m-0\",staticStyle:{\"font-size\":\"0.75rem\"}},[_c('li',[_vm._v(\"\\n                                        Section \"+_vm._s(sec.section)+\"\\n                                        \"),(_vm.matches.length)?_c('span',{domProps:{\"innerHTML\":_vm._s(\n                                                _vm.highlightMatch(\n                                                    sec.topic,\n                                                    'topic',\n                                                    _vm.matches[idx][1].get(sec.id)\n                                                )\n                                            )}}):_c('span',[_vm._v(\" \"+_vm._s(sec.topic))]),(sec.valid)?_c('i',{staticClass:\"fas fa-exclamation-triangle\",class:sec.valid & 14 ? \"text-danger\" : \"text-warning\",attrs:{\"title\":sec.validMsg}}):_vm._e()]),_vm._l((sec.meetings),function(meeting){return _c('li',{key:meeting.days},[_vm._v(\"\\n                                        \"+_vm._s(meeting.days)+\"\\n                                    \")])}),(_vm.matches.length)?_c('li',{domProps:{\"innerHTML\":_vm._s(\n                                            _vm.highlightMatch(\n                                                sec.instructors.join(', '),\n                                                'instructors',\n                                                _vm.matches[idx][1].get(sec.id)\n                                            )\n                                        )}}):_c('li',[_vm._v(_vm._s(sec.instructors.join(', ')))])],2)]),_c('div',{staticClass:\"col col-sm-1 align-self-center\"},[(_vm.isActive(crs.key, sec.id))?_c('i',{staticClass:\"far fa-check-square\"}):_c('i',{staticClass:\"far fa-square\"})])])])})]})],2):_vm._e()])],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render, staticRenderFns\nimport script from \"./Expand.vue?vue&type=script&lang=js&\"\nexport * from \"./Expand.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Expand.vue?vue&type=style&index=0&id=e47a4968&scoped=true&lang=css&\"\nimport style1 from \"./Expand.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e47a4968\",\n  null\n  \n)\n\nexport default component.exports","<script>\n/**\n * @license MIT maoberlehner\n * @link https://github.com/maoberlehner/transition-to-height-auto-with-vue\n */\nexport default {\n    name: `Expand`,\n    functional: true,\n    render(createElement, context) {\n        const data = {\n            props: {\n                name: `expand`\n            },\n            on: {\n                afterEnter(element) {\n                    // eslint-disable-next-line no-param-reassign\n                    element.style.height = `auto`;\n                },\n                /**\n                 * @param {HTMLElement} element\n                 */\n                enter(element) {\n                    const { width } = getComputedStyle(element);\n                    /* eslint-disable no-param-reassign */\n                    element.style.width = width;\n                    element.style.position = `absolute`;\n                    element.style.visibility = `hidden`;\n                    element.style.height = `auto`;\n                    /* eslint-enable */\n                    const { height } = getComputedStyle(element);\n                    /* eslint-disable no-param-reassign */\n                    element.style.removeProperty('width');\n                    element.style.removeProperty('position');\n                    element.style.removeProperty('visibility');\n                    element.style.height = 0;\n                    /* eslint-enable */\n                    // Force repaint to make sure the\n                    // animation is triggered correctly.\n                    // eslint-disable-next-line no-unused-expressions\n\n                    getComputedStyle(element).height;\n                    setTimeout(() => {\n                        // eslint-disable-next-line no-param-reassign\n                        element.style.height = height;\n                    });\n                },\n                leave(element) {\n                    const { height } = getComputedStyle(element);\n                    // eslint-disable-next-line no-param-reassign\n                    element.style.height = height;\n                    // Force repaint to make sure the\n                    // animation is triggered correctly.\n                    // eslint-disable-next-line no-unused-expressions\n\n                    getComputedStyle(element).height;\n                    setTimeout(() => {\n                        // eslint-disable-next-line no-param-reassign\n                        element.style.height = 0;\n                    });\n                }\n            }\n        };\n        return createElement(`transition`, data, context.children);\n    }\n};\n</script>\n\n<style scoped>\n* {\n    will-change: height;\n    transform: translateZ(0);\n    backface-visibility: hidden;\n    perspective: 1000px;\n}\n</style>\n\n<style>\n.expand-enter-active,\n.expand-leave-active {\n    transition: height 0.5s ease-in-out;\n    overflow: hidden;\n}\n.expand-enter,\n.expand-leave-to {\n    height: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Expand.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Expand.vue?vue&type=script&lang=js&\"","/**\n * Miscellaneous components used in tabs and App.vue\n * @module components\n * @preferred\n */\n\n/**\n *\n */\nimport { SearchMatch } from '@/models/Catalog';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport Course from '../models/Course';\nimport Schedule from '../models/Schedule';\nimport Expand from './Expand.vue';\n\n/**\n * A **pure** component for\n * 1. displaying the list of courses that are match the query string when searching\n * 2. displaying the list of courses currently selected\n * @author Hanzhi Zhou, Kaiying Cat\n * @noInheritDoc\n */\n@Component({\n    components: {\n        Expand\n    }\n})\nexport default class ClassList extends Vue {\n    /**\n     * the array of courses to be displayed on this list\n     */\n    @Prop({ type: Array, default: [] }) readonly courses!: Course[];\n    /**\n     * the array of matches corresponding to the array of courses\n     */\n    @Prop({ type: Array, default: [] }) readonly matches!: SearchMatch[];\n    /**\n     * the schedule used to extract the already selected sections of the courses given above\n     */\n    @Prop(Schedule) readonly schedule!: Schedule;\n    /**\n     * whether in Entering mode. when true, no **close** buttons (for removing courses) will be shown\n     */\n    @Prop({ default: false, type: Boolean }) readonly isEntering!: boolean;\n    /**\n     * whether to show **Any Section**\n     */\n    @Prop({ default: true, type: Boolean }) readonly showAny!: boolean;\n    /**\n     * whether to expand all courses by default in entering mode\n     */\n    @Prop({ default: false, type: Boolean }) readonly expandOnEntering!: boolean;\n    @Prop({ default: true, type: Boolean }) readonly showClasslistTitle!: boolean;\n\n    /**\n     * the array used to record which course is collapsed/expanded\n     *\n     * key: the key of the course (`course.key`)\n     * value: true for collapsed, false otherwise\n     */\n    collapsed: { [x: string]: boolean } = {};\n\n    select(key: string, idx: number) {\n        // need to pass this event to parent because the parent needs to update some other stuff\n        this.$emit('update_course', key, idx, this.isEntering);\n    }\n\n    selectAll(key: string, course: Course) {\n        let notSelected = false;\n        for (const sec of course.sections) {\n            if (!this.isActive(key, sec.id)) {\n                notSelected = true;\n                this.select(key, sec.id);\n            }\n        }\n        if (!notSelected) {\n            for (const sec of course.sections) {\n                this.select(key, sec.id);\n            }\n        }\n    }\n\n    allTimeSelected(key: string, time: string) {\n        return this.separatedCourses[key][time].sections.every(sec => this.isActive(key, sec.id));\n    }\n\n    get separatedCourses() {\n        const courseObj: { [course: string]: { [date: string]: Course } } = Object.create(null);\n        for (const course of this.courses) {\n            const obj: { [date: string]: Set<number> } = Object.create(null);\n            const sections = course.sections;\n            // group sections by dates\n            for (const { dates, id } of sections) {\n                if (obj[dates]) {\n                    obj[dates].add(id);\n                } else {\n                    obj[dates] = new Set<number>().add(id);\n                }\n            }\n\n            const segments: { [date: string]: Course } = Object.create(null);\n            const len = course.sections.length;\n            for (const date in obj) {\n                // all sections are selected: use the full course\n                if (obj[date].size === len) {\n                    segments[date] = course;\n                    // some sections are selected: get the subset\n                } else {\n                    segments[date] = window.catalog.getCourse(course.key, obj[date]);\n                }\n            }\n            courseObj[course.key] = segments;\n        }\n        return courseObj;\n    }\n\n    /**\n     * update the collapse status of the course with key=`key`\n     * @param key\n     */\n    collapse(key: string) {\n        if (this.expanded(key)) {\n            this.$set(this.collapsed, key, false);\n        } else {\n            this.$set(this.collapsed, key, true);\n        }\n    }\n    /**\n     * returns whether the `idx` section of the course with key `key` is selected\n     */\n    isActive(key: string, idx: number) {\n        const sections = this.schedule.All[key];\n        if (sections instanceof Set) return sections.has(idx);\n        return false;\n    }\n    /**\n     * returns whether course with key=`key` is expanded\n     * @param key\n     */\n    expanded(key: string) {\n        const status = this.collapsed[key];\n        return (status === undefined && this.isEntering && this.expandOnEntering) || status;\n    }\n    /**\n     * @returns true if none of the sections of this course is selected\n     */\n    emptyCourse(course: Course) {\n        const sections = this.schedule.All[course.key];\n        return sections instanceof Set && sections.size === 0;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./ClassList.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./ClassList.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassList.vue?vue&type=template&id=00e3845e&scoped=true&\"\nimport script from \"./ClassList.ts?vue&type=script&lang=ts&\"\nexport * from \"./ClassList.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./ClassList.vue?vue&type=style&index=0&id=00e3845e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00e3845e\",\n  null\n  \n)\n\nexport default component.exports","/**\n * @module models\n * @author Kaiying Cat\n */\n\n/**\n *\n */\nimport { TimeArray } from '../algorithm';\nimport { hashCode, parseTimeAsTimeArray } from '../utils';\nimport Hashable from './Hashable';\n\nexport type EventJSON = [string, number, string?, string?, string?];\n\n/**\n * An Event is a structure different than `Course` or `Section` that can be placed on a Schedule\n *\n * It is uniquely identified by its `days` property\n */\nexport default class Event implements Hashable {\n    public static fromJSONShort(obj: EventJSON) {\n        return new Event(...obj);\n    }\n    public key: string;\n    public display: boolean;\n    constructor(\n        public days: string,\n        display: boolean | number,\n        public title?: string,\n        public description?: string,\n        public room?: string\n    ) {\n        this.key = days;\n        this.display = Boolean(display);\n    }\n\n    public hash() {\n        return hashCode(this.days);\n    }\n\n    public copy() {\n        return new Event(this.days, this.display, this.title, this.description, this.room);\n    }\n\n    public toTimeArray(): TimeArray {\n        return parseTimeAsTimeArray(this.days)!;\n    }\n\n    public toJSONShort() {\n        const obj: EventJSON = [this.days, +this.display];\n        if (this.title) obj[2] = this.title;\n        if (this.description) obj[3] = this.description;\n        if (this.room) obj[4] = this.room;\n        return obj;\n    }\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionModal.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionModal.vue?vue&type=style&index=0&lang=css&\"","/**\n * Meta stores some constants and type definitions\n * @author Hanzhi Zhou\n * @module models\n */\nexport type CourseType =\n    | 'Clinical'\n    | 'Discussion'\n    | 'Drill'\n    | 'Independent Study'\n    | 'Laboratory'\n    | 'Lecture'\n    | 'Practicum'\n    | 'Seminar'\n    | 'Studio'\n    | 'Workshop'\n    | '';\n\nexport type CourseStatus = 'TBA' | 'Open' | 'Closed' | 'Wait List';\n\nexport type Day = 'Mo' | 'Tu' | 'We' | 'Th' | 'Fr' | 'Sa' | 'Su';\n\nexport const dayToInt = Object.freeze({\n    Mo: 0,\n    Tu: 1,\n    We: 2,\n    Th: 3,\n    Fr: 4,\n    Sa: 5,\n    Su: 6\n});\n\nexport const DAYS = ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'] as const;\n/**\n * lecture type number => meaning\n */\nexport const TYPES = Object.freeze({\n    '-1': '',\n    0: 'Clinical',\n    1: 'Discussion',\n    2: 'Drill',\n    3: 'Independent Study',\n    4: 'Laboratory',\n    5: 'Lecture',\n    6: 'Practicum',\n    7: 'Seminar',\n    8: 'Studio',\n    9: 'Workshop'\n}) as { [x: number]: CourseType };\n\nexport const TYPES_PARSE: { readonly [x in CourseType]: number } = Object.freeze({\n    '': -1,\n    Clinical: 0,\n    Discussion: 1,\n    Drill: 2,\n    'Independent Study': 3,\n    Laboratory: 4,\n    Lecture: 5,\n    Practicum: 6,\n    Seminar: 7,\n    Studio: 8,\n    Workshop: 9\n});\n\nexport const semesterListExpirationTime = 86400 * 1000; // one day\nexport const semesterDataExpirationTime = 2 * 3600 * 1000; // two hours\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Expand.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Expand.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./External.vue?vue&type=style&index=0&id=823ab73c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./External.vue?vue&type=style&index=0&id=823ab73c&scoped=true&lang=css&\"","/**\n * The data module contains functions for loading data from localStorage or remote\n * @module data\n * @preferred\n */\n\n/**\n * get the origin\n */\nexport function getApi() {\n    return window.location.host.indexOf('localhost') === -1 &&\n        window.location.host.indexOf('127.0.0.1') === -1\n        ? `${window.location.protocol}//${window.location.host}`\n        : 'http://localhost:8000';\n}\n","module.exports = Vue;","module.exports = __webpack_public_path__ + \"img/placeholder.f3a872b4.jpg\";","module.exports = Papa;","module.exports = __webpack_public_path__ + \"img/cover.f46abc3a.jpg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassList.vue?vue&type=style&index=0&id=00e3845e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassList.vue?vue&type=style&index=0&id=00e3845e&scoped=true&lang=css&\"","/**\n * @module data\n * @author Hanzhi Zhou\n */\n\n/**\n *\n */\nimport { NotiMsg } from '../store/notification';\nimport { cancelablePromise, CancelablePromise, errToStr, timeout } from '../utils';\nimport Expirable from './Expirable';\n\ninterface LoaderOptions<T_JSON extends Expirable> {\n    /**\n     * the expiration time of this T_JSON\n     */\n    expireTime?: number;\n    /**\n     * The parser that turns the string (or null if key does not exist)\n     * stored in local storage into T_JSON or null\n     */\n    parse?: (x: string | null) => T_JSON | null;\n    /**\n     * The validator that checks whether the return value of the parser is a valid T_JSON object\n     */\n    validator?: (x: T_JSON | null) => x is T_JSON;\n    /**\n     * whether this is a forced update. If true, request the data from remote with no regard to local data\n     */\n    force?: boolean;\n}\n\ninterface FallbackOptions {\n    /**\n     * the warning message to return when data expired and we failed to request new data from remote.\n     * It takes the stringified exception as the parameter\n     */\n    warnMsg?: (err: string) => string;\n    /**\n     * the error message to return when there is no local data and we failed to request data from remote\n     * It takes the stringified exception as the parameter\n     */\n    errMsg?: (err: string) => string;\n    /**\n     * the success message shown when data is loaded successfully\n     */\n    succMsg?: string;\n    /**\n     * the timeout in millisecond for requesting data from remote.\n     * A timeout error with appropriate error message will be thrown for\n     * response that does not return within this time interval\n     */\n    timeoutTime?: number;\n}\n\n/**\n * The template function that helps to load data from cache/remote\n *\n * Example usage:\n * @see [[loadTimeMatrix]],[[loadBuildingSearcher]],[[loadSemesterList]],[[loadSemesterData]]\n *\n * @typeparam T the type of the object to construct\n * @typeparam T_JSON the JSON-serializable representation of the object T\n * @param key the key in the localStorage\n * @param request the async function used to request data from remote, if local data expires or does not exist\n * @param construct function to construct the actual object T from its JSON-serializable representation T_JSON\n */\nexport function loadFromCache<T, T_JSON extends Expirable>(\n    key: string,\n    request: () => Promise<T>,\n    construct: (x: T_JSON) => T,\n    {\n        expireTime = Infinity,\n        parse = x => (x ? JSON.parse(x) : null),\n        validator = defaultValidator,\n        force = false\n    }: LoaderOptions<T_JSON>\n): { new: CancelablePromise<T>; old?: T } {\n    const storage = localStorage.getItem(key);\n    const data: T_JSON | null = parse(storage);\n    if (validator(data)) {\n        // expired\n        if (new Date().getTime() - new Date(data.modified).getTime() > expireTime || force) {\n            const newData = cancelablePromise(request());\n            try {\n                return {\n                    new: newData,\n                    old: construct(data)\n                };\n            } catch (err) {\n                console.error(err);\n                return {\n                    new: newData\n                };\n            }\n        } else {\n            return {\n                new: cancelablePromise(Promise.resolve(construct(data)))\n            };\n        }\n        // data invalid or does not exist\n    } else {\n        return {\n            new: cancelablePromise(request())\n        };\n    }\n}\n\nexport async function fallback<T, P extends Promise<T>>(\n    temp: { new: P; old?: T },\n    { succMsg = '', warnMsg = x => x, errMsg = x => x, timeoutTime = 5000 }: FallbackOptions = {}\n): Promise<NotiMsg<T>> {\n    try {\n        const payload = await timeout(temp.new, timeoutTime);\n        return {\n            payload,\n            msg: succMsg,\n            level: 'success'\n        };\n    } catch (err_2) {\n        return temp.old\n            ? {\n                  payload: temp.old,\n                  msg: warnMsg(errToStr(err_2)),\n                  level: 'warn'\n              }\n            : {\n                  msg: errMsg(errToStr(err_2)),\n                  level: 'error'\n              };\n    }\n}\n\nfunction defaultValidator<T_JSON extends Expirable>(x: T_JSON | null): x is T_JSON {\n    return !!x && !!x.modified;\n}\n","module.exports = jQuery;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-100\",attrs:{\"id\":\"app\"},on:{\"change\":function($event){return _vm.saveStatus()}}},[_c('version-modal',{attrs:{\"version\":_vm.version}}),_c('course-modal',{attrs:{\"course\":_vm.modal.course,\"match\":_vm.modal.match}}),_c('section-modal',{attrs:{\"semester\":_vm.semester.currentSemester,\"section\":_vm.modal.section}}),_c('URL-modal',{attrs:{\"url\":_vm.modal.url}}),_c('nav',{staticClass:\"tab-bar bg-light\"},[_c('div',{staticClass:\"tab-icon mt-0 mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showSelectClass },attrs:{\"title\":\"Select Classes\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showSelectClass')}}},[_c('i',{staticClass:\"far fa-calendar-alt\"})]),(_vm.display.enableFuzzy)?_c('div',{staticClass:\"tab-icon mt-0 mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showFuzzy },attrs:{\"title\":\"Fuzzy Search\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showFuzzy')}}},[_c('i',{staticClass:\"fas fa-search\"})]):_vm._e(),_c('div',{staticClass:\"tab-icon mt-0 mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showEvent },attrs:{\"title\":\"Edit Events\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showEvent')}}},[_c('i',{staticClass:\"fab fa-elementor\"})]),_c('div',{staticClass:\"tab-icon mt-0 mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showFilter },attrs:{\"title\":\"Filters\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showFilter')}}},[_c('i',{staticClass:\"fas fa-filter\"})]),_c('div',{staticClass:\"tab-icon mt-0 mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showSetting },attrs:{\"title\":\"Display Settings\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showSetting')}}},[_c('i',{staticClass:\"fas fa-cog\"})]),_c('div',{staticClass:\"tab-icon mt-0 mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showSelectColor },attrs:{\"title\":\"Customize Colors\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showSelectColor')}}},[_c('i',{staticClass:\"fas fa-palette\"})]),_c('div',{staticClass:\"tab-icon mt-0 mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showExport },attrs:{\"title\":\"Import/Export Schedule\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showExport')}}},[_c('i',{staticClass:\"fas fa-download\"})]),_c('div',{staticClass:\"tab-icon mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showCompare },attrs:{\"title\":\"Compare\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showCompare')}}},[_c('i',{staticClass:\"fas fa-balance-scale\"})]),(_vm.display.enableLog)?_c('div',{staticClass:\"tab-icon mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showLog },attrs:{\"title\":\"Show logs\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showLog')}}},[_c('i',{staticClass:\"fas fa-stream\"})]):_vm._e(),_c('div',{staticClass:\"tab-icon mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showInfo },attrs:{\"title\":\"Website guide and miscellaneous information\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showInfo')}}},[_c('i',{staticClass:\"fas fa-info-circle\"})]),_c('div',{staticClass:\"tab-icon mb-4\",class:{ 'tab-icon-active': _vm.sideBar.showExternal },attrs:{\"title\":\"Blank Page\"},on:{\"click\":function($event){return _vm.status.switchSideBar('showExternal')}}},[_c('i',{staticClass:\"fas fa-bullhorn\"})])]),(_vm.sideBar.showSelectClass)?_c('class-view'):(_vm.sideBar.showFuzzy)?_c('fuzzy-view'):(_vm.sideBar.showEvent)?_c('event-view'):(_vm.sideBar.showFilter)?_c('filter-view'):(_vm.sideBar.showSetting)?_c('display-view'):(_vm.sideBar.showExport)?_c('export-view'):(_vm.sideBar.showSelectColor)?_c('palette-view'):(_vm.sideBar.showCompare)?_c('compare-view'):(_vm.sideBar.showInfo)?_c('information'):(_vm.sideBar.showExternal)?_c('external'):(_vm.sideBar.showLog)?_c('log-view'):_vm._e(),(!_vm.sideBar.showInfo && !_vm.sideBar.showExternal && !_vm.sideBar.showCompare)?_c('main-content',[_c('div',{staticClass:\"w-100 mb-2 row justify-content-center\",attrs:{\"id\":\"pg\"}},[(_vm.schedule.generated)?_c('div',{staticClass:\"col-sm-auto text-center my-1\"},[_c('Pagination')],1):_vm._e(),(_vm.schedule.currentSchedule.dateSeparators.length > 2)?_c('div',{staticClass:\"col-sm-auto text-center my-1\"},[_c('date-separator',{attrs:{\"cur-schedule\":_vm.schedule.currentSchedule}})],1):_vm._e(),(_vm.schedule.generated)?_c('div',{staticClass:\"col-sm-auto text-center align-self-center\"},[_c('button',{staticClass:\"btn btn-outline-primary my-1\",on:{\"click\":function($event){return _vm.addToCompare()}}},[_c('i',{staticClass:\"fas fa-balance-scale\"}),_vm._v(\"\\n                    Compare\\n                    \"),(_vm.indexOfCompare() !== -1)?_c('i',{staticClass:\"fas fa-check\"}):_vm._e()])]):_vm._e()]),_c('grid-schedule',{attrs:{\"current-schedule\":_vm.schedule.currentSchedule}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"schedule mt-2\",style:({\n        width: _vm.scheduleWidth + 'vw',\n        'margin-left': (_vm.status.isMobile ? 11 : _vm.scheduleLeft) + 'vw'\n    })},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.noti.msg.length > 0)?_c('div',{directives:[{name:\"top\",rawName:\"v-top\"}],staticClass:\"alert my-1 mx-auto\",class:(\"alert-\" + (_vm.noti.cls)),staticStyle:{\"width\":\"85%\"},attrs:{\"id\":\"noti\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.noti.msg)}}),_c('button',{staticClass:\"close\",staticStyle:{\"align\":\"center\"},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.noti.clear()}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])]):_vm._e()]),_vm._t(\"default\"),_vm._m(0),_vm._m(1)],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"footer-link\"}},[_c('div',{staticClass:\"row justify-content-between w-100\"},[_c('div',{staticClass:\"col-xs-auto pl-3 align-self-center\",staticStyle:{\"font-size\":\"1.1rem\"}},[_vm._v(\"\\n                Get Connected With Us\\n            \")]),_c('div',{staticClass:\"col-xs-auto align-self-center\"},[_c('a',{staticClass:\"mr-5 link-btn\",attrs:{\"target\":\"_blank\",\"title\":\"Checkout our GitHub site to watch/star/fork\",\"href\":\"https://github.com/awesome-schedule/plannable/\"}},[_c('i',{staticClass:\"fab fa-github\"})]),_c('a',{staticClass:\"ml-4 mr-5 link-btn\",attrs:{\"target\":\"_blank\",\"title\":\"File an issue on GitHub\",\"href\":\"https://github.com/awesome-schedule/plannable/issues\"}},[_c('i',{staticClass:\"fas fa-exclamation-circle\"})])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"footer-org\"}},[_vm._v(\"2019 \"),_c('strong',[_vm._v(\"Plannable\")])])}]\n\nexport { render, staticRenderFns }","import { CourseFields } from './models/Course';\n\nexport const backend = {\n    name: 'Hoosmyprofessor',\n    up: 'https://match.msnatuva.org/courses/api/save_plannable_profile/',\n    down: 'https://match.msnatuva.org/courses/api/get_plannable_profile/',\n    edit: 'https://match.msnatuva.org/courses/api/edit_plannable_profile/'\n} as const;\n\nexport const external = {\n    enableDetails: true,\n    viewDetails(semesterId: string, courseId: number) {\n        window.open(\n            'https://rabi.phys.virginia.edu/mySIS/CS2/sectiontip.php?Semester=' +\n                semesterId +\n                '&ClassNumber=' +\n                courseId,\n            '_blank',\n            'width=650,height=700,scrollbars=yes'\n        );\n    },\n    enableGrades: true,\n    viewGrades(course: CourseFields) {\n        window.open(\n            `https://vagrades.com/uva/${course.department.toUpperCase()}${course.number}`,\n            '_blank',\n            'width=650,height=700,scrollbars=yes'\n        );\n    }\n} as const;\n\nexport default {\n    sideBarWidth: 19,\n    sideMargin: 3,\n    tabBarWidthMobile: 10,\n    tabBarWidth: 3,\n    backend,\n    external\n} as const;\n","/**\n * @module components\n */\n\n/**\n *\n */\nimport { Component } from 'vue-property-decorator';\nimport config from '../config';\nimport Store from '../store';\n\n/**\n * the container for the notification and content right of the side bar\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class MainContent extends Store {\n    get scheduleWidth() {\n        return this.status.sideBarActive\n            ? 100 - config.sideBarWidth - config.tabBarWidth - config.sideMargin\n            : 100 - config.tabBarWidth - config.sideMargin;\n    }\n    get scheduleLeft() {\n        return this.status.sideBarActive\n            ? config.sideBarWidth + config.tabBarWidth + 1\n            : config.tabBarWidth;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./MainContent.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./MainContent.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MainContent.vue?vue&type=template&id=728a3146&scoped=true&\"\nimport script from \"./MainContent.ts?vue&type=script&lang=ts&\"\nexport * from \"./MainContent.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./MainContent.vue?vue&type=style&index=0&id=728a3146&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"728a3146\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"dropdown\"},[_c('button',{staticClass:\"btn btn-info nav-btn mt-0\",attrs:{\"id\":\"semester\",\"data-toggle\":\"dropdown\"}},[(_vm.semester.pendingPromise)?_c('i',{staticClass:\"fa fa-times click-icon mr-2\",staticStyle:{\"font-size\":\"16px\"},attrs:{\"title\":\"Cancel loading\"},on:{\"click\":function($event){return _vm.semester.cancel()}}}):_vm._e(),(_vm.status.loading || _vm.semester.pendingPromise)?_c('span',{staticClass:\"spinner-border mr-1\",staticStyle:{\"width\":\"1.2em\",\"height\":\"1.2em\",\"margin-bottom\":\"0.1em\"}}):_vm._e(),_vm._v(\"\\n            \"+_vm._s(_vm.semester.currentSemester ? _vm.semester.currentSemester.name : 'Select Semester')+\"\\n            \"),_c('i',{staticClass:\"fas fa-caret-down ml-2\",staticStyle:{\"font-size\":\"20px\"}})]),(_vm.semester.semesters.length)?_c('div',{staticClass:\"dropdown-menu w-100\"},_vm._l((_vm.semester.semesters),function(sem){return _c('a',{key:sem.id,staticClass:\"dropdown-item w-100\",on:{\"click\":function($event){return _vm.selectSemester(sem)}}},[_vm._v(_vm._s(sem.name)+\"\\n            \")])}),0):_vm._e()]),_c('div',{staticClass:\"input-group mt-2\"},[_c('input',{ref:\"classSearch\",staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"text\",\"placeholder\":\"Title/Number/Topic/Prof./Desc.\"},on:{\"input\":function($event){return _vm.getClass($event.target.value)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.closeClassList()}}}),_c('div',{staticClass:\"input-group-append\"},[_c('span',{staticClass:\"input-group-text px-2\",class:{ 'click-icon': _vm.isEntering },on:{\"click\":_vm.closeClassList}},[(_vm.isEntering)?_c('i',{staticClass:\"fas fa-times\"}):_c('i',{staticClass:\"fas fa-search\"})])])]),(_vm.isEntering)?_c('ClassList',{ref:\"enteringClassList\",attrs:{\"courses\":_vm.inputCourses,\"matches\":_vm.inputMatches,\"schedule\":_vm.schedule.currentSchedule,\"is-entering\":_vm.isEntering,\"show-classlist-title\":_vm.display.showClasslistTitle,\"expand-on-entering\":_vm.display.expandOnEntering},on:{\"update_course\":_vm.updateCourse,\"course_modal\":function($event){return _vm.modal.showCourseModal($event.crs, $event.match)},\"close\":function($event){return _vm.closeClassList()}}}):_vm._e(),_c('button',{staticClass:\"btn btn-info nav-btn mt-2\",attrs:{\"title\":_vm.schedule.generated\n                ? 'Click to edit your schedule'\n                : 'Click to view generated schedules'},on:{\"click\":function($event){return _vm.schedule.switchSchedule(!_vm.schedule.generated)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.schedule.generated\n                ? (\"View Schedule: \" + (_vm.schedule.currentScheduleIndex + 1))\n                : 'Edit Classes')+\"\\n        \"),_c('i',{staticClass:\"fas fa-exchange-alt ml-4\",staticStyle:{\"font-size\":\"18px\"}})]),_c('div',{staticClass:\"row no-gutters mx-3 align-items-center justify-content-between\",staticStyle:{\"font-size\":\"24px\"}},[_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"fas fa-long-arrow-alt-left\",class:_vm.schedule.proposedScheduleIndex > 0 ? 'click-icon' : 'icon-disabled',attrs:{\"title\":\"previous schedule\"},on:{\"click\":function($event){return _vm.schedule.switchProposed(_vm.schedule.proposedScheduleIndex - 1)}}})]),_c('div',{staticClass:\"col-auto\",staticStyle:{\"font-size\":\"20px\"},attrs:{\"title\":\"the index of the current schedule\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.schedule.proposedScheduleIndex + 1)+\"\\n        \")]),_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"fas fa-long-arrow-alt-right\",class:_vm.schedule.proposedScheduleIndex < _vm.schedule.proposedSchedules.length - 1\n                        ? 'click-icon'\n                        : 'icon-disabled',attrs:{\"title\":\"next schedule\"},on:{\"click\":function($event){return _vm.schedule.switchProposed(_vm.schedule.proposedScheduleIndex + 1)}}})]),_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"far fa-calendar-plus click-icon\",attrs:{\"title\":\"new schedule\"},on:{\"click\":function($event){return _vm.schedule.newProposed()}}})]),_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"far fa-copy click-icon\",attrs:{\"title\":\"copy the current schedule to a new schedule\"},on:{\"click\":function($event){return _vm.schedule.copyCurrent()}}})]),_c('div',{staticClass:\"col-auto\"},[_c('i',{staticClass:\"far fa-calendar-times\",class:_vm.schedule.proposedSchedules.length > 1 ? 'click-icon' : 'icon-disabled',attrs:{\"title\":\"delete current schedule\"},on:{\"click\":function($event){return _vm.schedule.deleteProposed()}}})])]),_c('ClassList',{ref:\"selectedClassList\",attrs:{\"courses\":_vm.schedule.currentSchedule.currentCourses,\"schedule\":_vm.schedule.currentSchedule,\"show-any\":!_vm.schedule.generated,\"show-classlist-title\":_vm.display.showClasslistTitle},on:{\"update_course\":_vm.updateCourse,\"remove_course\":_vm.removeCourse,\"course_modal\":function($event){return _vm.modal.showCourseModal($event.crs, $event.match)}}}),_c('div',{staticClass:\"btn-group mt-3 w-100\"},[_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.generateSchedules()}}},[_vm._v(\"\\n            Generate\\n        \")]),_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"title\":\"Remove all classes from the current schedule\"},on:{\"click\":function($event){return _vm.schedule.clear()}}},[_vm._v(\"\\n            Clean\\n        \")])]),_c('div',{staticClass:\"custom-control custom-checkbox mt-2 mx-2\",attrs:{\"title\":\"render all selected sections (except for 'any section')\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.multiSelect),expression:\"display.multiSelect\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"multiSelect\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.multiSelect)?_vm._i(_vm.display.multiSelect,null)>-1:(_vm.display.multiSelect)},on:{\"change\":function($event){var $$a=_vm.display.multiSelect,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"multiSelect\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"multiSelect\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"multiSelect\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"multiSelect\"}},[_vm._v(\"\\n            Show Multiple Sections\\n        \")])]),_c('div',{staticClass:\"btn bg-info nav-btn mt-2\"},[_vm._v(\"\\n        Schedule Overview\\n    \")]),_c('ul',{staticClass:\"list-group list-group-flush\",staticStyle:{\"width\":\"99%\"}},[_c('li',{staticClass:\"list-group-item p-2\"},[_vm._v(\"\\n            Total Credits: \"+_vm._s(_vm.schedule.currentSchedule.totalCredit)+\"\\n            \"),(_vm.schedule.currentSchedule.totalCredit > 21)?_c('span',{staticClass:\"ml-2\",staticStyle:{\"font-size\":\"1.2rem\"},attrs:{\"title\":\"JUST DO IT\"}},[_vm._v(\"\\n                \\n            \")]):_vm._e()]),_c('table',{staticClass:\"ml-2 mr-0 mt-2 mb-2\"},_vm._l((_vm.currentIds),function(item){return _c('tr',{key:item[0]},[_c('td',[_vm._v(_vm._s(item[0]))]),_c('td',[_c('select',{staticClass:\"custom-select custom-select-sm py-0\"},_vm._l((item[1]),function(id){return _c('option',{key:id},[_vm._v(_vm._s(id))])}),0)])])}),0)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Tabs components, shown when their corresponding tabs are active\n * @module components/tabs\n * @preferred\n */\n\n/**\n *\n */\nimport { SearchMatch } from '@/models/Catalog';\nimport Course from '@/models/Course';\nimport Store from '@/store';\nimport { Component, Vue } from 'vue-property-decorator';\nimport ClassList from '../ClassList.vue';\n\n/**\n * component for editing classes and manipulating schedules\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component({\n    components: {\n        ClassList\n    }\n})\nexport default class ClassView extends Store {\n    /**\n     * get the list of current ids, sorted in alphabetical order of the keys\n     */\n    get currentIds() {\n        return Object.entries(this.schedule.currentSchedule.currentIds).sort((a, b) =>\n            a[0] === b[0] ? 0 : a[0] < b[0] ? -1 : 1\n        );\n    }\n    // autocompletion related fields\n    isEntering = false;\n    inputCourses: Course[] = [];\n    inputMatches: SearchMatch[] = [];\n\n    /**\n     * get classes that match the input query.\n     * Exit \"entering\" mode on falsy parameter (set `isEntering` to false)\n     *\n     * if a generated schedule is displayed, switch to proposed schedule,\n     * because we're adding stuff to the proposed schedule\n     *\n     * @see Catalog.search\n     */\n    getClass(query: string) {\n        if (!query) {\n            this.isEntering = false;\n            this.inputCourses = [];\n            this.inputMatches = [];\n            return;\n        }\n        if (this.schedule.generated) {\n            this.schedule.switchSchedule(false);\n        }\n\n        console.time('query');\n        [this.inputCourses, this.inputMatches] = window.catalog.search(\n            query,\n            this.display.numSearchResults\n        );\n        console.timeEnd('query');\n\n        this.isEntering = true;\n    }\n\n    closeClassList() {\n        (this.$refs.classSearch as HTMLInputElement).value = '';\n        this.getClass('');\n    }\n\n    /**\n     * @see Schedule.update\n     */\n    updateCourse(key: string, section: number, remove = false) {\n        this.schedule.currentSchedule.update(key, section, remove);\n        if (this.schedule.generated) this.noti.warn(`You're editing the generated schedule!`);\n\n        // note: adding a course to schedule.All cannot be detected by Vue.\n        // Must use forceUpdate to re-render component\n        (this.$refs.selectedClassList as Vue).$forceUpdate();\n        const classList = this.$refs.enteringClassList;\n        if (classList instanceof Vue) (classList as Vue).$forceUpdate();\n        this.saveStatus();\n    }\n\n    removeCourse(key: string) {\n        if (this.schedule.generated) this.noti.warn(`You're editing the generated schedule!`);\n        this.schedule.currentSchedule.remove(key);\n        this.saveStatus();\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ClassView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ClassView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassView.vue?vue&type=template&id=63c72731&\"\nimport script from \"./ClassView.ts?vue&type=script&lang=ts&\"\nexport * from \"./ClassView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"\\n            Compare Schedules\\n        \")]),(_vm.compare.length)?_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},_vm._l((_vm.compare),function(cur,idx){return _c('li',{key:cur,staticClass:\"list-group-item px-1\",on:{\"mouseenter\":function($event){return _vm.highlight(idx)},\"mouseleave\":function($event){return _vm.highlight(idx)}}},[_c('div',{staticClass:\"row no-gutters justify-content-between\"},[_c('div',{staticClass:\"col-sm-auto mr-auto\",attrs:{\"title\":_vm.getTitle(idx)}},[_vm._v(\"\\n                        Schedule \"+_vm._s(cur.pIdx + 1)+\"/\"+_vm._s(cur.index + 1)),_c('br'),_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Profile \\\"\"+_vm._s(cur.profileName)+\"\\\"\")]),_c('br')]),_c('div',{staticClass:\"col-sm-auto mr-1 align-self-center\"},[_c('button',{attrs:{\"title\":\"if you want your schedule to be as similar to this schedule as possible, click me\"},on:{\"click\":function($event){return _vm.similarity(idx)}}},[_vm._v(\"\\n                            Ref\\n                            \"),(_vm.isSimilarSchedule(idx))?_c('i',{staticClass:\"far fa-check-square\"}):_c('i',{staticClass:\"far fa-square\"})])]),_c('div',{staticClass:\"col-sm-auto text-right align-self-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(cur.color),expression:\"cur.color\"}],staticClass:\"mr-1\",staticStyle:{\"width\":\"25px\"},attrs:{\"type\":\"color\"},domProps:{\"value\":(cur.color)},on:{\"change\":function($event){return _vm.renderSchedule()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(cur, \"color\", $event.target.value)}}}),_c('i',{staticClass:\"fas fa-sync-alt click-icon\",attrs:{\"title\":\"get a random color\"},on:{\"click\":function($event){return _vm.randColor(idx)}}}),_c('i',{staticClass:\"fa fa-times ml-2 click-icon\",staticStyle:{\"font-size\":\"16px\"},attrs:{\"title\":\"delete this schedule\"},on:{\"click\":function($event){return _vm.deleteCompare(idx)}}})])])])}),0):_c('div',{staticClass:\"mx-4 my-2\"},[_vm._v(\"\\n            You haven't selected any schedule to compare yet. Select one by clicking the\\n            \\\"Compare\\\" button at the top of the page when you have generated some schedules. You\\n            can also compare generated schedules across different profiles.\\n        \")]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"\\n            Sort by Similarity to Another Schedule\\n        \")]),_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},[(_vm.filter.similarityEnabled)?_c('li',{staticClass:\"list-group-item px-1\"},[_c('pre',[_vm._v(_vm._s(_vm.refSchedule))])]):_c('li',{staticClass:\"list-group-item\"},[_vm._v(\"\\n                Select \\\"Ref\\\" for any schedule in the compare list to enable sort by similarity\\n                with reference to the selected schedule.\\n            \")])])]),_c('main-content',[_c('grid-schedule',{attrs:{\"current-schedule\":_vm.compareSchedule}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row no-gutters justify-content-start px-1 mb-3\",style:((\"width: \" + (_vm.display.width) + \"%\"))},[_c('div',{staticClass:\"col-xs-auto\"},[_c('div',{staticClass:\"grid-container time\",style:({\n                'grid-template-columns': 'auto',\n                height: _vm.mainHeight,\n                'grid-template-rows': _vm.heightInfo.reduce(function (acc, x) { return acc + (x + 'px '); }, '40px ')\n            })},[_c('div'),_vm._l((_vm.hours),function(hour){return _c('div',{key:hour},[_vm._v(_vm._s(hour))])})],2)]),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"grid-container main\",style:({\n                'grid-template-columns': _vm.gridTemplateCols,\n                position: 'relative',\n                'grid-template-rows': _vm.heightInfo.reduce(function (acc, x) { return acc + (x + 'px '); }, '48px '),\n                height: _vm.mainHeight\n            })},[(_vm.status.isMobile)?_vm._l((_vm.days),function(day){return _c('div',{key:day,staticClass:\"placeholder day\"},[_vm._v(_vm._s(day))])}):_vm._l((_vm.daysFull),function(day){return _c('div',{key:day,staticClass:\"placeholder day\"},[_vm._v(\"\\n                    \"+_vm._s(day)+\"\\n                \")])}),_vm._l((_vm.numRow * _vm.numCol),function(idx){return _c('div',{key:idx,staticClass:\"placeholder\",staticStyle:{\"z-index\":\"1\"}})}),_vm._l((_vm.days),function(day,idx){return _vm._l((_vm.currentSchedule.days[+idx]),function(scheduleBlock,_){return _c('course-block',{key:day + _,style:({\n                        left: (+idx + scheduleBlock.left) * (100 / _vm.numCol) + '%',\n                        width: (100 / _vm.numCol) * scheduleBlock.width + '%'\n                    }),attrs:{\"schedule-block\":scheduleBlock,\"height-info\":_vm.heightInfo,\"absolute-earliest\":_vm.absoluteEarliest,\"day\":day}})})})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"courseBlock\",class:{ 'block-strong': _vm.scheduleBlock.strong },style:({\n        'margin-top': _vm.startPx + 'px',\n        height: _vm.endPx - _vm.startPx + 'px',\n        'background-color': _vm.scheduleBlock.backgroundColor\n    }),on:{\"click\":_vm.showModal}},[(!_vm.status.isMobile)?_c('div',[(_vm.isSection)?_c('div',[_c('div',{staticClass:\"mt-2 ml-2\",staticStyle:{\"color\":\"white\",\"font-size\":\"13px\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.firstSec.displayName)+\"\\n            \")]),(_vm.display.showInstructor)?_c('div',{staticClass:\"ml-2 crs-info\"},[_vm._v(\"\\n                \"+_vm._s(_vm.firstSec.instructors.join(', '))+\"\\n            \")]):_vm._e(),(_vm.display.showRoom && _vm.room)?_c('div',{staticClass:\"ml-2 crs-info\"},[_vm._v(\"\\n                \"+_vm._s(_vm.room)+\"\\n            \")]):_vm._e(),(_vm.display.showTime)?_vm._l((_vm.firstSec.meetings),function(meeting){return _c('div',{key:meeting.days,staticClass:\"ml-2 crs-info\"},[_vm._v(\"\\n                    \"+_vm._s(meeting.days)+\"\\n                \")])}):_vm._e()],2):_vm._e(),(_vm.isCourse)?_c('div',[_c('div',{staticClass:\"mt-2 ml-2\",staticStyle:{\"color\":\"white\",\"font-size\":\"13px\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.firstSec.department)+\"\\n                \"+_vm._s(_vm.firstSec.number)+\"-\"+_vm._s(_vm.firstSec.section)+\" +\"+_vm._s(_vm.scheduleBlock.section.sections.length - 1)+\"\\n                \"+_vm._s(_vm.firstSec.type)+\"\\n            \")]),(_vm.display.showTime)?_vm._l((_vm.firstSec.meetings),function(meeting){return _c('div',{key:meeting.days,staticClass:\"ml-2 crs-info\"},[_vm._v(\"\\n                    \"+_vm._s(meeting.days)+\"\\n                \")])}):_vm._e(),(_vm.display.showInstructor)?_c('div',{staticClass:\"ml-2 crs-info\"},[_vm._v(\"\\n                \"+_vm._s(_vm.firstSec.instructors.join(', '))+\" and\\n                \"+_vm._s(_vm.scheduleBlock.section.sections.reduce(\n                        function (acc, x) { return acc + x.instructors.length; },\n                        0\n                    ) - 1)+\"\\n                more\\n            \")]):_vm._e(),(_vm.display.showRoom)?_c('div',{staticClass:\"ml-2 crs-info\"},[_vm._v(\"\\n                \"+_vm._s(_vm.firstSec.meetings[0].room)+\" and\\n                \"+_vm._s(_vm.scheduleBlock.section.sections.length - 1)+\" more\\n            \")]):_vm._e()],2):_vm._e(),(_vm.isEvent)?_c('div',[_c('div',{staticClass:\"ml-2 mt-2\"},[_vm._v(\"\\n                \"+_vm._s(_vm.scheduleBlock.section.title)+\"\\n            \")]),_c('div',{staticClass:\"ml-2 crs-info\"},[_vm._v(\"\\n                \"+_vm._s(_vm.scheduleBlock.section.days)),_c('br'),_vm._v(\"\\n                \"+_vm._s(_vm.scheduleBlock.section.room)+\"\\n            \")]),_c('div',{staticClass:\"ml-2 crs-info\",domProps:{\"innerHTML\":_vm._s(_vm.scheduleBlock.section.description)}})]):_vm._e()]):_c('div',{staticClass:\"mt-2 ml-2\",staticStyle:{\"color\":\"white\",\"font-size\":\"10px\"}},[(_vm.isSection)?_c('div',[_vm._v(\"\\n            \"+_vm._s(_vm.firstSec.department)+\" \"),_c('br'),_vm._v(\"\\n            \"+_vm._s(_vm.firstSec.number)+\" \"),_c('br'),_vm._v(\"\\n            \"+_vm._s(_vm.firstSec.section)+\"\\n        \")]):_vm._e(),(_vm.isCourse)?_c('div',[_vm._v(\"\\n            \"+_vm._s(_vm.firstSec.department)+\" \"),_c('br'),_vm._v(\"\\n            \"+_vm._s(_vm.firstSec.number)+\" \"),_c('br'),_vm._v(\"\\n            \"+_vm._s(_vm.firstSec.section)+\" +\"+_vm._s(_vm.scheduleBlock.section.length - 1)+\"\\n        \")]):_vm._e(),(_vm.isEvent)?_c('div',[_vm._v(\"\\n            \"+_vm._s(_vm.scheduleBlock.section.days)+\"\\n        \")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module components\n */\n\n/**\n *\n */\nimport { Component, Prop } from 'vue-property-decorator';\nimport Course from '../models/Course';\nimport Event from '../models/Event';\nimport ScheduleBlock from '../models/ScheduleBlock';\nimport Section from '../models/Section';\nimport Store from '../store';\nimport { timeToNum, to12hr } from '../utils';\n\n/**\n * the component for rendering a course on GridSchedule\n * @author Kaiying Shan, Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class CourseBlock extends Store {\n    @Prop(ScheduleBlock) readonly scheduleBlock!: ScheduleBlock;\n    @Prop(Array) readonly heightInfo!: number[];\n    @Prop(Number) readonly absoluteEarliest!: number;\n    @Prop(String) readonly day!: string;\n\n    get startPx() {\n        return this.getPx(this.scheduleBlock.start);\n    }\n\n    get endPx() {\n        return this.getPx(this.scheduleBlock.end);\n    }\n\n    getPx(time: string) {\n        let px = 48;\n        const t = time.split(':');\n        const min = parseInt(t[1]) >= 30 ? parseInt(t[1]) - 30 : parseInt(t[1]);\n\n        const temp = timeToNum(time);\n        for (let i = this.absoluteEarliest; i < temp; i++) {\n            px += this.heightInfo[i - this.absoluteEarliest];\n        }\n        px += (min / 30) * this.display.fullHeight;\n        return px;\n    }\n\n    get firstSec(): Section {\n        const section = this.scheduleBlock.section;\n        if (section instanceof Course) return section.getFirstSection();\n        else if (section instanceof Section) return section;\n        return (section as any) as Section;\n    }\n\n    get room() {\n        if (!(this.firstSec instanceof Section)) return null;\n\n        for (const meeting of this.firstSec.meetings) {\n            if (meeting.days.indexOf(this.day) !== -1) {\n                const convedStart = to12hr(this.scheduleBlock.start);\n                const convedEnd = to12hr(this.scheduleBlock.end);\n                const [, start, , end] = meeting.days.split(' ');\n                if (convedStart === start && convedEnd === end) {\n                    return meeting.room;\n                }\n            }\n        }\n        return null;\n    }\n    get isSection() {\n        return this.scheduleBlock.section instanceof Section;\n    }\n    get isEvent() {\n        return this.scheduleBlock.section instanceof Event;\n    }\n    get isCourse() {\n        return this.scheduleBlock.section instanceof Course;\n    }\n\n    showModal() {\n        const section = this.scheduleBlock.section;\n        if (this.isSection) {\n            this.modal.showSectionModal(section as Section);\n        } else if (this.isCourse) {\n            this.modal.showCourseModal(section as Course);\n        } else if (this.isEvent) {\n            if (!this.status.sideBar.showEvent) this.status.switchSideBar('showEvent');\n            this.status.eventToEdit = section as Event;\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./CourseBlock.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./CourseBlock.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CourseBlock.vue?vue&type=template&id=ab5d4176&scoped=true&\"\nimport script from \"./CourseBlock.ts?vue&type=script&lang=ts&\"\nexport * from \"./CourseBlock.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./CourseBlock.vue?vue&type=style&index=0&id=ab5d4176&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ab5d4176\",\n  null\n  \n)\n\nexport default component.exports","/**\n * @module components\n */\n\n/**\n *\n */\nimport Schedule from '@/models/Schedule';\nimport { Component, Prop } from 'vue-property-decorator';\nimport { DAYS } from '../models/Meta';\nimport Store from '../store';\nimport { timeToNum, to12hr } from '../utils';\nimport CourseBlock from './CourseBlock.vue';\n\n/**\n * the component for rendering a schedule (with courses and events) on a grid\n * @author Kaiying Cat\n * @noInheritDoc\n */\n@Component({\n    components: {\n        CourseBlock\n    }\n})\nexport default class GridSchedule extends Store {\n    @Prop(Schedule) readonly currentSchedule!: Schedule;\n\n    df = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\n    // note: we need Schedule.days because it's an array that keeps the keys in order\n    get days() {\n        return this.display.showWeekend ? DAYS : DAYS.slice(0, 5);\n    }\n\n    get daysFull() {\n        return this.display.showWeekend ? this.df : this.df.slice(0, 5);\n    }\n\n    /**\n     * return the block in which the earliest class starts, the 8:00 block is zero\n     * return 0 if no class\n     */\n    get earliestBlock() {\n        let earliest = 817;\n        const schedule = this.currentSchedule;\n        for (const blocks of schedule.days) {\n            for (const course of blocks) {\n                const temp = timeToNum(course.start);\n                if (temp < earliest) {\n                    earliest = temp;\n                }\n            }\n        }\n        return earliest;\n    }\n    /**\n     * return the block in which the latest class ends, the 8:00 block is zero\n     */\n    get latestBlock() {\n        let latest = 0;\n        const schedule = this.currentSchedule;\n        for (const blocks of schedule.days) {\n            for (const course of blocks) {\n                const temp = timeToNum(course.end);\n                if (temp > latest) {\n                    latest = temp;\n                }\n            }\n        }\n        return latest;\n    }\n    /**\n     * return the block in which the schedule starts with\n     */\n    get absoluteEarliest() {\n        const early = this.display.earliest;\n        if (timeToNum(early) > this.earliestBlock) {\n            return this.earliestBlock;\n        } else {\n            return timeToNum(early);\n        }\n    }\n    /**\n     * return the block in which the schedule ends with\n     */\n    get absoluteLatest() {\n        const late = this.display.latest;\n        if (timeToNum(late) < this.latestBlock) {\n            return this.latestBlock;\n        } else {\n            return timeToNum(late);\n        }\n    }\n\n    /**\n     * computes the number of rows we need\n     */\n    get numRow() {\n        return this.absoluteLatest + 1 - this.absoluteEarliest;\n    }\n\n    get numCol() {\n        return this.display.showWeekend ? 7 : 5;\n    }\n\n    get gridTemplateCols() {\n        return `${100 / this.numCol}% `.repeat(this.numCol);\n    }\n\n    get hours() {\n        let curTime = '';\n        if (this.absoluteEarliest % 2 === 0) {\n            curTime = this.absoluteEarliest / 2 + 8 + ':00';\n        } else {\n            curTime = (this.absoluteEarliest - 1) / 2 + 8 + ':30';\n        }\n\n        const time = [];\n        const stdTime = [];\n        const reducedTime = [];\n        for (let i = this.absoluteEarliest; i <= this.absoluteLatest; i++) {\n            time.push(curTime);\n            stdTime.push(to12hr(curTime));\n            curTime = this.increTime(curTime);\n            // note: need .toString to make the type of reducedTime consistent\n            reducedTime.push(i % 2 !== 0 ? '' : (i / 2 + 8).toString());\n        }\n\n        return window.screen.width > 450 ? (this.display.standard ? stdTime : time) : reducedTime;\n    }\n    get heightInfo() {\n        const info: number[] = new Array(this.numRow).fill(this.display.partialHeight);\n        const earliest = this.absoluteEarliest;\n        const schedule = this.currentSchedule;\n        for (const blocks of schedule.days) {\n            for (const course of blocks) {\n                const startTime = timeToNum(course.start);\n                const endTime = timeToNum(course.end);\n                for (let i = startTime; i <= endTime; i++) {\n                    info[i - earliest] = this.display.fullHeight;\n                }\n            }\n        }\n        return info;\n    }\n    get mainHeight() {\n        return this.heightInfo.reduce((sum, h) => sum + h, 0);\n    }\n\n    increTime(time: string) {\n        const sep = time.split(' ')[0].split(':');\n        const hr = parseInt(sep[0]);\n        const min = parseInt(sep[1]);\n        return (\n            hr +\n            ((min + 30) / 60 >= 1 ? 1 : 0) +\n            ':' +\n            ((min + 30) % 60 < 10 ? '0' + ((min + 30) % 60) : (min + 30) % 60)\n        );\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./GridSchedule.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./GridSchedule.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GridSchedule.vue?vue&type=template&id=9fad04cc&scoped=true&\"\nimport script from \"./GridSchedule.ts?vue&type=script&lang=ts&\"\nexport * from \"./GridSchedule.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./GridSchedule.vue?vue&type=style&index=0&id=9fad04cc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9fad04cc\",\n  null\n  \n)\n\nexport default component.exports","/**\r\n * @module components/tabs\r\n */\r\n\r\n/**\r\n *\r\n */\r\nimport Schedule, { ScheduleAll } from '@/models/Schedule';\r\nimport ScheduleBlock from '@/models/ScheduleBlock';\r\nimport Store from '@/store';\r\nimport randomColor from 'randomcolor';\r\nimport { Component } from 'vue-property-decorator';\r\nimport GridSchedule from '../GridSchedule.vue';\r\nimport MainContent from '../MainContent.vue';\r\n\r\n/**\r\n * component for comparing multiple schedules\r\n * @author Kaiying Shan, Hanzhi Zhou\r\n * @noInheritDoc\r\n */\r\n@Component({\r\n    components: {\r\n        GridSchedule,\r\n        MainContent\r\n    }\r\n})\r\nexport default class CompareView extends Store {\r\n    compareSchedule = new Schedule();\r\n    highlightIdx = -1;\r\n\r\n    created() {\r\n        this.renderSchedule();\r\n    }\r\n\r\n    get refSchedule() {\r\n        return this.getDesc(this.filter.refSchedule);\r\n    }\r\n\r\n    renderSchedule() {\r\n        this.compareSchedule = new Schedule();\r\n        for (let i = 0; i < this.compare.length; i++) {\r\n            const { schedule, color } = this.compare[i];\r\n            for (let j = 0; j < 7; j++) {\r\n                for (const sb of schedule.days[j]) {\r\n                    const nsb = new ScheduleBlock(color, sb.start, sb.end, sb.section);\r\n                    nsb.strong = this.highlightIdx === i;\r\n                    this.compareSchedule.days[j].push(nsb);\r\n                }\r\n            }\r\n        }\r\n        this.compareSchedule.computeBlockPositions();\r\n    }\r\n    randColor(idx: number) {\r\n        this.compare[idx].color = randomColor({ luminosity: 'dark' });\r\n        this.renderSchedule();\r\n    }\r\n    deleteCompare(idx: number) {\r\n        this.compare.splice(idx, 1);\r\n        this.renderSchedule();\r\n    }\r\n    /**\r\n     * get the description of the schedule at index `idx` of the `compare` array\r\n     * @param idx\r\n     */\r\n    getTitle(idx: number) {\r\n        const { schedule, pIdx, index } = this.compare[idx];\r\n        return (\r\n            `Generated schedule ${index + 1},\\nCorresponds to proposed schedule ${pIdx + 1}\\n` +\r\n            `Total credits: ${schedule.totalCredit}\\n${this.getDesc(schedule.All)}`\r\n        );\r\n    }\r\n    /**\r\n     * get description for a schedule\r\n     * @param All the `All variable` of a schedule\r\n     * @see [[Schedule.All]]\r\n     */\r\n    getDesc(All: ScheduleAll) {\r\n        const catalog = window.catalog;\r\n        return Object.entries(All)\r\n            .map(x => {\r\n                const course = catalog.getCourse(...x);\r\n                return `${course.department} ${course.number}-${course.sections\r\n                    .map(y => y.section)\r\n                    .reduce((a, z) => a + '/' + z)} ${course.title}`;\r\n            })\r\n            .reduce((a, x) => a + '\\n' + x);\r\n    }\r\n    highlight(idx: number) {\r\n        if (idx === this.highlightIdx) {\r\n            this.highlightIdx = -1;\r\n        } else {\r\n            this.highlightIdx = idx;\r\n        }\r\n        this.renderSchedule();\r\n    }\r\n    similarity(idx: number) {\r\n        const evaluator = window.scheduleEvaluator;\r\n        // remove similarity cache\r\n        delete evaluator.sortCoeffCache.similarity;\r\n        const opt = evaluator.options.sortBy.find(x => x.name === 'similarity')!;\r\n\r\n        // we click the reference schedule again: clear the reference schedule\r\n        if (this.compare[idx].schedule.allEquals(evaluator.refSchedule)) {\r\n            this.filter.refSchedule = evaluator.refSchedule = {};\r\n            opt.enabled = false;\r\n        } else {\r\n            this.filter.refSchedule = evaluator.refSchedule = this.compare[idx].schedule.All;\r\n            opt.enabled = true;\r\n        }\r\n        if (!evaluator.empty() && this.validateSortOptions()) {\r\n            evaluator.sort();\r\n            if (!this.schedule.generated) {\r\n                this.schedule.switchSchedule(true);\r\n            } else {\r\n                // re-assign the current schedule\r\n                this.schedule.currentSchedule = evaluator.getSchedule(\r\n                    this.schedule.currentScheduleIndex\r\n                );\r\n            }\r\n        }\r\n        this.$forceUpdate();\r\n    }\r\n    isSimilarSchedule(idx: number) {\r\n        return this.compare[idx].schedule.allEquals(window.scheduleEvaluator.refSchedule);\r\n    }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./CompareView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./CompareView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CompareView.vue?vue&type=template&id=3ce4e76a&\"\nimport script from \"./CompareView.ts?vue&type=script&lang=ts&\"\nexport * from \"./CompareView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"\\n        Schedule Settings\\n    \")]),_c('div',{staticClass:\"form-group row no-gutters mt-2 mb-0 mx-2\",attrs:{\"title\":\"Schedule grid earlier than this time won't be displayed if you don't have any class before that time\"}},[_c('label',{staticClass:\"col-lg-6 col-form-label\",attrs:{\"for\":\"schedule-start\"}},[_vm._v(\"\\n            Schedule Start\\n        \")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.earliest),expression:\"display.earliest\"}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"schedule-start\",\"type\":\"time\",\"min\":\"0:00\",\"max\":\"12:00\"},domProps:{\"value\":(_vm.display.earliest)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"earliest\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-0 mx-2\",attrs:{\"title\":\"Schedule grid later than this time won't be displayed if you don't have any class before that time\"}},[_c('label',{staticClass:\"col-lg-6 col-form-label\",attrs:{\"for\":\"schedule-end\"}},[_vm._v(\"Schedule End\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.latest),expression:\"display.latest\"}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"schedule-end\",\"type\":\"time\",\"min\":\"12:00\",\"max\":\"23:59\"},domProps:{\"value\":(_vm.display.latest)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"latest\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-0 mx-2\",attrs:{\"title\":\"Height of the cells containing classes on the schedule grid\"}},[_c('label',{staticClass:\"col-lg-6 col-form-label\",attrs:{\"for\":\"class-height\"}},[_vm._v(\"Class Height\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.fullHeight),expression:\"display.fullHeight\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"class-height\",\"min\":\"1\",\"step\":\"1\",\"max\":\"100\",\"type\":\"number\"},domProps:{\"value\":(_vm.display.fullHeight)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"fullHeight\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-0 mx-2\",attrs:{\"title\":\"height of an empty cell. You can specify a smaller value to compress empty space\"}},[_c('label',{staticClass:\"col-lg-6 col-form-label\",attrs:{\"for\":\"grid-height\"}},[_vm._v(\"Grid Height\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.partialHeight),expression:\"display.partialHeight\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"grid-height\",\"min\":\"1\",\"step\":\"1\",\"max\":\"100\",\"type\":\"number\"},domProps:{\"value\":(_vm.display.partialHeight)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"partialHeight\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-0 mx-2\",attrs:{\"title\":\"Width of the schedule as a percentage relative to the parent container\"}},[_c('label',{staticClass:\"col-lg-6 col-form-label\",attrs:{\"for\":\"schedule-width\"}},[_vm._v(\"Width\")]),_c('div',{staticClass:\"col-lg-6\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.width),expression:\"display.width\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"schedule-width\",\"min\":\"10\",\"step\":\"1\",\"max\":\"1000\",\"type\":\"number\"},domProps:{\"value\":(_vm.display.width)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"width\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(0),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showWeekend),expression:\"display.showWeekend\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayWeekend\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showWeekend)?_vm._i(_vm.display.showWeekend,null)>-1:(_vm.display.showWeekend)},on:{\"change\":function($event){var $$a=_vm.display.showWeekend,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showWeekend\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showWeekend\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showWeekend\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayWeekend\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(1),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showTime),expression:\"display.showTime\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayTime\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showTime)?_vm._i(_vm.display.showTime,null)>-1:(_vm.display.showTime)},on:{\"change\":function($event){var $$a=_vm.display.showTime,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showTime\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showTime\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showTime\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayTime\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(2),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showRoom),expression:\"display.showRoom\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayRoom\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showRoom)?_vm._i(_vm.display.showRoom,null)>-1:(_vm.display.showRoom)},on:{\"change\":function($event){var $$a=_vm.display.showRoom,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showRoom\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showRoom\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showRoom\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayRoom\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-1 mx-2\"},[_vm._m(3),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"custom-control custom-checkbox ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showInstructor),expression:\"display.showInstructor\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayInstructor\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showInstructor)?_vm._i(_vm.display.showInstructor,null)>-1:(_vm.display.showInstructor)},on:{\"change\":function($event){var $$a=_vm.display.showInstructor,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showInstructor\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showInstructor\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showInstructor\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayInstructor\"}})])])]),_c('div',{staticClass:\"form-group row no-gutters mt-0 mb-2 mx-2\"},[_vm._m(4),_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"custom-control custom-radio custom-control-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.standard),expression:\"display.standard\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"hr12\",\"type\":\"radio\"},domProps:{\"value\":true,\"checked\":_vm._q(_vm.display.standard,true)},on:{\"change\":function($event){return _vm.$set(_vm.display, \"standard\", true)}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"hr12\"}},[_vm._v(\"12\")])]),_c('div',{staticClass:\"custom-control custom-radio custom-control-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.standard),expression:\"display.standard\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"hr24\",\"type\":\"radio\"},domProps:{\"value\":false,\"checked\":_vm._q(_vm.display.standard,false)},on:{\"change\":function($event){return _vm.$set(_vm.display, \"standard\", false)}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"hr24\"}},[_vm._v(\"24\")])])])]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"\\n        Course Search\\n    \")]),_c('li',{staticClass:\"list-group-item mb-0 pt-1\",staticStyle:{\"border-bottom\":\"0\"}},[_c('label',{attrs:{\"for\":\"num-search-results\"}},[_vm._v(\"\\n            Max number of search results\\n        \")]),_c('div',{staticClass:\"mr-5 mb-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.numSearchResults),expression:\"display.numSearchResults\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"num-search-results\",\"type\":\"number\",\"min\":\"1\",\"step\":\"1\",\"max\":\"20\"},domProps:{\"value\":(_vm.display.numSearchResults)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"numSearchResults\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.expandOnEntering),expression:\"display.expandOnEntering\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"exp-on-entering\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.expandOnEntering)?_vm._i(_vm.display.expandOnEntering,null)>-1:(_vm.display.expandOnEntering)},on:{\"change\":function($event){var $$a=_vm.display.expandOnEntering,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"expandOnEntering\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"expandOnEntering\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"expandOnEntering\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"exp-on-entering\"}},[_vm._v(\"\\n                Expand all when searching\\n            \")])]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.showClasslistTitle),expression:\"display.showClasslistTitle\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"displayClasslistTitle\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.showClasslistTitle)?_vm._i(_vm.display.showClasslistTitle,null)>-1:(_vm.display.showClasslistTitle)},on:{\"change\":function($event){var $$a=_vm.display.showClasslistTitle,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"showClasslistTitle\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"showClasslistTitle\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"showClasslistTitle\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"displayClasslistTitle\"}},[_vm._v(\"\\n                Show description on class list\\n            \")])])]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"\\n        Advanced Features\\n    \")]),_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},[_c('li',{staticClass:\"list-group-item pb-1 pt-0\"},[_c('div',{staticClass:\"form-group my-1\"},[_c('label',{attrs:{\"for\":\"num-schedule\"}},[_vm._v(\"Max number of schedules\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.display.maxNumSchedules),expression:\"display.maxNumSchedules\",modifiers:{\"number\":true}}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"num-schedule\",\"type\":\"number\",\"min\":\"1000\",\"step\":\"1\",\"max\":\"2000000\"},domProps:{\"value\":(_vm.display.maxNumSchedules)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.display, \"maxNumSchedules\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"custom-control custom-checkbox\",attrs:{\"title\":\"Combine sections ocurring at the same time\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.combineSections),expression:\"display.combineSections\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"comb-sec\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.combineSections)?_vm._i(_vm.display.combineSections,null)>-1:(_vm.display.combineSections)},on:{\"change\":function($event){var $$a=_vm.display.combineSections,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"combineSections\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"combineSections\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"combineSections\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"comb-sec\"}},[_vm._v(\"Combine Sections\")])]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.enableLog),expression:\"display.enableLog\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"enable-log\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.enableLog)?_vm._i(_vm.display.enableLog,null)>-1:(_vm.display.enableLog)},on:{\"change\":function($event){var $$a=_vm.display.enableLog,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"enableLog\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"enableLog\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"enableLog\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"enable-log\"}},[_vm._v(\"\\n                    Enable Log History\\n                \")])]),_c('div',{staticClass:\"custom-control custom-checkbox mb-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.display.enableFuzzy),expression:\"display.enableFuzzy\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"enable-fuzzy\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.display.enableFuzzy)?_vm._i(_vm.display.enableFuzzy,null)>-1:(_vm.display.enableFuzzy)},on:{\"change\":function($event){var $$a=_vm.display.enableFuzzy,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.display, \"enableFuzzy\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.display, \"enableFuzzy\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.display, \"enableFuzzy\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"enable-fuzzy\"}},[_vm._v(\"\\n                    Enable Fuzzy Search\\n                \")])])]),_c('li',{staticClass:\"list-group-item\"},[_c('button',{staticClass:\"btn btn-outline-info mb-1 w-100\",on:{\"click\":function($event){return _vm.selectSemester(_vm.semester.currentSemester, true)}}},[_vm._v(\"\\n                Update Semester Data\\n            \")]),_c('small',{staticClass:\"text-center form-text text-muted\"},[_vm._v(\"\\n                Last update: \"+_vm._s(_vm.semester.lastUpdate)+\"\\n            \")])]),_c('li',{staticClass:\"list-group-item\"},[_c('button',{staticClass:\"btn btn-outline-danger w-100\",on:{\"click\":function($event){return _vm.clearCache()}}},[_vm._v(\"\\n                Reset All and Clean\\n            \")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayWeekend\"}},[_vm._v(\"Show Weekends\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayTime\"}},[_vm._v(\"Show Time\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayRoom\"}},[_vm._v(\"Show Room\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayInstructor\"}},[_vm._v(\"Show Instructor\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-lg-6\"},[_c('label',{staticClass:\"m-0\",attrs:{\"for\":\"displayInstructor\"}},[_vm._v(\"Time Options\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module components/tabs\n */\n\n/**\n *\n */\nimport CatalogDB from '@/database/CatalogDB';\nimport Store from '@/store';\nimport { Component } from 'vue-property-decorator';\n\n/**\n * component for editing settings. This component should really be named as `SettingsView`,\n * but it is called `DisplayView` for historical reasons.\n * @author Kaiying Shan, Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class DisplayView extends Store {\n    /**\n     * clear the localStorage and reload the page\n     */\n    async clearCache() {\n        if (confirm('Your selected classes and schedules will be cleaned. Are you sure?')) {\n            window.localStorage.clear();\n            const { currentSemester } = this.semester;\n            if (currentSemester) new CatalogDB(currentSemester).delete();\n            window.location.reload(true);\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./DisplayView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./DisplayView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DisplayView.vue?vue&type=template&id=7a541595&\"\nimport script from \"./DisplayView.ts?vue&type=script&lang=ts&\"\nexport * from \"./DisplayView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn mt-0\",attrs:{\"id\":\"semester\"}},[(_vm.status.eventToEdit)?_c('div',[_vm._v(\"Edit Event\")]):_c('div',[_vm._v(\"Add Event\")])]),_c('form',{staticClass:\"mt-2 mx-2\"},[_c('div',{staticClass:\"form-group row no-gutters mb-1\"},[_c('label',{staticClass:\"col-lg-5 col-form-label\",attrs:{\"for\":\"event-title\"}},[_vm._v(\"Title\")]),_c('div',{staticClass:\"col-lg-7\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventTitle),expression:\"eventTitle\"}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"event-title\",\"type\":\"text\"},domProps:{\"value\":(_vm.eventTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventTitle=$event.target.value}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-1\"},[_c('label',{staticClass:\"col-lg-5 col-form-label\",attrs:{\"for\":\"event-from\"}},[_vm._v(\"Start\")]),_c('div',{staticClass:\"col-lg-7\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventTimeFrom),expression:\"eventTimeFrom\"}],staticClass:\"form-control form-control-sm\",staticStyle:{\"-webkit-appearance\":\"button\"},attrs:{\"id\":\"event-from\",\"type\":\"time\"},domProps:{\"value\":(_vm.eventTimeFrom)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventTimeFrom=$event.target.value}}})])]),_c('div',{staticClass:\"form-group row no-gutters mb-1\"},[_c('label',{staticClass:\"col-lg-5 col-form-label\",attrs:{\"for\":\"event-to\"}},[_vm._v(\"End\")]),_c('div',{staticClass:\"col-lg-7\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventTimeTo),expression:\"eventTimeTo\"}],staticClass:\"form-control form-control-sm\",staticStyle:{\"-webkit-appearance\":\"button\"},attrs:{\"id\":\"event-to\",\"type\":\"time\"},domProps:{\"value\":(_vm.eventTimeTo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventTimeTo=$event.target.value}}})])]),_c('div',{staticClass:\"btn-group btn-days mb-2\",attrs:{\"role\":\"group\"}},_vm._l((_vm.days),function(day,idx){return _c('button',{key:idx,staticClass:\"btn btn-outline-secondary\",class:{ active: _vm.eventWeek[idx] },attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateDay(+idx)}}},[_vm._v(\"\\n                \"+_vm._s(day)+\"\\n            \")])}),0),_c('div',{staticClass:\"form-group row no-gutters mb-1\"},[_c('label',{staticClass:\"col-lg-5 col-form-label\",attrs:{\"for\":\"event-loc\"}},[_vm._v(\"Location\")]),_c('div',{staticClass:\"col-lg-7\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventRoom),expression:\"eventRoom\"}],staticClass:\"form-control form-control-sm\",attrs:{\"id\":\"event-loc\",\"type\":\"text\"},domProps:{\"value\":(_vm.eventRoom)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventRoom=$event.target.value}}})])])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventDescription),expression:\"eventDescription\"}],staticClass:\"my-2 mx-auto form-control\",staticStyle:{\"width\":\"98%\"},attrs:{\"placeholder\":\"Description\"},domProps:{\"value\":(_vm.eventDescription)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.eventDescription=$event.target.value}}}),(_vm.status.eventToEdit)?_c('div',{staticClass:\"btn-group\",staticStyle:{\"width\":\"100%\"},attrs:{\"role\":\"group\"}},[_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.endEditEvent()}}},[_vm._v(\"\\n            Update\\n        \")]),_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.cleanup()}}},[_vm._v(\"\\n            Cancel\\n        \")]),_c('button',{staticClass:\"btn btn-outline-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteEvent()}}},[_vm._v(\"\\n            Delete\\n        \")])]):_c('button',{staticClass:\"btn btn-outline-secondary ml-1\",staticStyle:{\"width\":\"98%\"},on:{\"click\":function($event){return _vm.addEvent()}}},[_vm._v(\"\\n        Add\\n    \")]),_vm._m(0),_c('table',{staticClass:\"table table-hover w-100\",staticStyle:{\"font-size\":\"14px\"}},[_c('thead',[_c('th',{staticStyle:{\"width\":\"100%\"}},[_vm._v(\"\\n                Number of events:\\n                \"+_vm._s(_vm.schedule.currentSchedule.events.length)+\"\\n            \")]),_c('th'),_c('th')]),_c('tbody',_vm._l((_vm.schedule.currentSchedule.events),function(ev){return _c('tr',{key:ev.key,class:{ 'table-primary': ev === _vm.status.eventToEdit },on:{\"mouseenter\":function($event){return _vm.schedule.currentSchedule.hoverEvent(ev.key)},\"mouseleave\":function($event){return _vm.schedule.currentSchedule.unhoverEvent(ev.key)}}},[_c('td',{on:{\"click\":function($event){_vm.status.eventToEdit = ev}}},[_vm._v(_vm._s(ev.title))]),_c('td',{staticClass:\"pl-0 pr-2\",on:{\"click\":function($event){return _vm.copyEvent(ev)}}},[_c('i',{staticClass:\"far fa-copy click-icon\",staticStyle:{\"font-size\":\"20px\"},attrs:{\"title\":\"copy the current event to a new event\"}})]),_c('td',{staticClass:\"pl-0 pr-2\",on:{\"click\":function($event){_vm.status.eventToEdit = ev}}},[_c('i',{staticClass:\"click-icon\",class:_vm.status.eventToEdit === ev ? 'far fa-check-square' : 'far fa-square',staticStyle:{\"font-size\":\"20px\"}})])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn bg-info nav-btn mt-3\",attrs:{\"id\":\"semester\"}},[_c('div',[_vm._v(\"Event List\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module components/tabs\n */\n\n/**\n *\n */\nimport Event from '@/models/Event';\nimport { DAYS } from '@/models/Meta';\nimport Store from '@/store';\nimport { hr24toInt, to12hr, to24hr } from '@/utils';\nimport { Component, Watch } from 'vue-property-decorator';\n\n/**\n * the component for adding and editing events\n * @author Kaiying Shan, Hanzhi Zhou, Zichao Hu\n * @noInheritDoc\n */\n@Component\nexport default class EventView extends Store {\n    // event related fields\n    eventWeek = [false, false, false, false, false, false, false];\n    eventTimeFrom = '';\n    eventTimeTo = '';\n    eventTitle? = '';\n    eventRoom? = '';\n    eventDescription? = '';\n\n    toBeModifiedDays = '';\n\n    get days() {\n        return DAYS;\n    }\n\n    @Watch('status.eventToEdit', { immediate: true })\n    eventWatch() {\n        const { eventToEdit } = this.status;\n        if (eventToEdit) this.editEvent(eventToEdit);\n    }\n    // need to remove eventToEdit before switching other tabs\n    beforeDestroy() {\n        this.status.eventToEdit = null;\n    }\n    updateDay(idx: number) {\n        this.$set(this.eventWeek, idx, !this.eventWeek[idx]);\n    }\n    /**\n     * validate the days, start time and end time of this event, and then parse them\n     * to desired format. emit notification on error.\n     */\n    getEventDays() {\n        let days = this.eventWeek.reduce((acc, x, i) => acc + (x ? this.days[i] : ''), '');\n\n        if (!days) {\n            this.noti.error('Event: Please select at least one day');\n            return;\n        }\n        if (!this.eventTimeFrom || !this.eventTimeTo) {\n            this.noti.error('Event: Please check your start/end time');\n            return;\n        }\n        const start = hr24toInt(this.eventTimeFrom),\n            end = hr24toInt(this.eventTimeTo);\n        if (start >= end) {\n            this.noti.error('Event: Start time must be earlier than end time');\n            return;\n        }\n        days += ` ${to12hr(this.eventTimeFrom)} - ${to12hr(this.eventTimeTo)}`;\n        return days;\n    }\n    copyEvent(ev: Event) {\n        this.status.eventToEdit = null;\n        this.editEvent(ev);\n        this.eventTitle += '-copy';\n    }\n    addEvent() {\n        // fold sidebar on mobile\n        this.status.foldView();\n        try {\n            const days = this.getEventDays();\n            if (!days) return;\n\n            this.schedule.proposedSchedule.addEvent(\n                days,\n                true,\n                this.eventTitle,\n                this.eventRoom,\n                this.eventDescription ? this.eventDescription.split('\\n').join('<br />') : ''\n            );\n            // note: we don't need to regenerate schedules if the days property is not changed\n            this.cleanup(this.toBeModifiedDays !== days && this.schedule.generated);\n        } catch (err) {\n            this.noti.error(err.message);\n        }\n    }\n    /**\n     * bind the properties of this event to input fields\n     * @param event\n     */\n    editEvent(event: Event) {\n        this.eventTitle = event.title;\n        this.eventRoom = event.room;\n        this.eventDescription = event.description\n            ? event.description.split('<br />').join('\\n')\n            : '';\n        const [week, start, , end] = event.days.split(' ');\n        for (let i = 0; i < this.days.length; i++) {\n            if (week.indexOf(this.days[i]) !== -1) {\n                this.$set(this.eventWeek, i, true);\n            } else {\n                this.$set(this.eventWeek, i, false);\n            }\n        }\n        this.eventTimeFrom = to24hr(start);\n        this.eventTimeTo = to24hr(end);\n        this.toBeModifiedDays = event.days;\n    }\n    /**\n     * apply the edit\n     */\n    endEditEvent() {\n        this.schedule.proposedSchedule.deleteEvent(this.toBeModifiedDays);\n        this.addEvent();\n    }\n    deleteEvent() {\n        this.schedule.proposedSchedule.deleteEvent(this.toBeModifiedDays);\n        this.cleanup(this.schedule.generated);\n    }\n    /**\n     * Clear all properties of this component and force re-computation of the current schedule,\n     * called after deleteEvent, endEditEvent and addEvent.\n     * @param regenerate re-run algorithm if true\n     */\n    cleanup(regenerate = false) {\n        // fold sidebar on mobile\n        this.status.foldView();\n\n        this.eventRoom = this.eventTimeFrom = this.eventTimeTo = this.eventDescription = this.eventTitle =\n            '';\n        this.eventWeek.forEach((x, i, arr) => this.$set(arr, i, false));\n        this.status.eventToEdit = null;\n        if (regenerate) this.generateSchedules();\n        else this.schedule.currentSchedule.computeSchedule();\n        this.saveStatus();\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./EventView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./EventView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EventView.vue?vue&type=template&id=251320ae&\"\nimport script from \"./EventView.ts?vue&type=script&lang=ts&\"\nexport * from \"./EventView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"\\n        Import Profile\\n    \")]),_c('div',{staticClass:\"m-3\"},[_c('div',{staticClass:\"custom-file\"},[_c('input',{staticClass:\"custom-file-input\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"customFile\",\"type\":\"file\",\"accept\":\"text/json\"},on:{\"change\":function($event){return _vm.onUploadJson($event)}}}),_c('label',{staticClass:\"custom-file-label\",attrs:{\"for\":\"customFile\"}},[_vm._v(\"Import From..\")])]),_c('small',{staticClass:\"text-center form-text text-muted\"},[_vm._v(\"\\n            Import a .json file exported by our website\\n        \")])]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"\\n        Export Profile\\n    \")]),_c('div',{staticClass:\"mx-3 my-2\"},[_c('div',{staticClass:\"btn-group w-100 mt-2\",attrs:{\"role\":\"group\",\"aria-label\":\"Basic example\"}},[_c('button',{staticClass:\"btn btn-outline-dark px-0\",on:{\"click\":function($event){return _vm.saveToJson()}}},[_vm._v(\"\\n                Export JSON\\n            \")]),_c('button',{staticClass:\"btn btn-outline-dark px-0\",on:{\"click\":function($event){return _vm.saveToIcal()}}},[_vm._v(\"\\n                Export iCal\\n            \")])]),_c('small',{staticClass:\"text-center form-text text-muted\"},[_vm._v(\"\\n            JSON: Can be imported later\\n        \")]),_c('small',{staticClass:\"form-text text-muted text-center\"},[_vm._v(\"\\n            iCal: Supported by most calendar apps\\n        \")])]),_c('hr'),_c('div',{staticClass:\"mx-3 my-2\"},[_c('div',{staticClass:\"btn-group w-100\",attrs:{\"role\":\"group\",\"aria-label\":\"Basic example\"}},[_c('button',{staticClass:\"btn btn-outline-primary\",on:{\"click\":function($event){return _vm.exportToURL()}}},[_vm._v(\"\\n                Export URL\\n            \")]),_c('button',{staticClass:\"btn btn-outline-primary\",on:{\"click\":function($event){return _vm.print()}}},[_vm._v(\"\\n                Print\\n            \")])]),_c('small',{staticClass:\"text-center form-text text-muted\"},[_vm._v(\"\\n            URL can be shared easily\\n        \")]),_c('small',{staticClass:\"form-text text-muted text-center\"},[_vm._v(\"\\n            Print your currently rendered schedule\\n        \")])]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"\\n        Local Profiles\\n    \")]),_c('ul',{staticClass:\"list-group list-group-flush mx-auto\",staticStyle:{\"font-size\":\"14px\",\"width\":\"99%\"}},_vm._l((_vm.profile.profiles),function(name,idx){return _c('li',{key:name,staticClass:\"list-group-item list-group-item-action pl-3 pr-2\",class:{ sel: name === _vm.profile.current }},[_c('div',{staticClass:\"form-row no-gutters justify-content-between\"},[_c('div',{staticClass:\"col-sm-auto mr-auto\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.selectProfile(name)}}},[(_vm.newName[idx] === null)?_c('span',{on:{\"dblclick\":function($event){return _vm.$set(_vm.newName, idx, name)}}},[_c('span',[_vm._v(_vm._s(name))]),_c('br'),_vm._l((_vm.getMeta(name)),function(field){return _c('small',{key:field,staticClass:\"text-muted\"},[_vm._v(_vm._s(field)+\" \"),_c('br')])})],2):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newName[idx]),expression:\"newName[idx]\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.newName[idx])},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.renameProfile(name, idx)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$set(_vm.newName, idx, null)}],\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newName, idx, $event.target.value)}}})]),_c('div',{staticClass:\"col-sm-auto text-right\",staticStyle:{\"font-size\":\"16px\"}},[_c('i',{staticClass:\"click-icon mr-2\",class:name === _vm.profile.current ? 'far fa-check-square' : 'far fa-square',attrs:{\"title\":\"select this profile\"},on:{\"click\":function($event){return _vm.selectProfile(name)}}}),(_vm.newName[idx] === null)?_c('i',{staticClass:\"fas fa-edit click-icon\",attrs:{\"title\":\"rename this profile\"},on:{\"click\":function($event){return _vm.$set(_vm.newName, idx, name)}}}):_c('i',{staticClass:\"fas fa-check ml-1 click-icon\",attrs:{\"title\":\"confirm renaming\"},on:{\"click\":function($event){return _vm.renameProfile(name, idx)}}}),(_vm.profile.profiles.length > 1)?_c('i',{staticClass:\"fa fa-times ml-1 click-icon\",attrs:{\"title\":\"delete this profile\"},on:{\"click\":function($event){return _vm.deleteProfile(name, idx)}}}):_vm._e(),(_vm.canSync())?_c('i',{staticClass:\"fas fa-upload ml-1 click-icon\",attrs:{\"title\":\"upload this profile to remote\"},on:{\"click\":function($event){return _vm.uploadProfile(name)}}}):_vm._e()])])])}),0),(_vm.canSync())?[_vm._m(0),_c('ul',{staticClass:\"list-group list-group-flush mx-auto\",staticStyle:{\"font-size\":\"14px\",\"width\":\"99%\"}},_vm._l((_vm.remoteProfiles),function(data,idx){return _c('li',{key:data.name,staticClass:\"list-group-item list-group-item-action pl-3 pr-2\"},[_c('div',{staticClass:\"form-row no-gutters justify-content-between\"},[_c('div',{staticClass:\"col-sm-auto mr-auto\",staticStyle:{\"cursor\":\"pointer\"}},[(_vm.remoteNewName[idx] === null)?_c('span',[_c('span',[_vm._v(_vm._s(data.name))]),_c('br'),_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(data.currentSemester.name)+\" \")]),_c('br'),_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(new Date(data.modified).toLocaleString())+\"\\n                            \")]),_c('br')]):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.remoteNewName[idx]),expression:\"remoteNewName[idx]\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.remoteNewName[idx])},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.renameRemote(data.name, idx)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$set(_vm.remoteNewName, idx, null)}],\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.remoteNewName, idx, $event.target.value)}}})]),_c('div',{staticClass:\"col-sm-auto text-right\",staticStyle:{\"font-size\":\"16px\"}},[(_vm.remoteNewName[idx] === null)?_c('i',{staticClass:\"fas fa-edit click-icon\",attrs:{\"title\":\"rename this profile\"},on:{\"click\":function($event){return _vm.$set(_vm.remoteNewName, idx, data.name)}}}):_c('i',{staticClass:\"fas fa-check ml-1 click-icon\",attrs:{\"title\":\"confirm renaming\"},on:{\"click\":function($event){return _vm.renameRemote(data.name, idx)}}}),_c('i',{staticClass:\"fa fa-times ml-1 click-icon\",attrs:{\"title\":\"delete this profile\"},on:{\"click\":function($event){return _vm.deleteRemote(data.name, idx)}}}),_c('i',{staticClass:\"fa fa-download ml-1 click-icon\",attrs:{\"title\":\"download this profile\"},on:{\"click\":function($event){return _vm.downloadProfile(data)}}})])])])}),0),_c('div',{staticClass:\"w-100 text-center\"},[_c('button',{staticClass:\"btn btn-outline-primary mt-2 w-75\",attrs:{\"title\":\"Close connection to remote\"},on:{\"click\":function($event){return _vm.logout()}}},[_vm._v(\"\\n                Logout\\n            \")])])]:_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn bg-info nav-btn mt-2\"},[_vm._v(\"\\n            Remote Profiles \"),_c('span',{staticClass:\"badge badge-primary\"},[_vm._v(\"Beta\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module components/tabs\n */\n\n/**\n *\n */\nimport { backend } from '@/config';\nimport Store, { compressJSON, SemesterStorage } from '@/store';\nimport { savePlain, toICal } from '@/utils';\nimport axios from 'axios';\nimport lz from 'lz-string';\nimport { Component } from 'vue-property-decorator';\n\n/**\n * component for import/export/print schedules and managing profiles\n * @author Hanzhi Zhou, Kaiying Shan\n * @todo credential safety\n * @noInheritDoc\n */\n@Component\nexport default class ExportView extends Store {\n    newName: (string | null)[] = [];\n    remoteNewName: (string | null)[] = [];\n    remoteProfiles: SemesterStorage[] = [];\n\n    _cre() {\n        return [localStorage.getItem('username'), localStorage.getItem('credential')];\n    }\n\n    /**\n     * return whether the credentials in the localStorage exist\n     */\n    canSync() {\n        const [username, credential] = this._cre();\n        return username && credential;\n    }\n\n    created() {\n        this.newName = this.profile.profiles.map(() => null);\n        if (this.canSync()) this.fetchRemoteProfiles();\n    }\n    async fetchRemoteProfiles() {\n        const [username, credential] = this._cre();\n        this.remoteProfiles = (await axios.post(backend.down, {\n            username,\n            credential\n        })).data.map((s: string) => JSON.parse(s));\n        this.remoteNewName = this.remoteProfiles.map(() => null);\n    }\n    /**\n     * get the meta data of a profile\n     * @param obj the name of the profile or the already-parsed profile\n     */\n    getMeta(obj: string | SemesterStorage) {\n        let parsed: Partial<SemesterStorage> | null = null;\n        const meta = [];\n        if (typeof obj === 'string') {\n            const data = localStorage.getItem(obj);\n            if (data) {\n                try {\n                    parsed = JSON.parse(data);\n                } catch (err) {\n                    console.error(err);\n                }\n            }\n        } else {\n            parsed = obj;\n        }\n        if (parsed) {\n            if (parsed.modified) meta.push(new Date(parsed.modified).toLocaleString());\n            if (parsed.currentSemester) meta.push(parsed.currentSemester.name);\n        }\n        if (!meta.length) meta.push('Data Corruption');\n        return meta;\n    }\n\n    onUploadJson(event: { target: EventTarget | null }) {\n        const input = event.target as HTMLInputElement;\n        const { files } = input;\n        if (!files) return;\n\n        const reader = new FileReader();\n        reader.onload = async () => {\n            if (reader.result) {\n                const { profiles } = this.profile;\n                const prevLen = profiles.length;\n                try {\n                    this.profile.addProfile(reader.result.toString(), files[0].name);\n                    // unequal length: new profile name added\n                    if (prevLen !== profiles.length) this.newName.push(null);\n                } catch (err) {\n                    console.error(err);\n                    this.noti.error(err.message + ': Parsing error');\n                }\n                await this.loadProfile();\n            } else {\n                this.noti.warn('File is empty!');\n            }\n            input.value = '';\n        };\n\n        try {\n            reader.readAsText(files[0]);\n        } catch (error) {\n            console.error(error);\n            this.noti.error(error.message);\n        }\n    }\n    saveToJson() {\n        if (!this.semester.currentSemester) return;\n        const { current } = this.profile;\n        const json = localStorage.getItem(this.profile.current);\n        if (json) savePlain(json, current + '.json');\n    }\n    saveToIcal() {\n        savePlain(toICal(this.schedule.currentSchedule), this.profile.current + '.ical');\n    }\n    exportToURL() {\n        if (!this.semester.currentSemester) return;\n        const json = localStorage.getItem(this.profile.current);\n        if (json) {\n            const url = new URL(window.location.href);\n            const compressed = compressJSON(json);\n            console.log(compressed);\n            url.searchParams.set(\n                'config',\n                lz.compressToEncodedURIComponent(JSON.stringify(compressed))\n            );\n            this.modal.showURLModal(url.href);\n        }\n    }\n\n    deleteProfile(name: string, idx: number) {\n        if (confirm(`Are you sure to delete ${name}?`)) {\n            this.newName.pop();\n            const prof = this.profile.deleteProfile(name, idx);\n            if (this.canSync()) {\n                const rIdx = this.remoteProfiles.findIndex(p => p.name === name);\n                if (rIdx !== -1)\n                    this.deleteRemote(name, rIdx, `Also delete the remote profile ${name}`);\n            }\n\n            // if the deleted profile is the current profile, reload the newly selected current profile\n            if (prof) this.loadProfile();\n        }\n    }\n    /**\n     * delete profile from remote\n     * @param name\n     * @param msg optional confirmation msg\n     */\n    async deleteRemote(name: string, idx: number, msg?: string) {\n        if (!msg) msg = `Are you sure to delete the remote profile ${name}?`;\n        if (confirm(msg)) {\n            const [username, credential] = this._cre();\n            await axios.post(backend.edit, {\n                username,\n                credential,\n                action: 'delete',\n                name\n            });\n            this.remoteProfiles.splice(idx, 1);\n            this.remoteNewName.pop();\n        }\n    }\n    selectProfile(profileName: string) {\n        if (profileName === this.profile.current) return;\n        const item = localStorage.getItem(profileName);\n        if (!item) return;\n        this.profile.current = profileName;\n        this.loadProfile();\n        this.$forceUpdate();\n    }\n    renameProfile(oldName: string, idx: number) {\n        const raw = localStorage.getItem(oldName);\n        if (!raw) return;\n\n        const newName = this.newName[idx];\n        if (!newName) return this.$set(this.newName, idx, null);\n        if (newName !== oldName) {\n            if (this.profile.profiles.find(n => n === newName))\n                return this.noti.error('Duplicated name!');\n            this.profile.renameProfile(idx, oldName, newName, raw);\n\n            // find the remote profile corresponding to the profile to be renamed\n            if (\n                this.canSync() &&\n                this.remoteProfiles.find(p => p.name === oldName) &&\n                confirm(`Also rename the remote profile ${oldName} to ${newName}?`)\n            )\n                this.renameRemote(oldName, idx, newName);\n        }\n        this.$set(this.newName, idx, null);\n    }\n    /**\n     * rename a remote profile\n     * @param oldName\n     * @param idx\n     * @param newName if not provided, use `remoteNewName[idx]`\n     */\n    async renameRemote(oldName: string, idx: number, newName?: string | null) {\n        if (!newName) {\n            newName = this.remoteNewName[idx];\n            if (!newName) return this.$set(this.remoteNewName, idx, null);\n            if (oldName === newName) return this.$set(this.remoteNewName, idx, null);\n            if (this.remoteProfiles.find(p => p.name === newName))\n                return this.noti.error('Duplicated name!');\n        }\n        const [username, credential] = this._cre();\n        const profile = this.remoteProfiles[idx];\n        profile.name = newName;\n        try {\n            await axios.post(backend.edit, {\n                username,\n                credential,\n                action: 'rename',\n                oldName,\n                newName,\n                profile\n            });\n        } catch (err) {\n            this.noti.error(err.message);\n            profile.name = oldName;\n        }\n        this.$set(this.remoteNewName, idx, null);\n    }\n    print() {\n        window.print();\n    }\n\n    async uploadProfile(name: string) {\n        const local = localStorage.getItem(name);\n        if (!local) return Promise.reject('No local profile present!');\n\n        const [username, credential] = this._cre();\n        const remote = this.remoteProfiles.find(p => p.name === name);\n        if (remote) {\n            if (\n                !confirm('A remote profile with the same name already exists. Confirm overwriting?')\n            )\n                return Promise.reject('Cancelled');\n        }\n\n        await axios.post(backend.up, {\n            username,\n            credential,\n            name,\n            profile: local\n        });\n        // append to remote profiles if not overwriting\n        if (!remote) {\n            this.remoteProfiles.push(JSON.parse(local));\n            this.remoteNewName.push(null);\n        }\n    }\n    /**\n     * save a remote profile to localStorage\n     */\n    downloadProfile(profile: SemesterStorage) {\n        const local = localStorage.getItem(profile.name);\n        if (local) {\n            // const t1 = new Date(profile.modified).getTime();\n            // const t2 = new Date(JSON.parse(local).modified).getTime();\n            if (!confirm(`Overwrite your local profile with remote profile?`)) return;\n            localStorage.setItem(profile.name, JSON.stringify(profile));\n            this.$forceUpdate(); // todo\n        } else {\n            this.profile.addProfile(JSON.stringify(profile), profile.name, false);\n            this.newName.push(null);\n        }\n    }\n\n    logout() {\n        localStorage.removeItem('username');\n        localStorage.removeItem('credential');\n        this.$forceUpdate();\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ExportView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./ExportView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ExportView.vue?vue&type=template&id=c7100c88&scoped=true&\"\nimport script from \"./ExportView.ts?vue&type=script&lang=ts&\"\nexport * from \"./ExportView.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./ExportView.vue?vue&type=style&index=0&id=c7100c88&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c7100c88\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{attrs:{\"id\":\"external-bar\"}},[_c('h2',{staticClass:\"my-4\"},[_vm._v(\"This page is intentionally left blank\")]),_c('div',{staticClass:\"w-100\"},[_c('img',{staticClass:\"w-75\",attrs:{\"src\":require(\"../../assets/placeholder.jpg\"),\"alt\":\"\"}})])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nexport default Vue.extend({});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./External.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./External.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./External.vue?vue&type=template&id=823ab73c&scoped=true&\"\nimport script from \"./External.vue?vue&type=script&lang=ts&\"\nexport * from \"./External.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./External.vue?vue&type=style&index=0&id=823ab73c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"823ab73c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"\\n        Filters\\n    \")]),_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},[_c('li',{staticClass:\"list-group-item px-3\",attrs:{\"title\":\"Time periods when you don't want to have class\"}},[_vm._v(\"\\n            No Class Time\\n            \"),_c('div',{staticClass:\"click-icon px-4\",staticStyle:{\"float\":\"right\"},attrs:{\"title\":\"Click to add a time period when you don't want to have class\"},on:{\"click\":function($event){return _vm.filter.addTimeSlot()}}},[_c('i',{staticClass:\"fas fa-plus\"})])]),_vm._l((_vm.filter.timeSlots),function(value,i){return _c('li',{key:i,staticClass:\"list-group-item p-1\"},[_c('div',{staticClass:\"btn-group btn-days my-2\",attrs:{\"role\":\"group\"}},_vm._l((_vm.days),function(day,j){return _c('button',{key:j,class:'btn btn-outline-secondary' + (value[j] ? ' active' : ''),attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateFilterDay(i, j)}}},[_vm._v(\"\\n                    \"+_vm._s(day)+\"\\n                \")])}),0),_c('div',{staticClass:\"form-group row no-gutters align-items-center text-center mb-2\"},[_c('div',{staticClass:\"col col-5 align-self-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(value[7]),expression:\"value[7]\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"time\"},domProps:{\"value\":(value[7])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(value, 7, $event.target.value)}}})]),_c('div',{staticClass:\"col col-1 align-self-center\"},[_vm._v(\"-\")]),_c('div',{staticClass:\"col col-5\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(value[8]),expression:\"value[8]\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"time\"},domProps:{\"value\":(value[8])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(value, 8, $event.target.value)}}})]),_c('div',{staticClass:\"col col-1 align-self-center\"},[_c('i',{staticClass:\"fas fa-times click-icon\",staticStyle:{\"font-size\":\"1.25rem\"},on:{\"click\":function($event){return _vm.filter.removeTimeSlot(i)}}})])])])}),_c('li',{staticClass:\"list-group-item\"},[_c('div',{staticClass:\"custom-control custom-checkbox my-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.allowWaitlist),expression:\"filter.allowWaitlist\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"awt\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filter.allowWaitlist)?_vm._i(_vm.filter.allowWaitlist,null)>-1:(_vm.filter.allowWaitlist)},on:{\"change\":function($event){var $$a=_vm.filter.allowWaitlist,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"allowWaitlist\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"allowWaitlist\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"allowWaitlist\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"awt\"}},[_vm._v(\"Allow Wait List\")])]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.allowClosed),expression:\"filter.allowClosed\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"ac\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.filter.allowClosed)?_vm._i(_vm.filter.allowClosed,null)>-1:(_vm.filter.allowClosed)},on:{\"change\":function($event){var $$a=_vm.filter.allowClosed,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"allowClosed\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"allowClosed\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"allowClosed\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"ac\"}},[_vm._v(\"Allow Closed\")])])]),_c('li',{staticClass:\"list-group-item\"},[_c('button',{staticClass:\"btn btn-outline-info w-100\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.generateSchedules()}}},[_vm._v(\"\\n                Apply\\n            \")])]),_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"\\n            Sort Priority\\n        \")]),_c('li',{staticClass:\"list-group-item px-3\",attrs:{\"title\":\"Note that you can drag sort options to change their priority in fallback mode\"}},[_vm._v(\"\\n            Sort According to\\n        \")]),_c('draggable',{attrs:{\"handle\":\".drag-handle\"},on:{\"end\":function($event){return _vm.dragEnd()}},model:{value:(_vm.filter.sortOptions.sortBy),callback:function ($$v) {_vm.$set(_vm.filter.sortOptions, \"sortBy\", $$v)},expression:\"filter.sortOptions.sortBy\"}},_vm._l((_vm.filter.sortOptions.sortBy),function(option,optIdx){return _c('div',{key:option.name,staticClass:\"list-group-item py-1 pl-3 pr-0\"},[_c('div',{staticClass:\"row no-gutters w-100\"},[_c('div',{staticClass:\"col col-sm-9 pr-1 drag-handle\",attrs:{\"title\":option.description}},[_c('span',{staticClass:\"sort-option\"},[_vm._v(\" \"+_vm._s(option.title))]),(_vm.filter.sortOptions.mode === 1 && option.enabled)?_c('div',{staticClass:\"input-group input-group-sm\",staticStyle:{\"width\":\"90%\"}},[_c('div',{staticClass:\"input-group-prepend\"},[_c('span',{staticClass:\"input-group-text\"},[_vm._v(\"Weight\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(option.weight),expression:\"option.weight\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"0.1\",\"max\":\"10\",\"step\":\"0.1\"},domProps:{\"value\":(option.weight)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(option, \"weight\", $event.target.value)}}})]):_vm._e()]),_c('div',{staticClass:\"col col-sm-3\"},[_c('i',{staticClass:\"fas mr-2 click-icon\",class:option.reverse ? 'fa-arrow-down' : 'fa-arrow-up',attrs:{\"title\":\"Click to reverse sorting\"},on:{\"click\":function($event){option.reverse = !option.reverse;\n                                _vm.changeSorting(+optIdx);}}}),_c('div',{staticClass:\"custom-control custom-checkbox sort-option \",staticStyle:{\"display\":\"inline-block\"}},[(option.name === 'similarity' && !_vm.filter.similarityEnabled)?_c('input',{staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"disabled\":\"\"},domProps:{\"value\":option.name},on:{\"click\":function($event){return _vm.noti.info(\n                                        'To enable sort by similarity, please first set a reference schedule in the compare tab',\n                                        3,\n                                        true\n                                    )}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(option.enabled),expression:\"option.enabled\"}],staticClass:\"custom-control-input\",attrs:{\"id\":option.name,\"type\":\"checkbox\"},domProps:{\"value\":option.name,\"checked\":Array.isArray(option.enabled)?_vm._i(option.enabled,option.name)>-1:(option.enabled)},on:{\"change\":[function($event){var $$a=option.enabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=option.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(option, \"enabled\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(option, \"enabled\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(option, \"enabled\", $$c)}},function($event){return _vm.changeSorting(+optIdx)}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":option.name,\"title\":\"Enable this sorting option\"}})])])])])}),0),_c('li',{staticClass:\"list-group-item\"},[_vm._l((_vm.filter.sortModes),function(mode){return [_c('div',{key:'sm' + mode.mode,staticClass:\"custom-control custom-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.filter.sortOptions.mode),expression:\"filter.sortOptions.mode\",modifiers:{\"number\":true}}],staticClass:\"custom-control-input\",attrs:{\"id\":'sm' + mode.mode,\"type\":\"radio\"},domProps:{\"value\":mode.mode,\"checked\":_vm._q(_vm.filter.sortOptions.mode,_vm._n(mode.mode))},on:{\"change\":[function($event){_vm.$set(_vm.filter.sortOptions, \"mode\", _vm._n(mode.mode))},function($event){return _vm.changeSorting(undefined)}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":'sm' + mode.mode,\"title\":mode.description}},[_vm._v(_vm._s(mode.title)+\"\\n                    \")])])]})],2)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module components/tabs\n */\n\n/**\n *\n */\nimport { DAYS } from '@/models/Meta';\nimport Store from '@/store';\nimport { Component } from 'vue-property-decorator';\nimport draggable from 'vuedraggable';\n\n/**\n * the component for editing and applying filters\n * @author Hanzhi Zhou, Kaiying Shan\n * @noInheritDoc\n */\n@Component({\n    components: {\n        draggable\n    }\n})\nexport default class FilterView extends Store {\n    get days() {\n        return DAYS;\n    }\n\n    dragEnd() {\n        if (this.filter.sortOptions.mode === 0) this.changeSorting();\n    }\n\n    /**\n     * negate the boolean value at `this.timeSlots[i][j]`\n     * @param i the index of the time filter\n     * @param j the index of the day (0 to 7)\n     */\n    updateFilterDay(i: number, j: number) {\n        this.$set(this.filter.timeSlots[i], j, !this.filter.timeSlots[i][j]);\n    }\n\n    /**\n     * get called when the sort mode changed or sort option at `optIdx` changed.\n     * call [[ScheduleEvaluator.sort]]. Moreover,\n     * - if a sort option changed, also disable options that are mutually exclusive to that one.\n     * - if the sort mode changed, do nothing\n     * @param optIdx\n     */\n    changeSorting(optIdx?: number) {\n        if (!this.validateSortOptions()) return;\n        if (optIdx !== undefined) {\n            const option = this.filter.sortOptions.sortBy[optIdx];\n\n            if (option.enabled) {\n                for (const key of option.exclusive) {\n                    for (const opt of this.filter.sortOptions.sortBy) {\n                        if (opt.name === key) opt.enabled = false;\n                    }\n                }\n            }\n        }\n        if (!window.scheduleEvaluator.empty()) {\n            window.scheduleEvaluator.sort({ newOptions: this.filter.sortOptions });\n            if (!this.schedule.generated) {\n                this.schedule.switchSchedule(true);\n            } else {\n                // re-assign the current schedule\n                this.schedule.currentSchedule = window.scheduleEvaluator.getSchedule(\n                    this.schedule.currentScheduleIndex\n                );\n            }\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./FilterView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./FilterView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FilterView.vue?vue&type=template&id=09edda41&\"\nimport script from \"./FilterView.ts?vue&type=script&lang=ts&\"\nexport * from \"./FilterView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"bg-light sidebar\"},[_c('div',{staticClass:\"btn bg-info nav-btn\"},[_vm._v(\"\\n        Palette\\n    \")]),_c('ul',{staticClass:\"list-group list-group-flush mx-1\"},[(_vm.numColors())?_vm._l((_vm.courseColors()),function(pair,idx){return _c('li',{key:idx,staticClass:\"list-group-item py-1 px-2\"},[_c('div',{staticClass:\"row no-gutters justify-content-between w-100 my-1\"},[_c('div',{staticClass:\"col-sm-auto mr-auto\",staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\"\\n                        \"+_vm._s(_vm.convertKey(pair[0]))+\"\\n                    \")]),_c('div',{staticClass:\"col-sm-auto align-self-center\"},[_c('i',{staticClass:\"fas fa-times click-icon mr-2\",staticStyle:{\"font-size\":\"1.1rem\"},attrs:{\"title\":\"reset to default\"},on:{\"click\":function($event){return _vm.$delete(_vm.palette.savedColors, pair[0])}}}),_c('i',{staticClass:\"fas fa-sync-alt click-icon mr-1\",attrs:{\"title\":\"get a random color\"},on:{\"click\":function($event){return _vm.randColor(pair[0])}}}),_c('input',{staticStyle:{\"width\":\"30px\"},attrs:{\"type\":\"color\"},domProps:{\"value\":pair[1]},on:{\"change\":function($event){return _vm.set(pair[0], $event.target.value)}}})])])])}):_c('li',{staticClass:\"list-group-item\"},[_vm._v(\"\\n            You can only customize colors of things displayed in your schedule. Please select\\n            your classes and generate your schedules, then come back to change the color for\\n            them.\\n        \")])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module components/tabs\n */\n\n/**\n *\n */\nimport Schedule from '@/models/Schedule';\nimport Store from '@/store';\nimport randomColor from 'randomcolor';\nimport { Component } from 'vue-property-decorator';\n\n/**\n * the component for customizing colors of classes and events\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class Palette extends Store {\n    set(key: string, color: string) {\n        this.$set(this.palette.savedColors, key, color);\n    }\n    randColor(key: string) {\n        this.$set(this.palette.savedColors, key, randomColor({ luminosity: 'dark' }));\n    }\n\n    colorEntries() {\n        return Object.entries(this.palette.savedColors).filter(entry =>\n            this.schedule.currentSchedule.has(entry[0], true)\n        );\n    }\n    /**\n     * get the number of events and courses that have colors in total\n     */\n    numColors() {\n        return (\n            this.colorEntries().length +\n            this.schedule.currentSchedule.colorSlots.reduce((acc, x) => x.size + acc, 0)\n        );\n    }\n    /**\n     * @note colors must always be recomputed because `Schedule.savedColors` is not a reactive property\n     */\n    courseColors() {\n        return this.colorEntries()\n            .concat(\n                this.schedule.currentSchedule.colorSlots.reduce<[string, string][]>(\n                    (arr, bucket, i) =>\n                        arr.concat(\n                            [...bucket]\n                                .filter(\n                                    key =>\n                                        this.schedule.currentSchedule.has(key, true) &&\n                                        !(key in this.palette.savedColors)\n                                )\n                                .map(x => [x, Schedule.bgColors[i]])\n                        ),\n                    []\n                )\n            )\n            .sort((a, b) => (a[0] === b[0] ? 0 : a[0] < b[0] ? -1 : 1));\n    }\n    convertKey(key: string) {\n        return window.catalog.convertKey(key, this.schedule.currentSchedule);\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./PaletteView.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/eslint-loader/index.js??ref--13-0!./PaletteView.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PaletteView.vue?vue&type=template&id=090e2500&\"\nimport script from \"./PaletteView.ts?vue&type=script&lang=ts&\"\nexport * from \"./PaletteView.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn-group\",attrs:{\"role\":\"group\"}},[_vm._l((_vm.curSchedule.dateSeparators.length - 1),function(idx){return _c('button',{key:idx,staticClass:\"btn btn-outline-primary\",on:{\"click\":function($event){return _vm.selectInterval(idx)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.convDate(_vm.curSchedule.dateSeparators[+idx - 1]))+\"\\n        -\\n        \"+_vm._s(_vm.convDate(_vm.curSchedule.dateSeparators[+idx], -1))+\"\\n        \"),(_vm.curSchedule.dateSelector === idx)?_c('i',{staticClass:\"fas fa-check\"}):_vm._e()])}),_c('button',{staticClass:\"btn btn-outline-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.selectInterval(-1)}}},[_vm._v(\"\\n        Show All Classes\\n        \"),(_vm.curSchedule.dateSelector === -1)?_c('i',{staticClass:\"fas fa-check\"}):_vm._e()])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * @module components\r\n */\r\n\r\n/**\r\n * @author Kaiying Cat\r\n * @noInheritDoc\r\n */\r\nimport Schedule from '@/models/Schedule';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport default class DateSeparator extends Vue {\r\n    @Prop(Schedule) curSchedule!: Schedule;\r\n    public selectInterval(idx: number) {\r\n        this.curSchedule.dateSelector = idx;\r\n        this.curSchedule.computeSchedule();\r\n    }\r\n\r\n    public convDate(n: number, offset = 0) {\r\n        const date = new Date(n + offset * 24 * 60 * 60 * 1000);\r\n        return date.getMonth() + 1 + '/' + date.getDate();\r\n    }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./DateSeparator.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./DateSeparator.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DateSeparator.vue?vue&type=template&id=f92d41c8&\"\nimport script from \"./DateSeparator.ts?vue&type=script&lang=ts&\"\nexport * from \"./DateSeparator.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',[_c('ul',{staticClass:\"pagination justify-content-center\",staticStyle:{\"margin-bottom\":\"0\"}},[_c('li',{staticClass:\"input-group\",staticStyle:{\"width\":\"80px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.goto),expression:\"goto\",modifiers:{\"number\":true}}],staticClass:\"form-control\",staticStyle:{\"border-radius\":\"4px 0px 0px 4px !important\"},attrs:{\"type\":\"number\",\"min\":\"1\",\"step\":\"1\",\"placeholder\":\"Go to\"},domProps:{\"value\":(_vm.goto)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }_vm.goto = 1},\"input\":function($event){if($event.target.composing){ return; }_vm.goto=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('li',{staticClass:\"page-item\",class:{ disabled: _vm.start <= 0 && _vm.idx <= _vm.start }},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.switchPage(_vm.idx - 1)}}},[_vm._v(\"\")])]),_vm._l((_vm.length),function(index){return _c('li',{key:index,staticClass:\"page-item\",class:{ active: _vm.idx === index + _vm.start - 1 }},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.switchPage(index + _vm.start - 1)}}},[_vm._v(\"\\n                \"+_vm._s(index + _vm.start)+\"\\n            \")])])}),_c('li',{staticClass:\"page-item\",class:{ disabled: _vm.idx >= _vm.scheduleLength - 1 }},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.switchPage(_vm.idx + 1)}}},[_vm._v(\"\")])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @module components\n */\n\n/**\n *\n */\nimport { Component, Watch } from 'vue-property-decorator';\nimport Store from '../store';\n\n/**\n * The component for showing a list of pages, used for switching between generated schedules\n * @author Kaiying Cat, Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class Pagination extends Store {\n    get curIdx() {\n        return this.schedule.currentScheduleIndex;\n    }\n    get scheduleLength() {\n        return this.schedule.numGenerated;\n    }\n\n    get length() {\n        if (window.screen.width < 900) {\n            return this.scheduleLength < 3 ? this.scheduleLength : 3;\n        } else {\n            return this.scheduleLength < 10 ? this.scheduleLength : 10;\n        }\n    }\n\n    /**\n     * zero based schedule index\n     */\n    idx = 0;\n    /**\n     * zero based offset\n     */\n    start = 0;\n    goto: number | null = null;\n\n    @Watch('goto')\n    gotoWatch() {\n        this.switchPage((this.goto || 1) - 1);\n    }\n\n    updateStart() {\n        if (this.idx < this.start) {\n            this.start = this.idx;\n        } else if (this.idx >= this.start + this.length) {\n            this.start = this.idx - this.length + 1;\n        }\n        if (this.start < 0) this.start = 0;\n    }\n\n    switchPage(idx: number) {\n        idx = isNaN(idx) ? 0 : +idx;\n        if (idx >= this.scheduleLength) {\n            this.idx = this.scheduleLength - 1;\n        } else if (idx < 0) {\n            this.idx = 0;\n        } else {\n            this.idx = idx;\n        }\n        this.updateStart();\n        this.schedule.switchPage(this.idx);\n    }\n\n    @Watch('curIdx', { immediate: true })\n    autoSwitch() {\n        this.switchPage(this.curIdx);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./Pagination.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./Pagination.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=9bd05dec&\"\nimport script from \"./Pagination.ts?vue&type=script&lang=ts&\"\nexport * from \"./Pagination.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"course-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[(_vm.course)?_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",domProps:{\"innerHTML\":_vm._s(_vm.highlightMatch(_vm.course.displayName, 'key', _vm.match[0]))}}),_vm._m(0)]),_c('div',{staticClass:\"modal-body\"},[_c('h6',{domProps:{\"innerHTML\":_vm._s(_vm.highlightMatch(_vm.course.title, 'title', _vm.match[0]))}}),_c('div',{staticStyle:{\"width\":\"100%\",\"overflow-x\":\"auto\"}},[_c('table',{staticClass:\"m-color w-100\",attrs:{\"id\":\"sec-table\"}},[_c('tbody',_vm._l((_vm.course.sections),function(section){return _c('tr',{key:section.section},[_c('td',[_vm._v(_vm._s(section.id))]),_c('td',[_vm._v(_vm._s(section.section))]),_c('td',{domProps:{\"innerHTML\":_vm._s(\n                                        _vm.highlightMatch(\n                                            section.topic,\n                                            'topic',\n                                            _vm.match[1].get(section.id)\n                                        )\n                                    )}}),_c('td',{domProps:{\"innerHTML\":_vm._s(\n                                        _vm.highlightMatch(\n                                            section.instructors.join(', '),\n                                            'instructors',\n                                            _vm.match[1].get(section.id)\n                                        )\n                                    )}}),_c('td',[_vm._v(\"\\n                                    \"+_vm._s(section.dates)+\"\\n                                \")]),_c('td',[_vm._l((section.meetings),function(meeting,idx){return [_vm._v(_vm._s(meeting.days)+\" \"),_c('br',{key:idx})]})],2),_c('td',[_vm._l((section.meetings),function(meeting,idx){return [_vm._v(_vm._s(meeting.room)+\" \"),_c('br',{key:idx})]})],2),_c('td',[_vm._v(_vm._s(section.status))]),_c('td',[_vm._v(\"\\n                                    \"+_vm._s(section.enrollment +\n                                            '/' +\n                                            section.enrollment_limit +\n                                            '/' +\n                                            section.wait_list)+\"\\n                                \")])])}),0)])]),_c('p',{staticClass:\"mt-2\",domProps:{\"innerHTML\":_vm._s(_vm.highlightMatch(_vm.course.description, 'description', _vm.match[0]))}}),(_vm.config.enableGrades)?_c('button',{staticClass:\"btn btn-outline-info\",on:{\"click\":function($event){return _vm.config.viewGrades(_vm.course)}}},[_vm._v(\"\\n                    Grade Distribution\\n                \")]):_vm._e()])]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module components\n */\n\n/**\n *\n */\nimport { external } from '@/config';\nimport { SearchMatch } from '@/models/Catalog';\nimport Course from '@/models/Course';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n/**\n * component for displaying detailed information of a Course along with all sections contained in it\n * @author Kaiying Shan, Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class CourseModal extends Vue {\n    get config() {\n        return external;\n    }\n    @Prop(Course) readonly course!: Course;\n    @Prop({ type: Array, default: [] }) readonly match!: SearchMatch;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./CourseModal.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./CourseModal.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CourseModal.vue?vue&type=template&id=33a697cb&scoped=true&\"\nimport script from \"./CourseModal.ts?vue&type=script&lang=ts&\"\nexport * from \"./CourseModal.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./CourseModal.vue?vue&type=style&index=0&id=33a697cb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33a697cb\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"section-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[(_vm.section)?_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.section.displayName)+\" \"+_vm._s(_vm.section.id))]),_vm._m(0)]),_c('div',{staticClass:\"modal-body\"},[(_vm.section.topic)?_c('div',{staticClass:\"m-color\"},[_vm._v(_vm._s(_vm.section.topic))]):_vm._e(),_c('div',{staticClass:\"m-color\"},[_vm._v(_vm._s(_vm.section.type)+\" | \"+_vm._s(_vm.section.units)+\" units\")]),_c('div',{staticClass:\"m-color\"},[_vm._v(_vm._s(_vm.section.instructors.join(', ')))]),_c('div',{staticClass:\"m-color\"},[_vm._v(_vm._s(_vm.section.dates))]),_vm._l((_vm.section.meetings),function(meeting,idx){return _c('div',{key:idx,staticClass:\"m-color\"},[_vm._v(\"\\n                    \"+_vm._s(meeting.days)+\" @ \"+_vm._s(meeting.room)+\"\\n                \")])}),_c('div',{staticClass:\"m-color\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.section.status)+\" \"+_vm._s(_vm.section.enrollment)+\"/\"+_vm._s(_vm.section.enrollment_limit)+\"\\n                    | Wait List: \"+_vm._s(_vm.section.wait_list)+\"\\n                \")]),_c('br'),_c('div',[_vm._v(_vm._s(_vm.section.description))]),(_vm.semester)?_c('div',{staticClass:\"mt-2\"},[(_vm.config.enableDetails)?_c('button',{staticClass:\"btn btn-outline-info mr-2\",on:{\"click\":function($event){return _vm.config.viewDetails(_vm.semester.id, _vm.section.id)}}},[_vm._v(\"\\n                        More Details (Lou's List)\\n                    \")]):_vm._e(),(_vm.config.enableGrades)?_c('button',{staticClass:\"btn btn-outline-info\",on:{\"click\":function($event){return _vm.config.viewGrades(_vm.section)}}},[_vm._v(\"\\n                        Grade Distribution\\n                    \")]):_vm._e()]):_vm._e()],2)]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module components\n */\n\n/**\n *\n */\nimport { external } from '@/config';\nimport { SemesterJSON } from '@/models/Catalog';\nimport Section from '@/models/Section';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n/**\n * Component for displaying detailed information of a single Section\n * @author Kaiying Shan, Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class SectionModal extends Vue {\n    get config() {\n        return external;\n    }\n    @Prop(Section) readonly section!: Section;\n    @Prop(Object) readonly semester!: SemesterJSON;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./SectionModal.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./SectionModal.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SectionModal.vue?vue&type=template&id=1dfd8ae7&\"\nimport script from \"./SectionModal.ts?vue&type=script&lang=ts&\"\nexport * from \"./SectionModal.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./SectionModal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"url-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(0),_c('div',{staticClass:\"modal-body\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.url),expression:\"url\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"url-text\",\"rows\":\"10\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value}}}),_c('button',{staticClass:\"btn btn-primary px-3 mt-3\",attrs:{\"id\":\"copy-url-btn\",\"data-toggle\":\"popover\",\"data-content\":\"success\"},on:{\"click\":function($event){return _vm.copy()}}},[_vm._v(\"\\n                    Copy\\n                \")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h4',{staticClass:\"modal-title\"},[_vm._v(\"URL Sharing\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])])}]\n\nexport { render, staticRenderFns }","/**\n * @module components\n */\n\n/**\n *\n */\nimport 'bootstrap';\nimport $ from 'jquery';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n/**\n * component for displaying and copying URL created by [[ExportView]]\n * @author Hanzhi Zhou\n * @noInheritDoc\n */\n@Component\nexport default class URLModal extends Vue {\n    @Prop(String) readonly url!: string;\n\n    handler = -1;\n\n    copy() {\n        const box = document.getElementById('url-text') as HTMLTextAreaElement;\n        const pop = $('#copy-url-btn');\n        box.focus();\n        box.select();\n        const succ = document.execCommand('copy');\n\n        if (!succ) console.error('unsuccessful copy');\n        else pop.popover('show');\n\n        window.clearTimeout(this.handler);\n        this.handler = window.setTimeout(() => pop.popover('dispose'), 2000);\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./URLModal.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./URLModal.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./URLModal.vue?vue&type=template&id=34320aba&\"\nimport script from \"./URLModal.ts?vue&type=script&lang=ts&\"\nexport * from \"./URLModal.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"versionModal\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\"\\n                    Welcome to release v\"+_vm._s(_vm.version)+\"\\n                \")]),_vm._m(0)]),_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":require(\"../assets/cover.jpg\"),\"alt\":\"cover.jpg\"}}),_c('div',{staticClass:\"mx-4 my-4\",attrs:{\"id\":\"release-note-body\"}},[_vm._v(\"\\n                Loading release note...\\n            \")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])}]\n\nexport { render, staticRenderFns }","/**\n * @module components\n */\n\n/**\n *\n */\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n/**\n * component for displaying version information\n * @author Kaiying Shan\n * @noInheritDoc\n */\n@Component\nexport default class VersionModal extends Vue {\n    @Prop(String) readonly version!: string;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./VersionModal.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/eslint-loader/index.js??ref--13-0!./VersionModal.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./VersionModal.vue?vue&type=template&id=7c6e5b5b&\"\nimport script from \"./VersionModal.ts?vue&type=script&lang=ts&\"\nexport * from \"./VersionModal.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * @license MIT\n * Adapted from [[https://github.com/aceakash/string-similarity]], with optimizations:\n * 1. Cache the string length\n * 2. No need to use .has for map\n * 3. Pre-process the target list of strings for repeated searches (see [[FastSearcher]])\n * About 40% faster than the original one.\n * @param first\n * @param second\n */\nexport function compareTwoStrings(first: string, second: string) {\n    const len1 = first.length,\n        len2 = second.length;\n    if (!len1 && !len2) return 1; // if both are empty strings\n    if (!len1 || !len2) return 0; // if only one is empty string\n    if (first === second) return 1; // identical\n    if (len1 === 1 && len2 === 1) return 0; // both are 1-letter strings\n    if (len1 < 2 || len2 < 2) return 0; // if either is a 1-letter string\n\n    const firstBigrams = new Map<string, number>();\n    for (let i = 0; i < len1 - 1; i++) {\n        const bigram = first.substring(i, i + 2);\n        firstBigrams.set(bigram, 1 + (firstBigrams.get(bigram) || 0));\n    }\n\n    let intersectionSize = 0;\n    for (let i = 0; i < len2 - 1; i++) {\n        const bigram = second.substring(i, i + 2);\n        const count = firstBigrams.get(bigram)! | 0;\n\n        if (count > 0) {\n            firstBigrams.set(bigram, count - 1);\n            intersectionSize++;\n        }\n    }\n\n    return (2.0 * intersectionSize) / (len1 + len2 - 2);\n}\n\nfunction findBestMatch(mainString: string, targetStrings: string[]) {\n    const len = targetStrings.length;\n    let bestMatchIndex = 0;\n    let bestMatchRating = 0;\n    for (let i = 0; i < len; i++) {\n        const currentTargetString = targetStrings[i];\n        const currentRating = compareTwoStrings(mainString, currentTargetString);\n        if (currentRating > bestMatchRating) {\n            bestMatchIndex = i;\n            bestMatchRating = currentRating;\n        }\n    }\n    return [bestMatchIndex, bestMatchRating];\n}\n\nexport class FastSearcher {\n    public targets: string[];\n    constructor(targets: string[]) {\n        this.targets = targets.map(t => t.toLowerCase().replace(/\\s+/g, ''));\n    }\n    public search(query: string) {\n        return findBestMatch(query.toLowerCase().replace(/\\s+/g, ''), this.targets);\n    }\n}\n","/**\n * Script for loading building list and distance (time) matrix\n * @author Hanzhi Zhou\n * @module data\n */\n\n/**\n *\n */\nimport axios from 'axios';\nimport { getApi } from '.';\nimport Expirable from './Expirable';\nimport { fallback, loadFromCache } from './Loader';\nimport { isStringArray } from '@/utils';\nimport { FastSearcher } from '@/algorithm/Searcher';\n\nexport interface TimeMatrixJSON extends Expirable {\n    timeMatrix: number[];\n}\n\nexport interface BuildingListJSON extends Expirable {\n    buildingList: string[];\n}\n\n/**\n * Try to load the walking time matrix between buildings from localStorage.\n * If it expires or does not exist,\n * load a fresh one from the data backend and store it in localStorage.\n *\n * storage key: \"timeMatrix\"\n */\nexport function loadTimeMatrix(force = false) {\n    return fallback(\n        loadFromCache<Int32Array, TimeMatrixJSON>(\n            'timeMatrix',\n            requestTimeMatrix,\n            x => Int32Array.from(x.timeMatrix),\n            {\n                expireTime: 1000 * 86400,\n                force\n            }\n        ),\n        {\n            succMsg: 'Walking distance matrix loaded',\n            warnMsg: x => `Failed to load walking distance matrix: ${x}. Old data is used instead`,\n            errMsg: x => `Failed to load walking distance matrix: ${x}. `,\n            timeoutTime: 10000\n        }\n    );\n}\n\n/**\n * Try to load the array of the names of buildings from localStorage.\n * If it expires or does not exist,\n * load a fresh one from the data backend and store it in localStorage.\n *\n * Then, construct and return a building searcher\n * storage key: \"buildingList\"\n */\nexport function loadBuildingSearcher(force = false) {\n    return fallback(\n        loadFromCache<FastSearcher, BuildingListJSON>(\n            'buildingList',\n            requestBuildingSearcher,\n            x => new FastSearcher(x.buildingList),\n            {\n                expireTime: 1000 * 86400,\n                force\n            }\n        ),\n        {\n            succMsg: 'Building list loaded',\n            warnMsg: x => `Failed to load building list: ${x}. Old data is used instead`,\n            errMsg: x => `Failed to load building list: ${x}. `,\n            timeoutTime: 10000\n        }\n    );\n}\n\n/**\n * request from remote and store in localStorage\n */\nexport async function requestTimeMatrix(): Promise<Int32Array> {\n    const res = await axios.get(`${getApi()}/data/Distance/Time_Matrix.json`);\n    const data = res.data;\n\n    if (data instanceof Array && data.length) {\n        const len = data.length;\n        const flattened = new Int32Array(len ** 2);\n        for (let i = 0; i < len; i++) flattened.set(data[i], i * len);\n\n        localStorage.setItem(\n            'timeMatrix',\n            JSON.stringify({\n                modified: new Date().toJSON(),\n                timeMatrix: Array.from(flattened)\n            })\n        );\n\n        return flattened;\n    } else {\n        throw new Error('Data format error');\n    }\n}\n\n/**\n * request the building list from remote and store in localStorage\n *\n * @returns a building searcher\n */\nexport async function requestBuildingSearcher() {\n    const res = await axios.get(`${getApi()}/data/Distance/Building_Array.json`);\n    const data = res.data;\n    if (isStringArray(data)) {\n        localStorage.setItem(\n            'buildingList',\n            JSON.stringify({\n                modified: new Date().toJSON(),\n                buildingList: data\n            })\n        );\n        return new FastSearcher(data);\n    } else {\n        throw new Error('Data format error');\n    }\n}\n","/**\n * the \"view\" of this project; the root Vue component that contains almost all of the child components and DOM\n * elements of the main webpage.\n * @author Hanzhi Zhou, Kaiying Shan, Elena Long, Zichao Hu\n */\n\n/**\n *\n */\nimport { Component } from 'vue-property-decorator';\nimport MainContent from './components/MainContent.vue';\n\n// tab components\nimport ClassView from './components/tabs/ClassView.vue';\nimport CompareView from './components/tabs/CompareView.vue';\nimport DisplayView from './components/tabs/DisplayView.vue';\nimport EventView from './components/tabs/EventView.vue';\nimport ExportView from './components/tabs/ExportView.vue';\nimport External from './components/tabs/External.vue';\nimport FilterView from './components/tabs/FilterView.vue';\nimport PaletteView from './components/tabs/PaletteView.vue';\n\n// other components\nimport DateSeparator from './components/DateSeparator.vue';\nimport GridSchedule from './components/GridSchedule.vue';\nimport Pagination from './components/Pagination.vue';\n\n// modals\nimport CourseModal from './components/CourseModal.vue';\nimport SectionModal from './components/SectionModal.vue';\nimport URLModal from './components/URLModal.vue';\nimport VersionModal from './components/VersionModal.vue';\n\nimport randomColor from 'randomcolor';\nimport { backend } from './config';\nimport { loadBuildingSearcher, loadTimeMatrix } from './data/BuildingLoader';\nimport Store, { parseFromURL } from './store';\nimport { getReleaseNote } from './utils';\n\nconst version = '7.1';\n/**\n * returns whether the version stored in localStorage matches the current version\n * then, override localStorage with the current version\n */\nfunction checkVersion() {\n    const match = localStorage.getItem('version') === version;\n    localStorage.setItem('version', version);\n    if (!match) {\n        getReleaseNote().then(note => $('#release-note-body').html(note));\n        $('#versionModal').modal();\n    }\n    return match;\n}\n\n@Component({\n    components: {\n        MainContent,\n        ClassView,\n        EventView,\n        DisplayView,\n        FilterView,\n        PaletteView,\n        ExportView,\n        CompareView,\n        External,\n        // use dynamic component for this one because it is relatively large in size\n        Information: () => import('./components/tabs/Information.vue'),\n        // opt-in tabs\n        FuzzyView: () => import('./components/tabs/FuzzyView.vue'),\n        LogView: () => import('./components/tabs/LogView.vue'),\n\n        Pagination,\n        GridSchedule,\n        DateSeparator,\n\n        SectionModal,\n        CourseModal,\n        URLModal,\n        VersionModal\n    }\n})\nexport default class App extends Store {\n    get sideBar() {\n        return this.status.sideBar;\n    }\n\n    get version() {\n        return version;\n    }\n\n    async loadCoursesFromURL() {\n        const courseArray = new URLSearchParams(window.location.search).get('courses');\n        if (courseArray) {\n            try {\n                const courses = JSON.parse(decodeURIComponent(courseArray));\n                if (courses && courses instanceof Array) {\n                    const schedule = this.schedule.getDefault();\n                    courses.forEach(key => (schedule.currentSchedule.All[key] = -1));\n                    this.profile.addProfile(JSON.stringify({ schedule }), backend.name);\n                    await this.loadProfile(undefined, !checkVersion());\n\n                    this.noti.success('Courses loaded from ' + backend.name, 3, true);\n                    return true;\n                } else {\n                    throw new Error('Invalid course format');\n                }\n            } catch (e) {\n                this.noti.error(\n                    `Failed to load courses from ${backend.name}: ` + e.message,\n                    3,\n                    true\n                );\n                return false;\n            }\n        }\n        return false;\n    }\n\n    async loadConfigFromURL() {\n        const encoded = new URLSearchParams(window.location.search).get('config');\n\n        if (encoded) {\n            try {\n                this.profile.addProfile(JSON.stringify(await parseFromURL(encoded)), 'url loaded');\n                await this.loadProfile(undefined, !checkVersion());\n                this.noti.success('Configuration loaded from URL!', 3, true);\n                return true;\n            } catch (err) {\n                console.error(err);\n                this.noti.error(err.message + ': Parsing error');\n            }\n        }\n        return false;\n    }\n\n    /**\n     * load credentials from backend\n     */\n    loadCredentials() {\n        const search = new URLSearchParams(window.location.search);\n        const username = search.get('username'),\n            credential = search.get('credential');\n        if (username && credential) {\n            localStorage.setItem('username', username);\n            localStorage.setItem('credential', credential);\n            return true;\n        }\n    }\n\n    async created() {\n        this.status.loading = true;\n\n        // note: these three can be executed in parallel, i.e. they are not inter-dependent\n        const [pay1, pay2, pay3] = await Promise.all([\n            loadTimeMatrix(),\n            loadBuildingSearcher(),\n            this.semester.loadSemesters()\n        ]);\n\n        this.noti.notify(pay1);\n        if (pay1.payload) window.timeMatrix = pay1.payload;\n\n        this.noti.notify(pay2);\n        if (pay2.payload) window.buildingSearcher = pay2.payload;\n\n        this.noti.notify(pay3);\n        if (pay3.payload) {\n            this.semester.semesters = pay3.payload;\n            const cre = this.loadCredentials();\n            const urlResult = (await this.loadConfigFromURL()) || (await this.loadCoursesFromURL());\n            if (!urlResult) {\n                this.profile.initProfiles(this.semester.semesters);\n                // if version mismatch, force-update semester data\n                await this.loadProfile(this.profile.current, !checkVersion());\n            }\n            // clear url after obtained credentials/courses/config\n            if (urlResult || cre) history.replaceState(history.state, 'current', '/');\n        }\n\n        this.status.loading = false;\n    }\n    /**\n     * @returns return the index of current schedule in compares array.\n     *          return -1 if current schedule is not in compares.\n     */\n    indexOfCompare() {\n        return this.compare.findIndex(c => c.schedule.equals(this.schedule.currentSchedule));\n    }\n\n    addToCompare() {\n        const idx = this.indexOfCompare();\n        if (idx !== -1) {\n            this.compare.splice(idx, 1);\n        } else {\n            const color = randomColor({ luminosity: 'dark' });\n            this.compare.push({\n                schedule: this.schedule.currentSchedule,\n                profileName: this.profile.current,\n                index: this.schedule.currentScheduleIndex,\n                color,\n                pIdx: this.schedule.cpIndex\n            });\n        }\n    }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/eslint-loader/index.js??ref--13-0!./App.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/eslint-loader/index.js??ref--13-0!./App.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=41f093bb&\"\nimport script from \"./App.ts?vue&type=script&lang=ts&\"\nexport * from \"./App.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * the entry point of our project\n * @author Hanzhi Zhou\n */\n\n/**\n *\n */\nimport Vue from 'vue';\nimport ScheduleEvaluator from './algorithm/ScheduleEvaluator';\nimport Catalog from './models/Catalog';\nimport { highlightMatch } from './utils';\nimport { FastSearcher } from './algorithm/Searcher';\nimport App from './App.vue';\n\ndeclare global {\n    interface Window {\n        scheduleEvaluator: ScheduleEvaluator;\n        catalog: Readonly<Catalog>;\n        timeMatrix: Readonly<Int32Array>;\n        buildingSearcher: FastSearcher;\n    }\n\n    // copied from https://www.typescriptlang.org/docs/handbook/advanced-types.html\n    type NonFunctionPropertyNames<T> = {\n        [K in keyof T]: T[K] extends (...x: any[]) => any ? never : K;\n    }[keyof T];\n    type NonFunctionProperties<T> = Pick<T, NonFunctionPropertyNames<T>>;\n}\n\ndeclare module 'vue/types/vue' {\n    // Declare augmentation for Vue\n    interface Vue {\n        highlightMatch: typeof highlightMatch;\n    }\n}\n\nVue.directive('top', {\n    // When the bound element is inserted into the DOM...\n    inserted() {\n        // scroll to top\n        window.scrollTo(0, 0);\n    }\n});\n\nVue.config.productionTip = false;\nVue.config.devtools = true;\nVue.prototype.highlightMatch = highlightMatch;\n\nnew Vue({\n    data: {\n        currentRoute: window.location.pathname\n    },\n    render(h) {\n        // const matchingView = routes[this.currentRoute];\n        // const component = matchingView ? matchingView : HomePage;\n        return h(App);\n    }\n}).$mount('#app');\n","/**\n * Utilities for parsing and convert in-between different time representations\n * @module utils\n */\n\n/**\n *\n */\nimport { Day, dayToInt } from '@/models/Meta';\nimport { TimeArray } from '../algorithm';\n/**\n * @author Hanzhi Zhou\n * @param time\n * @returns null when fail to parse\n *\n * Example usage and return value:\n * ```js\n * parseTimeAll('MoWeFr 10:00AM - 11:00AM') => [['Mo', 'We', 'Fr'], [600, 660]]\n * ```\n */\nexport function parseTimeAll(time: string): [Day[], [number, number]] | null {\n    const [days, start, , end] = time.split(' ');\n    if (days && start && end) {\n        const dayList: Day[] = [];\n        for (let i = 0; i < days.length; i += 2) {\n            dayList.push(days.substr(i, 2) as Day);\n        }\n        return [dayList, [hr12toInt(start), hr12toInt(end)]];\n    }\n    return null;\n}\n\n/**\n * @author Kaiying Cat\n * @param time\n * @returns null when fail to parse\n *\n * Example:\n * ```js\n * expect(parseTimeAsTimeArray('MoWeFr 10:00AM - 11:00AM')).toEqual(\n *  [ 7, 9, 9, 11, 11, 13, 13, 600, 660, 600, 660, 600, 660 ]);\n * ```\n */\nexport function parseTimeAsTimeArray(time: string): TimeArray | null {\n    const [days, start, , end] = time.split(' ');\n    if (days && start && end) {\n        const s = hr12toInt(start);\n        const e = hr12toInt(end);\n        let lIdx = 0; // last day index\n        const len = days.length;\n        const arr = new Int16Array(8 + len);\n        for (let i = 0; i < len; i += 2) {\n            const idx = dayToInt[days.substr(i, 2) as Day];\n            // fill the index for previous days\n            for (let j = lIdx; j <= idx; j++) {\n                arr[j] = 8 + i;\n            }\n            // place start and end\n            arr[8 + i] = s;\n            arr[8 + i + 1] = e;\n            lIdx = idx + 1;\n        }\n        // fill the index for succeeding days\n        for (let i = lIdx; i < 8; i++) arr[i] = len + 8;\n        return arr;\n    }\n    return null;\n}\n\n/**\n * convert `13:00` style time to minutes starting from `00:00`\n * @param time\n */\nexport function hr24toInt(time: string) {\n    const sep = time.split(':');\n    return +sep[0] * 60 + +sep[1];\n}\n\n/**\n * convert `1:00AM` style time to minutes starting from `00:00`\n * @param time\n */\nexport function hr12toInt(time: string) {\n    return hr24toInt(to24hr(time));\n}\n\n/**\n * return true of two [[TimeArray]] objects have overlapping time blocks, false otherwise\n * @author Hanzhi Zhou, (amended by) Kaiying Cat\n * @param timeArray1\n * @param timeArray2\n * @param step1 the increment step for array 1\n * @param step2 the increment step for array 2\n * @note use step=2 for time only array, use step=3 for time-room combined array\n */\nexport function checkTimeConflict(\n    timeArray1: TimeArray,\n    timeArray2: TimeArray,\n    step1 = 2,\n    step2 = 2\n) {\n    for (let i = 0; i < 7; i++) {\n        const s2 = timeArray2[i],\n            e2 = timeArray2[i + 1];\n        // skip the entire inner loop if needed\n        if (s2 === e2) continue;\n\n        const e1 = timeArray1[i + 1];\n        for (let j = timeArray1[i]; j < e1; j += step1) {\n            const begin1 = timeArray1[j] + 1;\n            const end1 = timeArray1[j + 1] - 1;\n            for (let k = s2; k < e2; k += step2) {\n                const begin2 = timeArray2[k];\n                const end2 = timeArray2[k + 1];\n                if (\n                    (begin1 <= begin2 && begin2 <= end1) ||\n                    (begin1 <= end2 && end2 <= end1) ||\n                    (begin1 >= begin2 && end1 <= end2)\n                ) {\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n}\n\n/**\n * parse `08/27/2019 - 12/17/2019` style dates to a tuple of numbers\n * @param date\n */\nexport function parseDate(date: string): [number, number] | undefined {\n    if (typeof date !== 'string') return;\n    const [start, end] = date.split(' - ');\n    if (!start || !end) return;\n    // start month / start day / start year\n    const [sm, sd, sy] = start.split('/');\n    const startDate = new Date(+sy, +sm - 1, +sd);\n    const [em, ed, ey] = end.split('/');\n    const endDate = new Date(+ey, +em - 1, +ed);\n    return [startDate.getTime(), endDate.getTime()];\n}\n\n/**\n * calculate the overlap between time block [a, b] and [c, d].\n * @author Hanzhi Zhou\n * @returns\n *  - 0 if only end points touch\n *  - -1 if no overlap\n *  - the area of overlapping region if overlap\n */\nexport function calcOverlap(a: number, b: number, c: number, d: number) {\n    if (a <= c && d <= b) return d - c;\n    else if (c <= a && b <= d) return b - a;\n    else if (a <= c && c <= b) return b - c;\n    else if (a <= d && d <= b) return d - a;\n    else return -1;\n}\n\n/**\n * return the union of the blocks [a, b] and [c, d]\n * @author Hanzhi Zhou\n */\nexport function blockUnion(\n    a: number,\n    b: number,\n    c: number,\n    d: number\n): [number, number] | undefined {\n    if (a <= c && d <= b) return [a, b];\n    else if (c <= a && b <= d) return [c, d];\n    else if (a <= c && c <= b) return [a, d];\n    else if (a <= d && d <= b) return [c, b];\n    return;\n}\n\n/**\n * convert 24 hour format time to 12 hour format.\n * @author Kaiying Shan\n * @param time the time in 24 hour format\n *\n * Example usage and return value:\n * ```js\n * to12hr('17:00') => '5:00PM'\n * ```\n */\nexport function to12hr(time: string) {\n    const sep = time.split(':');\n    const hr = +sep[0];\n    if (hr === 12) {\n        return time + 'PM';\n    } else if (hr === 0) {\n        return `12:${sep[1]}AM`;\n    } else if (hr < 12) {\n        return time + 'AM';\n    } else {\n        return `${hr - 12}:${sep[1]}PM`;\n    }\n}\n\n/**\n * convert 12 hr to 24 hr\n * @author Hanzhi Zhou\n * @param time\n * Example usage and return value:\n * ```js\n * to12hr('5:00PM') => '17:00'\n * ```\n */\nexport function to24hr(time: string) {\n    const len = time.length;\n    const pre = time.substring(0, len - 2);\n    const [hour, minute] = pre.split(':');\n    const numHour = +hour;\n    if (time.substring(len - 2) === 'AM') {\n        if (numHour === 12) {\n            return '00:' + minute;\n        } else {\n            return pre;\n        }\n    } else {\n        if (numHour === 12) {\n            return pre;\n        } else {\n            return `${(numHour + 12).toString().padStart(2, '0')}:${minute}`;\n        }\n    }\n}\n\n/**\n * helper function used in\n * @see [[GridSchedule]]\n * @see [[CourseBlock]]\n * @author Kaiying Shan\n * @param time\n */\nexport function timeToNum(time: string) {\n    const sep = time.split(':');\n    const min = parseInt(sep[1]);\n    const t = (parseInt(sep[0]) - 8) * 2;\n    return min >= 30 ? t + 1 : t;\n}\n\nexport function intTo24hr(num: number) {\n    return `${Math.floor(num / 60)\n        .toString()\n        .padStart(2, '0')}:${(num % 60).toString().padStart(2, '0')}`;\n}\n","/**\n * miscellaneous utility functions\n * @module utils\n */\n\n/**\n *\n */\nimport axios, { AxiosError } from 'axios';\nimport { saveAs } from 'file-saver';\nimport { Match } from '../models/Course';\n\n/**\n * highlight a matched part of a short string given that `match` is not undefined and `match.match === expMatch`\n * @author Hanzhi Zhou\n * @param str the string to inject highlight\n * @param expMatch the expected matched field in match.match\n * @param matches an array of match objects, sorted in numeric order of their `start` property\n */\nexport function highlightMatch<T extends string>(\n    str: string,\n    expMatch: T,\n    matches?: readonly Match<T>[]\n) {\n    if (!matches || !matches.length) return str;\n    let result = '';\n    let lastEnd = 0;\n    for (const { match, start, end } of matches) {\n        if (match === expMatch) {\n            result += `${str.substring(lastEnd, start)}<span class=\"bg-warning\">${str.substring(\n                start,\n                end\n            )}</span>`;\n            lastEnd = end;\n        }\n    }\n    return result + str.substring(lastEnd);\n}\n\n/**\n * Calculate a 32 bit FNV-1a hash\n * @see https://gist.github.com/vaiorabbit/5657561\n * @see http://isthe.com/chongo/tech/comp/fnv/\n * @param str the input string to hash\n * @returns a 32-bit unsigned integer\n */\nexport function hashCode(str: string): number {\n    let hval = 0x811c9dc5;\n\n    for (let i = 0, l = str.length; i < l; i++) {\n        hval ^= str.charCodeAt(i);\n        hval += (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24);\n    }\n    return hval >>> 0;\n}\n\n/**\n * Apply timeout on a promise\n *\n * @author Hanzhi Zhou\n * @param promise the promise to apply the timeout on\n * @param time time in millisecond\n * @param msg the error message on time out\n */\nexport function timeout<T>(\n    promise: Promise<T>,\n    time: number,\n    msg = 'Time out fetching data. Please try again later'\n): Promise<T> {\n    if (time > 0) {\n        const p = cancelablePromise(promise);\n        setTimeout(() => p.cancel(msg), time);\n        return p;\n    } else return promise;\n}\n\ntype Cancel = (msg: any) => void;\nexport interface CancelablePromise<T> extends Promise<T> {\n    cancel: Cancel;\n}\n/**\n * wrap a promise and return a new promise with a `cancel` method\n * @author Hanzhi Zhou\n * @param promise\n */\nexport function cancelablePromise<T>(promise: Promise<T>) {\n    let cancel: Cancel;\n    const p = new Promise((resolve, reject) => {\n        promise.then(res => resolve(res)).catch(err => reject(err));\n        cancel = reason => reject(reason);\n    }) as CancelablePromise<T>;\n    p.cancel = cancel!;\n    return p;\n}\n\n/**\n * save a string a as text file\n * @author Hanzhi Zhou\n * @param str the string to save as a file\n * @param filename\n */\nexport function savePlain(str: string, filename: string) {\n    saveAs(new Blob([str], { type: 'text/plain;charset=utf-8' }), filename);\n}\n\n/**\n * convert an (axios request) error to string message\n * @param err\n * @author Hanzhi Zhou\n */\nexport function errToStr(err: string | AxiosError) {\n    let errStr = '';\n    if (typeof err === 'string') errStr += err;\n    else if (err.response) errStr += `request rejected by the server`;\n    else if (err.request) errStr += `No internet`;\n    else errStr += err.message;\n    return errStr;\n}\n\nexport function isNumberArray(x: any): x is number[] {\n    return Array.isArray(x) && typeof x[0] === 'number';\n}\n\nexport function isStringArray(x: any): x is string[] {\n    return x instanceof Array && typeof x[0] === 'string';\n}\n\ntype GithubResponseData = {\n    url: string;\n    assets_url: string;\n    upload_url: string;\n    html_url: string;\n    id: string;\n    node_id: string;\n    tag_name: string;\n    target_commitish: string;\n    name: string;\n    draft: string;\n    author: string;\n    prerelease: string;\n    created_at: string;\n    published_at: string;\n    assets: string;\n    tarball_url: string;\n    zipball_url: string;\n    body: string;\n};\n\n/**\n * Get release note for current version && render.\n * Part of this function can be seen as an extremely-lightweight MarkDown renderer.\n * @author Kaiying Cat\n */\nexport async function getReleaseNote() {\n    try {\n        const res = await axios.get(\n            'https://api.github.com/repos/awesome-schedule/plannable/releases'\n        );\n\n        /**\n         * Records the # of layers (of \"ul\") that this line is at.\n         * Denoted by the number of spaces before a \"- \" in the front of the current line.\n         * If this line is not in an \"ul\", it will be set to -1 at the end of the callback function\n         * in .map()'s parameter.\n         */\n        let ul = -1;\n        console.log(Object.keys(res.data[0]));\n        const notes: string[] = res.data.map(\n            (x: GithubResponseData) =>\n                '<h5>' +\n                'Release note for ' +\n                x.tag_name +\n                '</h5><hr />' +\n                (x.body as string)\n                    .split(/[\\r\\n]+/)\n                    .map(x => {\n                        /**\n                         * Records the number corresponds to the largeness of header.\n                         * It is 0 if this line is not a header.\n                         */\n                        let head = 0;\n                        /**\n                         * Records if this line is in an \"ul\" or not by checking if this line starts with \"- \";\n                         */\n                        let li = 0;\n                        let result =\n                            x\n                                .replace(\n                                    /^(#*)(\\s)/,\n                                    (s1: string, match1: string, match2: string) => {\n                                        /**\n                                         * Replace # to <h1> (and so on...) and set the variable \"header\",\n                                         * so that \"header\" can be used\n                                         * to close this element (give it a \"</h1>\")\n                                         */\n                                        return match1.length === 0\n                                            ? match2\n                                            : '<h' + (head = match1.length) + '>';\n                                    }\n                                )\n                                .replace(/^(\\s*)-\\s/, (s: string, match: string) => {\n                                    /**\n                                     * Replace \"- Cats are the best\" with \"<li>Cats are the best</li>\"\n                                     * Set appropriate list group information\n                                     */\n                                    if (head !== 0) return match + '- ';\n                                    let tag = '';\n                                    if (match.length > ul) {\n                                        tag = '<ul>';\n                                    } else if (match.length < ul) {\n                                        tag = '</ul>';\n                                    }\n                                    ul = match.length;\n                                    li = 1;\n                                    return `${tag}<li>`;\n                                })\n                                .replace(\n                                    /!\\[([\\w -]+)\\]\\(([\\w -/:]+)\\)/,\n                                    (s, match1: string, match2) => {\n                                        // convert md image to html\n                                        return `<img src=${match2} alt=${match1}></img>`;\n                                    }\n                                )\n                                .replace('<img', '<img class=\"img-fluid my-3\" ') +\n                            (head === 0\n                                ? li === 0\n                                    ? /<\\/?\\w+>/.exec(x)\n                                        ? ''\n                                        : '<br />'\n                                    : '</li>'\n                                : `</h${head}>`);\n                        if (li === 0 && ul !== -1) {\n                            // append \"</ul>\"s according to the variable \"ul\"\n                            result = '</ul>'.repeat(ul / 4 + 1) + result;\n                            ul = -1;\n                        }\n                        return result;\n                    })\n                    .join(' ')\n        );\n\n        return notes.join('<hr />');\n    } catch (err) {\n        return (\n            'Failed to obtain release note.' +\n            ' See https://github.com/awesome-schedule/plannable/releases instead.'\n        );\n    }\n}\n","/**\n * utilities for converting a schedule to a corresponding iCalendar file\n * @module utils\n * @todo need testing\n * @author Kaiying Shan\n */\n\n/**\n *\n */\nimport * as Utils from '.';\nimport Course from '../models/Course';\nimport Event from '../models/Event';\nimport { DAYS } from '../models/Meta';\nimport Schedule from '../models/Schedule';\nimport Section from '../models/Section';\n\n/**\n * Convert a schedule to iCalendar format.\n * @see https://icalendar.org/\n * @param schedule Schedule object to be parsed into iCalendar format.\n * @return a string of iCalendar format\n */\nexport function toICal(schedule: Schedule) {\n    let ical = 'BEGIN:VCALENDAR\\r\\nVERSION:7.1\\r\\nPRODID:UVa-Awesome-Schedule\\r\\n';\n\n    let startWeekDay = 0;\n    let startDate = new Date(2019, 7, 27, 0, 0, 0),\n        endDate = new Date(2019, 11, 6, 0, 0, 0);\n\n    for (const blocks of schedule.days) {\n        for (const sb of blocks) {\n            const { section } = sb;\n            if (section instanceof Section) {\n                const { dates } = section;\n                if (!dates || dates === 'TBD' || dates === 'TBA') continue;\n                const [sd, , ed] = dates.split(' ');\n                const [sl, sm, sr] = sd.split('/');\n                startDate = new Date(parseInt(sr), parseInt(sl) - 1, parseInt(sm), 0, 0, 0);\n                const [el, em, er] = ed.split('/');\n                endDate = new Date(parseInt(er), parseInt(el) - 1, parseInt(em), 0, 0, 0);\n                startWeekDay = startDate.getDay();\n            }\n        }\n    }\n\n    for (let d = 0; d < 5; d++) {\n        for (const sb of schedule.days[d]) {\n            if (sb.section instanceof Section || sb.section instanceof Course) {\n                let section = sb.section;\n                if (section instanceof Course) {\n                    section = section.getFirstSection();\n                }\n                for (const m of section.meetings) {\n                    if (m.days === 'TBD' || m.days === 'TBA' || m.days.indexOf(DAYS[d]) === -1)\n                        continue;\n                    const dayoffset = ((d + 7 - startWeekDay) % 7) + 1;\n                    const [, start, , end] = m.days.split(' ');\n                    const startMin = Utils.hr12toInt(start);\n                    const duration = Utils.hr12toInt(end) - startMin;\n\n                    const startTime = new Date(\n                        startDate.getTime() + dayoffset * 24 * 60 * 60 * 1000 + startMin * 60 * 1000\n                    );\n                    ical += 'BEGIN:VEVENT\\r\\n';\n                    ical += 'UID:\\r\\n';\n                    ical += 'DTSTAMP:' + dateToICalString(startTime) + '\\r\\n';\n                    ical += 'DTSTART:' + dateToICalString(startTime) + '\\r\\n';\n                    ical +=\n                        'RRULE:FREQ=WEEKLY;INTERVAL=1;BYDAY=' +\n                        DAYS[d].toUpperCase() +\n                        ';BYHOUR=' +\n                        startTime.getHours() +\n                        ';BYMINUTE=' +\n                        startTime.getMinutes() +\n                        ';UNTIL=' +\n                        dateToICalString(endDate) +\n                        '\\r\\n';\n                    ical +=\n                        'DURATION=P' +\n                        Math.floor(duration / 60) +\n                        'H' +\n                        (duration % 60) +\n                        'M' +\n                        '\\r\\n';\n                    ical += 'SUMMARY:' + section.department + ' ' + section.number + '\\r\\n';\n                    ical += 'DESCRIPTION:' + section.title + '\\r\\n';\n                    ical += 'LOCATION:' + m.room + '\\r\\n';\n                    ical += 'COLOR:' + sb.backgroundColor + '\\r\\n';\n                    ical += 'END:VEVENT\\r\\n';\n                }\n            } else if (sb.section instanceof Event) {\n                const dayoffset = ((d + 7 - startWeekDay) % 7) + 1;\n\n                const [, start, , end] = sb.section.days.split(' ');\n                const startMin = Utils.hr12toInt(start);\n                const duration = Utils.hr12toInt(end) - startMin;\n\n                const startTime = new Date(\n                    startDate.getTime() + dayoffset * 24 * 60 * 60 * 1000 + startMin * 60 * 1000\n                );\n                ical += 'BEGIN:VEVENT\\r\\n';\n                ical += 'UID:\\r\\n';\n                ical += 'DTSTAMP:' + dateToICalString(startTime) + '\\r\\n';\n                ical += 'DTSTART:' + dateToICalString(startTime) + '\\r\\n';\n                ical +=\n                    'RRULE:FREQ=WEEKLY;INTERVAL=1;BYDAY=' +\n                    DAYS[d].toUpperCase() +\n                    ';BYHOUR=' +\n                    startTime.getHours() +\n                    ';BYMINUTE=' +\n                    startTime.getMinutes() +\n                    ';UNTIL=' +\n                    dateToICalString(endDate) +\n                    '\\r\\n';\n                ical +=\n                    'DURATION=P' + Math.floor(duration / 60) + 'H' + (duration % 60) + 'M' + '\\r\\n';\n                if (sb.section.title) ical += 'SUMMARY:' + sb.section.title + '\\r\\n';\n                if (sb.section.description)\n                    ical += 'DESCRIPTION:' + sb.section.description + '\\r\\n';\n                if (sb.section.room) ical += 'LOCATION:' + sb.section.room + '\\r\\n';\n                ical += 'COLOR:' + sb.backgroundColor + '\\r\\n';\n                ical += 'END:VEVENT\\r\\n';\n            }\n        }\n    }\n    ical += 'END:VCALENDAR';\n    return ical;\n}\n\nfunction dateToICalString(date: Date) {\n    return (\n        date.getFullYear() +\n        (date.getMonth() + 1).toString().padStart(2, '0') +\n        date\n            .getDate()\n            .toString()\n            .padStart(2, '0') +\n        'T' +\n        date\n            .getHours()\n            .toString()\n            .padStart(2, '0') +\n        date\n            .getMinutes()\n            .toString()\n            .padStart(2, '0') +\n        '00'\n    );\n}\n","/**\n * the module containing utilities functions used across the whole project\n * @module utils\n * @preferred\n */\n\n/**\n *\n */\nexport * from './time';\nexport * from './other';\nexport * from './ICal';\n","/**\n * @module algorithm\n * @author Hanzhi Zhou\n */\n\n/**\n *\n */\nimport quickselect from 'quickselect';\nimport Event from '../models/Event';\nimport Schedule, { ScheduleAll } from '../models/Schedule';\nimport { calcOverlap } from '../utils';\nimport { RawAlgoCourse, TimeArray } from './ScheduleGenerator';\n\nexport type SortFunctions = typeof ScheduleEvaluator.sortFunctions;\n\n/**\n * representation of a single sort option\n */\nexport interface SortOption {\n    /**\n     * name of this sort option\n     */\n    readonly name: keyof SortFunctions;\n    /**\n     * whether or not this option is enabled\n     */\n    enabled: boolean;\n    /**\n     * whether to sort in reverse\n     */\n    reverse: boolean;\n    weight: number;\n}\n\n/**\n * enum for the two sort modes\n */\nexport enum SortMode {\n    fallback = 0,\n    combined = 1\n}\n\n/**\n * options for the schedule evaluator\n */\nexport interface EvaluatorOptions {\n    readonly sortBy: readonly SortOption[];\n    mode: SortMode;\n}\n\n/**\n * The goal of the schedule evaluator is to efficiently sort the generated schedules\n * according to the set of the rules defined by the user\n */\nclass ScheduleEvaluator {\n    /**\n     * defines a number of sorting functions. By default, schedules are sorted in\n     * **ascending** order according to the coefficient computed by one or a combination of sorting functions.\n     */\n    public static readonly sortFunctions = {\n        /**\n         * compute the variance of class times during the week\n         *\n         * returns a higher value when the class times are unbalanced\n         */\n        variance(blocks: Readonly<TimeArray>, offset: number) {\n            let sum = 0,\n                sumSq = 0;\n            const oEnd = offset + 7;\n            for (let i = offset; i < oEnd; i++) {\n                const end = offset + blocks[i + 1];\n                let classTime = 0;\n                for (let j = blocks[i] + offset; j < end; j += 3) {\n                    classTime += blocks[j + 1] - blocks[j];\n                }\n                sum += classTime;\n                sumSq += classTime * classTime;\n            }\n            return sumSq / 5 - (sum / 5) ** 2;\n        },\n\n        /**\n         * compute the vertical compactness of a schedule,\n         * defined as the total time in between each pair of consecutive classes\n         *\n         * The greater the time gap between classes, the greater the return value will be\n         */\n        compactness(blocks: Readonly<TimeArray>, offset: number) {\n            let compact = 0;\n            const oEnd = offset + 7;\n            for (let i = offset; i < oEnd; i++) {\n                const end = offset + blocks[i + 1] - 5;\n                for (let j = blocks[i] + offset; j < end; j += 3) {\n                    compact += blocks[j + 3] - blocks[j + 1];\n                }\n            }\n            return compact;\n        },\n\n        /**\n         * compute overlap of the classes and the lunch time,\n         * defined as the time between 11:00 and 14:00\n         *\n         * The greater the overlap, the greater the return value will be\n         */\n        lunchTime(blocks: Readonly<TimeArray>, offset: number) {\n            // 11:00 to 14:00\n            let totalOverlap = 0;\n            const oEnd = offset + 7;\n            for (let i = offset; i < oEnd; i++) {\n                const end = blocks[i + 1] + offset;\n                let dayOverlap = 0;\n                for (let j = blocks[i] + offset; j < end; j += 3) {\n                    // 11:00 to 14:00\n                    dayOverlap += calcOverlap(660, 840, blocks[j], blocks[j + 1]);\n                }\n\n                if (dayOverlap > 60) totalOverlap += dayOverlap;\n            }\n            return totalOverlap;\n        },\n\n        /**\n         * calculate the time between the start time of the earliest class and 22:00\n         *\n         * For a schedule that has earlier classes, this method will return a higher number\n         */\n        noEarly(blocks: Readonly<TimeArray>, offset: number) {\n            const refTime = 12 * 60,\n                oEnd = offset + 7;\n            let total = 0;\n            for (let i = offset; i < oEnd; i++) {\n                const start = blocks[i],\n                    end = blocks[i + 1];\n                if (end > start) {\n                    // if this day is not empty\n                    const time = blocks[start + offset];\n                    total += Math.max(refTime - time, 0) ** 2;\n                }\n            }\n            return total;\n        },\n\n        /**\n         * compute the sum of walking distances between each consecutive pair of classes\n         */\n        distance(\n            timeMatrix: Readonly<Int32Array>,\n            blocks: Readonly<TimeArray>,\n            offset: number,\n            threshold: number\n        ) {\n            // timeMatrix is actually a flattened matrix, so matrix[i][j] = matrix[i*len+j]\n            const len = timeMatrix.length ** 0.5,\n                oEnd = offset + 7;\n            let dist = 0;\n            for (let i = offset; i < oEnd; i++) {\n                const end = blocks[i + 1] + offset - 5;\n                for (let j = blocks[i] + offset; j < end; j += 3) {\n                    // does not count the distance of the gap between two classes is greater than 45 minutes\n                    if (blocks[j + 3] - blocks[j + 1] < threshold) {\n                        const r1 = blocks[j + 2],\n                            r2 = blocks[j + 5];\n\n                        // skip unknown buildings\n                        if (r1 !== -1 && r2 !== -1) dist += timeMatrix[r1 * len + r2];\n                    }\n                }\n            }\n            return dist;\n        },\n\n        similarity(this: ScheduleEvaluator, start: number) {\n            const sim = this.refSchedule,\n                classList = this.classList,\n                allChoices = this.allChoices;\n            const numCourses = classList.length;\n            let sum = 0;\n            start *= numCourses;\n            for (let j = 0; j < numCourses; j++) {\n                const course = classList[j][allChoices[start + j]];\n                const key = sim[course[0]];\n                if (key) {\n                    for (const sid of course[1]) {\n                        if ((key as Set<number>).has(sid)) sum++;\n                    }\n                }\n            }\n            return -1 * sum;\n        },\n\n        /**\n         * the return value is not used. If this sort option is enabled, `shuffle` is called.\n         */\n        IamFeelingLucky() {\n            return Math.random();\n        }\n    };\n    /**\n     * the cache of coefficient array for each sort function\n     */\n    public sortCoeffCache: { [x in keyof SortFunctions]?: Float32Array } = {};\n    /**\n     * the indices of the sorted schedules\n     */\n    public indices: Uint32Array;\n    /**\n     * the coefficient array\n     */\n    private coeffs: Float32Array;\n    /**\n     * the cumulative length of the time arrays for each schedule.\n     * `this.offsets[i]` is the start index of the time array of schedule `i` in `this.blocks`\n     */\n    private offsets: Readonly<Uint32Array>;\n    /**\n     * array of [[TimeArray]]s concatenated together\n     */\n    private blocks: Readonly<Int16Array>;\n    /**\n     * the underlying buffer for the typed arrays above, except `sortCoeffCache`\n     */\n    private buf: ArrayBuffer;\n\n    /**\n     * @param options\n     * @param timeMatrix see [[Window.timeMatrix]]\n     * @param events the array of events kept, use to construct generated schedules\n     * @param classList the 2d array of (combined) sections\n     * @param allChoices array of `currentChoices` (see [[ScheduleGenerator.computeSchedules]])\n     * concatenated together\n     * @param refSchedule the reference schedule used by the\n     * [[ScheduleEvaluator.sortFunctions.similarity]] sort function\n     * @param timeArrays the time arrays constructed by [[timeArrayToCompact]]\n     * @param count the number of schedules in total\n     * @param timeLen see the return value of [[ScheduleGenerator.computeSchedules]]\n     */\n    constructor(\n        public options: Readonly<EvaluatorOptions> = { sortBy: [], mode: 0 },\n        public readonly timeMatrix: Readonly<Int32Array> = new Int32Array(),\n        public readonly events: Event[] = [],\n        public readonly classList: RawAlgoCourse[][] = [],\n        public readonly allChoices: Readonly<Uint8Array> = new Uint8Array(),\n        public refSchedule: ScheduleAll = {},\n        readonly timeArrays: Readonly<Int32Array> = new Int32Array(),\n        count = 0,\n        timeLen = 0\n    ) {\n        // note: timeLen is typically about 50*count, which takes most space\n        this.buf = new ArrayBuffer(count * 4 * 3 + timeLen * 2);\n        const indices = (this.indices = new Uint32Array(this.buf, 0, count));\n        for (let i = 0; i < count; i++) indices[i] = i;\n\n        this.coeffs = new Float32Array(this.buf, count * 4, count);\n        const offsets = (this.offsets = new Uint32Array(this.buf, count * 8, count));\n        const blocks = (this.blocks = new Int16Array(this.buf, count * 12));\n\n        const numCourses = classList.length;\n        let offset = 0;\n        for (let i = 0; i < count; i++) {\n            // record the current offset\n            offsets[i] = offset;\n\n            // sort the time blocks in order\n            const start = i * numCourses;\n            let bound = 8; // size does not contain offset\n            // no offset in j because arr2 also needs it\n            for (let j = 0; j < 7; j++) {\n                // start of the current day\n                const s1 = (blocks[j + offset] = bound);\n                for (let k = 0; k < numCourses; k++) {\n                    // offset of the time arrays\n                    const arrOffset = timeArrays[allChoices[start + k] * numCourses + k];\n                    const e2 = timeArrays[arrOffset + j + 1];\n                    // insertion sort, fast for small arrays\n                    for (let n = timeArrays[arrOffset + j]; n < e2; n += 3, bound += 3) {\n                        // p already contains offset\n                        let p = s1 + offset;\n                        const vToBeInserted = timeArrays[n],\n                            realBound = bound + offset; // the end of the current array\n                        for (; p < realBound; p += 3) {\n                            if (vToBeInserted < blocks[p]) break;\n                        }\n                        // move elements 3 slots toward the end\n                        // same as `blocks.copyWithin(p + 3, p, realBound);`, but faster\n                        for (let m = realBound - 1; m >= p; m--) blocks[m + 3] = blocks[m];\n                        // insert three elements at p\n                        blocks[p] = vToBeInserted;\n                        blocks[p + 1] = timeArrays[n + 1];\n                        blocks[p + 2] = timeArrays[n + 2];\n                    }\n                }\n            }\n            offset += blocks[offset + 7] = bound;\n        }\n    }\n\n    get size() {\n        return this.coeffs.length;\n    }\n\n    /**\n     * whether the random sort option is enabled\n     */\n    public isRandom() {\n        return this.options.sortBy.some(x => x.name === 'IamFeelingLucky' && x.enabled);\n    }\n\n    /**\n     * compute the coefficient array for a specific sorting option.\n     * if it exists, don't do anything\n     *\n     * @requires optimization\n     * @param funcName the name of the sorting option\n     * @param assign whether assign to the `coeff` field of each `CmpSchedule`\n     * @returns the computed/cached array of coefficients\n     */\n    public computeCoeffFor(funcName: keyof SortFunctions, assign: boolean): Float32Array {\n        const len = this.size;\n        const cache = this.sortCoeffCache[funcName];\n        if (cache) {\n            if (assign) this.coeffs.set(cache);\n            return cache;\n        } else {\n            console.time(funcName);\n            const newCache = new Float32Array(len);\n            const blocks = this.blocks,\n                offsets = this.offsets;\n            if (funcName === 'similarity') {\n                const evalFunc = ScheduleEvaluator.sortFunctions.similarity.bind(this);\n                for (let i = 0; i < len; i++) newCache[i] = evalFunc(i);\n            } else if (funcName === 'distance') {\n                const thresh = 45;\n                const evalFunc = ScheduleEvaluator.sortFunctions.distance;\n                const timeMatrix = this.timeMatrix;\n                for (let i = 0; i < len; i++)\n                    newCache[i] = evalFunc(timeMatrix, blocks, offsets[i], thresh);\n            } else {\n                const evalFunc = ScheduleEvaluator.sortFunctions[funcName];\n                for (let i = 0; i < len; i++) newCache[i] = evalFunc(blocks, offsets[i]);\n            }\n            this.sortCoeffCache[funcName] = newCache;\n            if (assign) this.coeffs.set(newCache);\n            console.timeEnd(funcName);\n            return newCache;\n        }\n    }\n\n    /**\n     * pre-compute the coefficient for each schedule using each enabled sorting function\n     * so that they don't need to be computed on the fly when sorting\n     * @requires optimization\n     */\n    public computeCoeff() {\n        if (this.isRandom()) return;\n\n        const [count, lastIdx] = this.countSortOpt();\n\n        // if there's only one option enabled, just compute coefficients for it and\n        // assign to the .coeff field for each schedule\n        if (count === 1) {\n            this.computeCoeffFor(this.options.sortBy[lastIdx].name, true);\n            return;\n        }\n\n        if (this.options.mode === SortMode.fallback) {\n            console.time('precomputing coefficients');\n            this.options.sortBy\n                .filter(x => x.enabled)\n                .forEach(x => {\n                    this.computeCoeffFor(x.name, false);\n                });\n            console.timeEnd('precomputing coefficients');\n        } else {\n            console.time('normalizing coefficients');\n            const options = this.options.sortBy.filter(x => x.enabled);\n            const len = this.size;\n            const coeffs = this.coeffs.fill(0);\n\n            // finding the minimum and maximum is quite fast for 1e6 elements, so not cached.\n            for (const option of options) {\n                const coeff = this.computeCoeffFor(option.name, false);\n\n                let max = -Infinity,\n                    min = Infinity;\n                for (let i = 0; i < len; i++) {\n                    const val = coeff[i];\n                    if (val > max) max = val;\n                    if (val < min) min = val;\n                }\n\n                const range = max - min;\n\n                // if all of the values are the same, skip this sorting coefficient\n                if (!range) {\n                    console.warn(range, option.name);\n                    continue;\n                }\n\n                const normalizeRatio = range / 100,\n                    weight = option.weight || 1;\n\n                // use Euclidean distance to combine multiple sorting coefficients\n                if (option.reverse) {\n                    for (let i = 0; i < len; i++) {\n                        coeffs[i] += weight * ((max - coeff[i]) / normalizeRatio) ** 2;\n                    }\n                } else {\n                    for (let i = 0; i < len; i++) {\n                        coeffs[i] += weight * ((coeff[i] - min) / normalizeRatio) ** 2;\n                    }\n                }\n            }\n            console.timeEnd('normalizing coefficients');\n        }\n    }\n\n    /**\n     * count the number of sort options enabled.\n     * @returns [number of sort options enabled, the index of the last enabled sort option]\n     */\n    public countSortOpt(): [number, number] {\n        let count = 0;\n        let lastIdx = -1;\n        for (let i = 0; i < this.options.sortBy.length; i++) {\n            const option = this.options.sortBy[i];\n            if (option.enabled) {\n                count++;\n                lastIdx = i;\n            }\n        }\n        return [count, lastIdx];\n    }\n\n    /**\n     * sort the array of schedules according to their quality coefficients which will be computed by `computeCoeff`\n     * @param opt.newOptions: pass in new sort options to override the current options\n     * @param opt.quick quick mode: use FloydRivest algorithm to select first\n     * 100 elements and then sort only these elements.\n     * @param opt.quickThresh Automatically enable quick mode if the length of schedules is greater than `quickThresh`\n     * @requires optimization\n     * @see {@link https://en.wikipedia.org/wiki/Floyd%E2%80%93Rivest_algorithm}\n     */\n    public sort({\n        newOptions,\n        quick = false,\n        quickThresh = 10000\n    }: {\n        newOptions?: EvaluatorOptions;\n        quick?: boolean;\n        quickThresh?: number;\n    } = {}) {\n        if (newOptions) this.options = newOptions;\n        this.computeCoeff();\n\n        console.time('sorting: ');\n\n        // reset indices\n        const _size = this.size;\n        const _indices = this.indices;\n        for (let i = 0; i < _size; i++) _indices[i] = i;\n\n        if (this.isRandom()) {\n            this.shuffle(this.indices);\n            console.timeEnd('sorting: ');\n            return;\n        }\n\n        const options = this.options.sortBy.filter(x => x.enabled);\n        const isCombined = this.options.mode === SortMode.combined;\n\n        /**\n         * The comparator function used:\n         *\n         * if only one option is enabled, the sort direction depends on the `reversed` property of it\n         *\n         * if multiple sort options are enabled and the sort mode is combined, which means\n         * `(!isCombined || options.length === 1)` is false, the `computeCoeff` method\n         * is already taken care of the sort direction of each function, so we sort in ascending order anyway\n         */\n        const coeffs = this.coeffs;\n        const cmpFunc: (a: number, b: number) => number =\n            options[0].reverse && (!isCombined || options.length === 1)\n                ? (a, b) => coeffs[b] - coeffs[a] // descending\n                : (a, b) => coeffs[a] - coeffs[b]; // ascending\n\n        if (isCombined || options.length === 1) {\n            if (quick || this.size > quickThresh) {\n                this.partialSort(this.indices, cmpFunc, 1000);\n            } else {\n                this.indices.sort(cmpFunc);\n            }\n        } else {\n            const len = options.length;\n\n            // if option[i] is reverse, ifReverse[i] will be -1 * weight\n            const ifReverse = new Float32Array(len).map((_, i) => (options[i].reverse ? -1 : 1));\n            const fbCoeffs = options.map(x => this.sortCoeffCache[x.name]!);\n            const func = (a: number, b: number) => {\n                let r = 0;\n                for (let i = 0; i < len; i++) {\n                    const coeff = fbCoeffs[i];\n                    // calculate the difference in coefficients\n                    r = ifReverse[i] * (coeff[a] - coeff[b]);\n\n                    // if non-zero, returns this coefficient\n                    if (r) return r;\n\n                    // otherwise, fallback to the next sort option\n                }\n                return r;\n            };\n            if (quick || this.size > quickThresh) {\n                this.partialSort(this.indices, func, 1000);\n            } else {\n                this.indices.sort(func);\n            }\n        }\n        console.timeEnd('sorting: ');\n    }\n\n    /**\n     * use FloydRivest selection algorithm to select `num` smallest elements.\n     * Then, sort these elements in order.\n     *\n     * @see https://en.wikipedia.org/wiki/Floyd%E2%80%93Rivest_algorithm\n     * @see https://github.com/mourner/quickselect\n     */\n    public partialSort(arr: Uint32Array, compare: (x: number, y: number) => number, num: number) {\n        const len = arr.length;\n\n        // no point to use quick select if num of elements to be selected is greater than half of the length\n        if (num >= len / 2) {\n            arr.sort(compare);\n        } else {\n            quickselect(arr, num, 0, len - 1, compare);\n            const slc = arr.slice(0, num).sort(compare);\n            for (let i = 0; i < num; i++) arr[i] = slc[i];\n        }\n    }\n\n    /**\n     * Get a `Schedule` object at idx\n     */\n    public getSchedule(idx: number) {\n        const numCourses = this.classList.length;\n        idx = this.indices[idx] * numCourses;\n        return new Schedule(\n            Array.from(this.allChoices.slice(idx, idx + numCourses)).map(\n                (choice, classNum) => this.classList[classNum][choice]\n            ),\n            this.events\n        );\n    }\n    /**\n     * whether this evaluator contains an empty array of schedules\n     */\n    public empty() {\n        return this.size === 0;\n    }\n\n    /**\n     * FisherYates shuffle algorithm\n     * @see https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\n     */\n    private shuffle(a: Uint32Array) {\n        for (let i = a.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            const x = a[i];\n            a[i] = a[j];\n            a[j] = x;\n        }\n        return a;\n    }\n}\nexport default ScheduleEvaluator;\n","/**\n * @author Hanzhi Zhou\n * @module models\n */\n\n/**\n *\n */\nimport { hashCode } from '../utils';\nimport Hashable from './Hashable';\nimport { CourseType } from './Meta';\nimport Section from './Section';\n\n/**\n * represents all public information of a Course\n */\nexport interface CourseFields {\n    readonly key: string;\n    /**\n     * department name, short form, all capitalized. e.g `CS`\n     */\n    readonly department: string;\n    /**\n     * Course number, e.g. `2150`\n     */\n    readonly number: number;\n    /**\n     * One of the keys of [[Meta.TYPES_PARSE]]\n     */\n    readonly type: string;\n    /**\n     * Units (credits), usually a number, but could be a range represented as a string like value\n     * @example\n     * \"1\", \"3\", \"2.5\", \"1 - 12\"\n     */\n    readonly units: string;\n    readonly title: string;\n    readonly description: string;\n\n    /**\n     * display name, e.g. ECON 2010 Lecture for courses and ECON 2010-001 Lecture for sections\n     */\n    readonly displayName: string;\n}\n\nexport interface Match<T extends string> {\n    readonly match: T;\n    /**\n     * start index of the match\n     */\n    readonly start: number;\n    /**\n     * end index + 1 of the match\n     */\n    readonly end: number;\n}\n\ntype CourseMatchField = 'title' | 'description' | 'key';\nexport type CourseMatch<T extends CourseMatchField = CourseMatchField> = Match<T>;\n\n/**\n * the model of a Course that has multiple sections. A Course object may have all or a subset of the sections,\n * depending on the array of section indices passed to its constructor.\n *\n * All course instances are immutable\n */\nexport default class Course implements CourseFields, Hashable {\n    public readonly key: string;\n    public readonly department: string;\n    public readonly number: number;\n    public readonly type: CourseType;\n    public readonly units: string;\n    public readonly title: string;\n    public readonly description: string;\n\n    /**\n     * Array of section ids contained in this object, sorted in ascending order.\n     * Can be all sections of a subset or the sections. This property is **non-enumerable**\n     */\n    public readonly sections: Section[];\n    public readonly isSubset: boolean;\n\n    /**\n     * @param raw the raw representation of this course\n     * @param key the key of this course, e.g. cs11105\n     * equal to (department + number + `Meta.TYPES_PARSE`\\[type\\]). see [[Meta.TYPES_PARSE]]\n     * @param ids A list of section indices\n     */\n    constructor(course: Course, public readonly ids: number[]) {\n        this.key = course.key;\n        this.department = course.department;\n        this.number = course.number;\n        this.type = course.type;\n        this.units = course.units;\n        this.title = course.title;\n        this.description = course.description;\n        this.sections = ids.reduce<Section[]>((acc, id) => {\n            const sec = course.sections.find(s => s.id === id);\n            if (!sec) throw new Error('Non-existent id ' + id);\n            acc.push(sec);\n            return acc;\n        }, []);\n        this.isSubset = true;\n    }\n\n    get displayName() {\n        return this.department + ' ' + this.number + ' ' + this.type;\n    }\n\n    /**\n     * get the first section **contained** in this course\n     */\n    public getFirstSection() {\n        return this.sections[0];\n    }\n\n    /**\n     * Get the Course containing only the given sections\n     */\n    public getCourse(ids: number[]) {\n        return new Course(this, ids);\n    }\n\n    public getSectionById(id: number) {\n        const sec = this.sections.find(s => s.id === id);\n        if (!sec) throw new Error('Non-existent id ' + id);\n        return sec;\n    }\n\n    /**\n     * whether all sections of this Course occur at the same time\n     */\n    public allSameTime() {\n        const sections = this.sections;\n        for (let i = 0; i < sections.length - 1; i++) {\n            if (!sections[i].sameTimeAs(sections[i + 1])) return false;\n        }\n        return true;\n    }\n\n    /**\n     * Get an object in which the key is the date string + days and\n     * value is the array of section indices contained in this Course occurring at that time.\n     * For example:\n     * ```js\n     * {\"08/27/2019 - 12/17/2019|MoTu 11:00AM-11:50AM|Fr 10:00AM - 10:50AM\" : [1,2,3,7,9]}\n     * ```\n     */\n    public getCombined() {\n        const combined: { [x: string]: Section[] } = {};\n        for (const section of this.sections) {\n            const str = section.combinedTime();\n            if (combined[str]) combined[str].push(section);\n            else combined[str] = [section];\n        }\n        return combined;\n    }\n\n    /**\n     * Returns a 32-bit integer hash for this Course.\n     * Hashes are different if the sections contained in this course are different\n     */\n    public hash() {\n        return hashCode(this.key);\n    }\n\n    public equals(object: object) {\n        if (object instanceof Course) {\n            return this.key === object.key && this.ids.toString() === object.ids.toString();\n        }\n        return false;\n    }\n\n    /**\n     * check whether the section is contained in this course\n     */\n    public has(section: Section): boolean;\n    /**\n     * check whether the set of sections indices with the given key\n     * exist in the section array contained in this course\n     * @param sections the Set of section indices\n     * @param key the key of the section\n     */\n    // eslint-disable-next-line no-dupe-class-members\n    public has(sections: Set<number>, key: string): boolean;\n    // eslint-disable-next-line no-dupe-class-members\n    public has(element: Section | Set<number>, key?: string): boolean {\n        if (element instanceof Set) {\n            return this.key === key && this.ids.some(id => element.has(id));\n        } else {\n            return this.key === element.key && this.ids.includes(element.id);\n        }\n    }\n}\n","/* eslint-disable import/export */\n/**\n * @author Hanzhi Zhou, Kaiying Cat\n * @module models\n */\n\n/**\n *\n */\nimport { MeetingDate, TimeArray } from '../algorithm';\nimport { hashCode, parseTimeAll } from '../utils';\nimport Course, { CourseFields, Match } from './Course';\nimport Hashable from './Hashable';\nimport Meeting from './Meeting';\nimport { CourseStatus, dayToInt } from './Meta';\n\n/**\n * last three bits of this number correspond to the three types of invalid sections,\n * as specified by [[Section.Validity]]\n *\n * flag & 0b1 !== 0 => Section.Validity[1]\n * flag & 0b10 !== 0 => Section.Validity[2]\n * flag & 0b100 !== 0 => Section.Validity[3]\n */\nexport type ValidFlag = number;\n\ntype SectionMatchFields = 'topic' | 'instructors';\nexport type SectionMatch<T extends SectionMatchFields = SectionMatchFields> = Match<T>;\n\n/**\n * fields of the section that must be created via `Object.create`\n */\nexport interface SectionFields {\n    /**\n     * reference to the course that this section belongs to. This property is **non-enumerable**\n     */\n    readonly course: Course;\n    /**\n     * Key of the course that this section belongs to; same for all sections.\n     */\n    readonly key: string;\n    /**\n     * the id of the section, must be globally unique\n     */\n    readonly id: number;\n    /**\n     * the section number recorded in sis\n     */\n    readonly section: string;\n    /**\n     * the topic of this section, may be empty\n     */\n    readonly topic: string;\n    /**\n     * one of \"Open\", \"Closed\" and \"Wait List\"\n     */\n    readonly status: CourseStatus;\n    readonly enrollment: number;\n    readonly enrollment_limit: number;\n    readonly wait_list: number;\n    /**\n     * array of instructor names (computed from meeting)\n     */\n    readonly instructors: readonly string[];\n    readonly dates: string;\n    readonly meetings: readonly Meeting[];\n\n    readonly valid: ValidFlag;\n    readonly dateArray: MeetingDate;\n}\n\n// use class-interface merging\n\nexport default interface Section extends SectionFields {}\n/**\n * A section contains all the fields that a Course has,\n * and it holds additional information specific to that section.\n *\n * All section instances are immutable. Additionally, they will never be duplicated.\n * They will only created using `Object.create`\n */\nexport default class Section implements CourseFields, Hashable {\n    public static readonly Validity = [\n        'Valid',\n        'Warning: Some meetings have incomplete information.',\n        'Fatal: This section has several different meeting dates.',\n        'Fatal: Some meetings have invalid start or end time.',\n        'Fatal: This section has unknown start and end date.'\n    ] as const;\n    // --------- getters for fields of the course ---------------------\n    get department() {\n        return this.course.department;\n    }\n    get number() {\n        return this.course.number;\n    }\n    get type() {\n        return this.course.type;\n    }\n    get units() {\n        return this.course.units;\n    }\n    get title() {\n        return this.course.title;\n    }\n    get description() {\n        return this.course.description;\n    }\n    get displayName() {\n        return `${this.department} ${this.number}-${this.section} ${this.type}`;\n    }\n    // --------- end getters for fields of the course ---------------------\n\n    /**\n     * convert [[Section.valid]] to human readable message\n     */\n    public get validMsg() {\n        let mask = 1;\n        let msg = '';\n        let count = 1;\n        for (let i = 1; i < Section.Validity.length; i++) {\n            if (this.valid & mask) {\n                msg += `${count++}. ${Section.Validity[i]} \\n`;\n            }\n            mask <<= 1;\n        }\n        return msg;\n    }\n\n    public sameTimeAs(other: Section) {\n        const len = this.meetings.length;\n        if (len !== other.meetings.length) return false;\n        return this.meetings.every((x, i) => x.days === other.meetings[i].days);\n    }\n\n    /**\n     * @returns all meeting times of this section concatenated together\n     * and concatenated by their dates\n     */\n    public combinedTime() {\n        return this.meetings.reduce((acc, v) => acc + '|' + v.days, this.dates);\n    }\n\n    /**\n     * @remarks The hashes of all sections of a Course by design are equal to each other.\n     * @returns the hash of the Course that this section belongs to.\n     */\n    public hash() {\n        return hashCode(this.key);\n    }\n\n    /**\n     * get the time and room of this section's meetings as [[TimeArray]]\n     */\n    public getTimeRoom(): TimeArray | null {\n        // arrays of times and rooms in each day\n        const dayArray: number[][] = [[], [], [], [], [], [], []];\n\n        // there may be multiple meeting times. parse each of them and add to tmp_dict\n        const searcher = window.buildingSearcher;\n        for (const meeting of this.meetings) {\n            const t = meeting.days;\n            // skip empty string\n            if (!t) continue;\n\n            // parse the meeting time\n            const tmp1 = parseTimeAll(t);\n\n            // skip TBA or ill-formated time\n            if (tmp1 === null) return null;\n            const [date, timeBlock] = tmp1;\n\n            // for each day\n            for (const day of date) {\n                const dayBlock = dayArray[dayToInt[day]];\n\n                // the timeBlock is flattened\n                dayBlock.push(...timeBlock);\n\n                const [idx, rating] = searcher.search(meeting.room);\n                // we set the match threshold to 0.4\n                if (rating >= 0.4) {\n                    dayBlock.push(idx);\n                } else {\n                    // mismatch!\n                    console.warn(meeting.room, 'match not found!');\n                    dayBlock.push(-1);\n                }\n            }\n        }\n\n        // convert iliffe vector to array\n        const timeBlocks = new Int16Array(dayArray.reduce((acc, arr) => acc + arr.length, 8));\n        let count = 0;\n        for (let i = 0; i < 7; i++) {\n            timeBlocks[i] = count + 8;\n            timeBlocks.set(dayArray[i], count + 8);\n            count += dayArray[i].length;\n        }\n        timeBlocks[7] = timeBlocks.length;\n        return timeBlocks;\n    }\n\n    public equals(sc: Section): boolean {\n        if (this.key === sc.key && this.id === sc.id) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * check whether given section is equals to this section\n     */\n    public has(section: Section): boolean;\n    /**\n     * check whether this section exists in the set of sections indices with the given key\n     * @param sections\n     * @param key\n     */\n    // eslint-disable-next-line\n    public has(sections: Set<number>, key: string): boolean;\n    // eslint-disable-next-line\n    public has(element: Section | Set<number>, key?: string): boolean {\n        if (element instanceof Set) return this.key === key && element.has(this.id);\n        else return this.equals(element);\n    }\n}\n","/**\n * @module algorithm\n * @author Hanzhi Zhou, Zichao Hu, Kaiying Cat\n */\n\n/**\n *\n */\nimport { CourseStatus } from '../models/Meta';\nimport { NotiMsg } from '../store/notification';\nimport Event from '../models/Event';\nimport Schedule, { ScheduleAll } from '../models/Schedule';\nimport { calcOverlap, checkTimeConflict, parseDate } from '../utils';\nimport ScheduleEvaluator, { EvaluatorOptions } from './ScheduleEvaluator';\n\n/**\n * The blocks is a condensed fixed-length array\n * storing the time and room information of the a schedule at each day.\n * Index from 0 to 6 represents the index of information from Monday to Sunday.\n * Index 7 is the length of the array, which is there for convenience.\n * Example:\n * ```js\n * const timeArr = [\n *   7, 7, 7, 7, 13, 13, 13, 13, //indices\n *   600, 660, 11, 900, 960, // Monday\n *   1200, 1260, 12 // Friday\n * ]\n * ```\n * represents that this entity will take place\n * every Monday 10:00 to 11:00 at room index 11, 15:00 to 16:00 at room 2,\n * and Friday 20:00 to 21:00 at room 12\n *\n * a typical loop that visits these info is shown below\n * ```js\n * for (let i = 0; i < 7; i++){\n *   const dayEnd = timeArr[i+1];\n *   for (let j = timeArr[i]; j < dayEnd; j+=3) {\n *     const timeStart = timeArr[j],\n *           timeEnd   = timeArr[j+1],\n *           roomIdx   = timeArr[j+2];\n *     // do some processing\n *   }\n * }\n * ```\n */\nexport type TimeArray = Int16Array;\n/**\n * Start and end date in millisecond (obtained via `Date.getTime`)\n */\nexport type MeetingDate = [number, number];\n\n/**\n * The data structure used in the algorithm to represent a Course that\n * possibly has multiple sections combined (occurring at the same time)\n *\n * 0: key of this course\n * 1: an array of section indices\n *\n * Example:\n * ```js\n * [\"span20205\", [0, 1, 2]]\n * ```\n */\nexport type RawAlgoCourse = [string, number[]];\n\n/**\n * returns an array with all time arrays in `timeArrayList` concatenated together. The offsets\n * of time array of section `i` of course `j` is at `i * numCourse + j` position of the resulting array.\n */\nexport function timeArrayToCompact(timeArrayList: TimeArray[][], timeArrLens: Uint8Array) {\n    const len = timeArrLens.length;\n    let offset = 0;\n    for (let i = 0; i < len; i++) offset += timeArrLens[i];\n    const compact = new Int32Array(len + offset);\n\n    const numCourses = timeArrayList.length;\n    offset = len;\n    for (let i = 0; i < numCourses; i++) {\n        const arr = timeArrayList[i];\n        for (let j = 0; j < arr.length; j++) {\n            const time = arr[j];\n            const size = time.length;\n            compact[j * numCourses + i] = offset;\n            let k = 0;\n            for (; k < 8; k++) {\n                compact[offset + k] = time[k] + offset; // add offset to the first 8 elements\n            }\n            for (; k < size; k++) {\n                compact[offset + k] = time[k];\n            }\n            offset += size;\n        }\n    }\n    return compact;\n}\n\n/**\n * record the length of `timeArrayList[crs][sec]` at `timeArrLens[sec * numCourses + crs]`,\n * exported for unit test purposes\n */\nexport function computeTimeArrLens(timeArrayList: TimeArray[][], timeArrLens: Uint8Array) {\n    const numCourses = timeArrayList.length;\n    for (let i = 0; i < numCourses; i++) {\n        const arrs = timeArrayList[i];\n        const len = arrs.length;\n        for (let j = 0; j < len; j++) {\n            timeArrLens[j * numCourses + i] = arrs[j].length;\n        }\n    }\n}\n\n/**\n * pre-compute `conflictCache` using `timeArrayList` and `dateList`\n */\nfunction computeConflict(\n    timeArrayList: TimeArray[][],\n    dateList: MeetingDate[][],\n    conflictCache: Uint8Array,\n    sideLen: number\n) {\n    const numCourses = timeArrayList.length;\n    // pre-compute the conflict between each pair of sections\n    for (let i = 0; i < numCourses; i++) {\n        for (let j = i + 1; j < numCourses; j++) {\n            const arrs1 = timeArrayList[i],\n                arrs2 = timeArrayList[j],\n                dates1 = dateList[i],\n                dates2 = dateList[j],\n                len1 = arrs1.length,\n                len2 = arrs2.length;\n            for (let m = 0; m < len1; m++) {\n                for (let n = 0; n < len2; n++) {\n                    const i1 = m * numCourses + i, // courses are in the columns\n                        i2 = n * numCourses + j;\n                    // conflict is symmetric\n                    conflictCache[i1 * sideLen + i2] = conflictCache[i2 * sideLen + i1] = +(\n                        checkTimeConflict(arrs1[m], arrs2[n], 3, 3) &&\n                        calcOverlap(dates1[m][0], dates1[m][1], dates2[n][0], dates2[n][1]) !== -1\n                    );\n                }\n            }\n        }\n    }\n}\n\nexport interface GeneratorOptions {\n    timeSlots: Event[];\n    status: CourseStatus[];\n    sortOptions: EvaluatorOptions;\n    combineSections: boolean;\n    maxNumSchedules: number;\n}\n\n/**\n * The schedule generator generates all possible schedules satisfying the given constraints (filters)\n * out of the courses/sections that the user has selected\n */\nclass ScheduleGenerator {\n    constructor(\n        public readonly catalog: Window['catalog'],\n        public readonly timeMatrix: Window['timeMatrix'],\n        public readonly options: GeneratorOptions\n    ) {}\n\n    /**\n     * The entrance of the schedule generator\n     * @returns a sorted [[ScheduleEvaluator]] Object\n     * @requires optimization\n     * @remarks The use of data structure assumes that\n     * 1. Each course has no more than 255 sections\n     * 2. Each section meets no more than 82 times in a week\n     */\n    public getSchedules(\n        schedule: Schedule,\n        sort = true,\n        refSchedule: ScheduleAll<Set<number>> = {}\n    ): NotiMsg<ScheduleEvaluator> {\n        console.time('algorithm bootstrapping');\n\n        // convert events to TimeArrays so that we can easily check for time conflict\n        const timeSlots: TimeArray[] = schedule.events.map(e => e.toTimeArray());\n        for (const event of this.options.timeSlots) timeSlots.push(event.toTimeArray());\n\n        const classList: RawAlgoCourse[][] = [];\n        const timeArrayList: TimeArray[][] = [];\n        const dateList: MeetingDate[][] = [];\n\n        const courses = schedule.All;\n\n        // for each course selected, form an array of sections\n        for (const key in courses) {\n            const classes: RawAlgoCourse[] = [],\n                timeArrays: TimeArray[] = [],\n                dates: MeetingDate[] = [];\n\n            // get course with specific sections specified by Schedule\n            const courseRec = this.catalog.getCourse(key, courses[key]);\n\n            // combine all sections of this course occurring at the same time, if enabled\n            const combined = this.options.combineSections\n                ? Object.values(courseRec.getCombined())\n                : courseRec.sections.map(s => [s]);\n\n            // for each combined section, form a RawAlgoCourse\n            outer: for (const sections of combined) {\n                // only take the time and room info of the first section\n                // time will be the same for sections in this array\n                // but rooms..., well this is a compromise\n                const date = parseDate(sections[0].dates);\n                if (!date) continue;\n\n                const timeArray = sections[0].getTimeRoom();\n                if (!timeArray) continue;\n\n                // don't include this combined section if it conflicts with any time filter or event.\n                for (const td of timeSlots) {\n                    if (checkTimeConflict(td, timeArray, 2, 3)) continue outer;\n                }\n\n                const secIndices: number[] = [];\n                for (const section of sections) {\n                    // filter out sections with unwanted status\n                    if (this.options.status.includes(section.status)) continue;\n\n                    secIndices.push(section.id);\n                }\n\n                if (secIndices.length) {\n                    classes.push([key, secIndices]);\n                    timeArrays.push(timeArray);\n                    dates.push(date);\n                }\n            }\n\n            // throw an error of none of the sections pass the filter\n            if (classes.length === 0) {\n                return {\n                    level: 'error',\n                    msg: `No sections of ${courseRec.department} ${courseRec.number} ${courseRec.type} satisfy your filters and do not conflict with your events`\n                };\n            }\n            classList.push(classes);\n            timeArrayList.push(timeArrays);\n            dateList.push(dates);\n        }\n\n        const numCourses = classList.length; // number of courses\n        const maxLen = Math.max(...classList.map(c => c.length)); // the maximum number of sections in each course\n        const sideLen = maxLen * numCourses; // the side length of the conflict cache matrix\n        const buffer = new ArrayBuffer(\n            numCourses + // sectionLens\n            sideLen + // timeArrLens\n                sideLen * sideLen // conflictCache\n        );\n        // cache for the number of sections in each course\n        const sectionLens = new Uint8Array(buffer, 0, numCourses);\n        for (let i = 0; i < numCourses; i++) sectionLens[i] = classList[i].length;\n        /**\n         * the cache of the length of TimeArray for each section.\n         * ```js\n         * len = timeArrLens[sectionIdx * numCourses + courseIdx]\n         * ```\n         */\n        const timeArrLens = new Uint8Array(buffer, numCourses, maxLen * numCourses);\n        /**\n         * the conflict cache matrix, a 4d tensor. Indexed like this:\n         * ```js\n         * conflictCache[section1][course1][section2][course2]\n         * // which is in fact\n         * conflictCache[(section1 * numCourses + course1) * sideLen + (section2 * numCourses + course2)]\n         * ```\n         */\n        const conflictCache = new Uint8Array(buffer, numCourses + sideLen, sideLen ** 2);\n\n        computeTimeArrLens(timeArrayList, timeArrLens);\n\n        computeConflict(timeArrayList, dateList, conflictCache, sideLen);\n\n        const { maxNumSchedules } = this.options;\n        // the array used to record all schedules generated\n        const allChoices = new Uint8Array(numCourses * maxNumSchedules);\n        console.timeEnd('algorithm bootstrapping');\n\n        console.time('running algorithm:');\n        const [count, timeLen] = this.computeSchedules(\n            sectionLens,\n            timeArrLens,\n            conflictCache,\n            allChoices,\n            maxNumSchedules\n        );\n        console.timeEnd('running algorithm:');\n\n        console.time('add to eval');\n        const evaluator = new ScheduleEvaluator(\n            this.options.sortOptions,\n            this.timeMatrix,\n            schedule.events,\n            classList,\n            allChoices,\n            refSchedule,\n            timeArrayToCompact(timeArrayList, timeArrLens),\n            count,\n            timeLen\n        );\n        const size = evaluator.size;\n        if (size > 0) {\n            console.timeEnd('add to eval');\n            if (sort) evaluator.sort();\n            return {\n                level: 'success',\n                msg: `${size} Schedules Generated!`,\n                payload: evaluator\n            };\n        }\n        console.timeEnd('add to eval');\n        return {\n            level: 'error',\n            msg: 'Given your filter, we cannot generate schedules without overlapping classes'\n        };\n    }\n\n    /**\n     * the main algorithm loop: generate all possible schedules based on the pre-computed information\n     * @remarks this method does the most computation. It is made extremely efficient\n     * by only operating on integers and typed integer arrays. Can be easily ported to C++\n     * @returns [number of schedules generated, the length of time arrays of schedules in total]\n     */\n    private computeSchedules(\n        sectionLens: Uint8Array,\n        timeArrLens: Uint8Array,\n        conflictCache: Uint8Array,\n        allChoices: Uint8Array,\n        maxNumSchedules: number\n    ) {\n        const numCourses = sectionLens.length;\n        const sideLen = timeArrLens.length;\n\n        const buffer = new ArrayBuffer(numCourses * 2);\n        // record the index of sections that are already tested\n        const pathMemory = new Uint8Array(buffer, 0, numCourses);\n        // the choiceNum array corresponding to the currentSchedule\n        const currentChoices = new Uint8Array(buffer, numCourses, numCourses);\n\n        // the total length of the time array that we need to allocate for schedules generated\n        let timeLen = 0;\n        let classNum = 0; // current course index\n        let choiceNum = 0; // the index of the section of the current course\n        let count = 0; // the total number of schedules already generated\n\n        outer: while (true) {\n            if (classNum >= numCourses) {\n                const start = count * numCourses;\n                // accumulate the length of the time arrays combined in each schedule\n                // also append currentChoices to allChoices\n                for (let i = 0; i < numCourses; i++)\n                    timeLen +=\n                        timeArrLens[(allChoices[start + i] = currentChoices[i]) * numCourses + i];\n\n                if (++count >= maxNumSchedules) break outer;\n                choiceNum = pathMemory[--classNum];\n            }\n\n            /**\n             * when all possibilities in on class have exhausted, retract one class\n             * explore the next possibilities in the previous class\n             * reset the memory path forward to zero\n             */\n            while (choiceNum >= sectionLens[classNum]) {\n                // if all possibilities are exhausted, break out the loop\n                if (--classNum < 0) break outer;\n\n                choiceNum = pathMemory[classNum];\n                for (let i = classNum + 1; i < numCourses; i++) pathMemory[i] = 0;\n            }\n\n            // check conflict between the newly chosen section and the sections already in the schedule\n            for (let i = 0; i < classNum; i++) {\n                if (\n                    conflictCache[\n                        (choiceNum * numCourses + classNum) * sideLen +\n                            currentChoices[i] * numCourses +\n                            i\n                    ]\n                ) {\n                    ++choiceNum;\n                    continue outer;\n                }\n            }\n\n            // if the section does not conflict with any previously chosen sections,\n            // increment the path memory and go to the next class, reset the choiceNum = 0\n            currentChoices[classNum] = choiceNum;\n            pathMemory[classNum++] = choiceNum + 1;\n            choiceNum = 0;\n        }\n        return [count, timeLen - (numCourses - 1) * 8 * count] as const;\n    }\n}\n\nexport default ScheduleGenerator;\n","import { SemesterJSON } from '@/models/Catalog';\nimport { CourseFields } from '@/models/Course';\nimport Dexie from 'dexie';\nimport { SectionFields } from '../models/Section';\n\nexport interface CourseTableItem extends Omit<CourseFields, 'displayName'> {\n    ids: number[];\n}\n// no back ref in db\nexport interface SectionTableItem extends Omit<SectionFields, 'course'> {}\n\nexport default class CatalogDB extends Dexie {\n    courses: Dexie.Table<CourseTableItem, string>;\n    sections: Dexie.Table<SectionTableItem, number>;\n    meta: Dexie.Table<{ time: number; id: 0 }, 0>;\n\n    constructor(semester: SemesterJSON) {\n        super(`db_${semester.id}`);\n        this.version(1).stores({\n            courses: 'key',\n            sections: 'id',\n            meta: 'id'\n        });\n        this.courses = this.table('courses');\n        this.sections = this.table('sections');\n        this.meta = this.table('meta');\n    }\n\n    async empty() {\n        const [a, b] = await Promise.all([this.courses.count(), this.sections.count()]);\n        return a === 0 || b === 0;\n    }\n\n    async timestamp() {\n        return (await this.meta.get(0))!.time;\n    }\n\n    async saveTimeStamp() {\n        await this.meta.put({ id: 0, time: Date.now() });\n    }\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportView.vue?vue&type=style&index=0&id=c7100c88&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportView.vue?vue&type=style&index=0&id=c7100c88&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridSchedule.vue?vue&type=style&index=0&id=9fad04cc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GridSchedule.vue?vue&type=style&index=0&id=9fad04cc&scoped=true&lang=css&\""],"sourceRoot":""}